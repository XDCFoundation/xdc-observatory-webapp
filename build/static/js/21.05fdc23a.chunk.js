(this["webpackJsonpxinfin-observatory-web-app"]=this["webpackJsonpxinfin-observatory-web-app"]||[]).push([[21],{1001:function(n,e){},1002:function(n,e){},1007:function(n,e){},1008:function(n,e){},1009:function(n,e){},1010:function(n,e){},1011:function(n,e){},1015:function(n,e){},1016:function(n,e){},1022:function(n,e){},1023:function(n,e){},1025:function(n,e){},1026:function(n,e){},1027:function(n,e){},1028:function(n,e){},885:function(n,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return _}));var a,i,r,c,o,l,s,u,d,f,p,m,x,b,g,v,h,w=t(19),j=t.n(w),O=t(43),E=t(29),y=t(56),k=t(10),F=t(23),A=t(0),z=t.n(A),S=t(24),C=t(17),I=t(886),R=t.n(I),D=t(265),J=t(46),N=t(670),B=S.default.div(a||(a=Object(F.a)(["\n  font-weight: 400;\n  color: #212529;\n  border: solid 1px #dfe2e8;\n  cursor: pointer;\n  font-size: 1rem;\n  line-height: 1.5;\n  border-radius: 4px;\n  height: ",";\n  transition: height 0.5s ease-out;\n"])),(function(n){return n.isActive?"auto":"50px"})),q=S.default.div(i||(i=Object(F.a)(["\n  color: #343a40 !important;\n  height: 50px;\n  background-color: #f8f9fa !important;\n  display: flex;\n  flex-flow: row;\n  border-bottom: solid 1px #dfe2e8;\n  padding: 15px;\n  border-radius: 4px;\n  justify-content: space-between;\n  align-items: center;\n"]))),H=S.default.div(r||(r=Object(F.a)(["\n  color: #3a3a3a;\n  font-family: Inter;\n  font-size: 15px;\n  font-weight: 600;\n  text-align: left;\n  @media (min-width: 0px) and (max-width: 767px) {\n    font-size: 14px;\n  }\n"]))),L=S.default.img(c||(c=Object(F.a)(["\n  transform: ",";\n  transition: transform 0.5s ease-in-out;\n"])),(function(n){return n.isActive?"rotate(90deg)":""})),M=S.default.div(o||(o=Object(F.a)(["\n  display: flex;\n  flex-flow: column;\n  gap: 15px;\n  background-color: white;\n  padding: 15px;\n"]))),T=S.default.div(l||(l=Object(F.a)(["\n  color: #343a40 !important;\n  font-weight: bold;\n  font-size: 15px;\n  @media (min-width: 0px) and (max-width: 767px) {\n    font-size: 14px;\n  }\n"]))),W=S.default.div(s||(s=Object(F.a)(["\n  word-wrap: break-word;\n  font-size: 15px;\n  color: #3a3a3a;\n  font-weight: 500;\n  @media (min-width: 0px) and (max-width: 767px) {\n    font-size: 14px;\n  }\n"]))),X=S.default.div(u||(u=Object(F.a)(["\n  background-color: #dfe2e8;\n  height: 1px;\n"]))),G=S.default.div(d||(d=Object(F.a)(["\n  padding: 0 1.875rem 1.875rem 1.875rem;\n  display: flex;\n  flex-flow: column;\n  gap: 15px;\n  @media (min-width: 0px) and (max-width: 1240px) {\n    padding: 0 15px 15px 15px;\n  }\n"]))),K=S.default.div(f||(f=Object(F.a)(["\n  display: flex;\n  flex-flow: column;\n  gap: 15px;\n  @media (min-width: 0px) and (max-width: 767px) {\n    font-size: 14px;\n  }\n"]))),P=S.default.div(p||(p=Object(F.a)(["\n  font-family: Inter;\n  font-size: 14px;\n  font-weight: 600;\n  text-align: left;\n  color: #3a3a3a;\n  @media (min-width: 0px) and (max-width: 767px) {\n    font-size: 13px;\n  }\n"]))),Q=S.default.input(m||(m=Object(F.a)(["\n  color: #343a40 !important;\n  font-size: 13px;\n  min-height: 35px;\n  min-width: 100px;\n  outline: none;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n  border-radius: 5px;\n  padding: 5px;\n\n  :active {\n    outline: none;\n  }\n  :hover {\n    outline: none;\n  }\n"]))),U=S.default.button(x||(x=Object(F.a)(["\n  border-radius: 4px;\n  background-color: ",";\n  border: ",";\n  width: 80px;\n  cursor: ",";\n  height: 30px;\n  font-size: 15px;\n  font-weight: 600;\n  width: 150px;\n  height: 45px;\n  color: white;\n  @media (min-width: 0px) and (max-width: 767px) {\n    font-size: 14px;\n  }\n"])),(function(n){return n.isActive?"#e5eafa":"#3763dd"}),(function(n){return n.isActive?"solid 1px #3763dd":""}),(function(n){return n.isActive?"":"pointer"})),V=S.default.div(b||(b=Object(F.a)(["\n  font-size: 12px;\n  color: red;\n"]))),Y=S.default.div(g||(g=Object(F.a)(["\n  display: flex;\n  font-family: Inter;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  text-align: left;\n  color: #2149b9;\n"]))),Z=S.default.div(v||(v=Object(F.a)(["\n  width: 100%;\n  display: flex;\n  flex-flow: row;\n  padding: 1.875rem;\n  align-items: center;\n  justify-content: space-between;\n  @media (min-width: 0px) and (max-width: 767px) {\n    flex-flow: column;\n    padding: 15px;\n    gap: 15px;\n    align-items: flex-start;\n  }\n  @media (min-width: 767px) and (max-width: 1240px) {\n    padding: 15px;\n    gap: 15px;\n  }\n"]))),$=S.default.div(h||(h=Object(F.a)(["\n  display: flex;\n  flex-flow: row;\n  align-items: center;\n  gap: 5px;\n"])));function _(n){var e=z.a.useState({readResponses:[],readFunctions:[],contractAddress:"",loading:!1,error:"",isExpand:!1}),t=Object(k.a)(e,2),a=t[0],i=t[1];z.a.useEffect((function(){var e=n.contractData?n.contractData:{};e.abi=JSON.parse(e.abi?e.abi:JSON.stringify([]));var t=e.abi.filter((function(n){return n.stateMutability==C.a.view}));t=t.map((function(n){return Object(y.a)(Object(y.a)({},n),{},{isActive:!1,response:{},loading:!1,error:"",params:r(n)})})),i(Object(y.a)(Object(y.a)({},a),{},{readFunctions:t,contractAddress:e.address?e.address.replace("xdc","0x"):""}))}),[n.contractData]);var r=function(n){var e={};return n.inputs.map((function(n){e[n.name]=""})),e},c=function(){var n=Object(E.a)(j.a.mark((function n(e,t,r){var c,o,l,s,u,d,f,p,m,x=arguments;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=x.length>3&&void 0!==x[3]&&x[3],o=x.length>4?x[4]:void 0,l=x.length>5&&void 0!==x[5]&&x[5],s=Object(O.a)(a.readFunctions),!t){n.next=9;break}return s[e].isActive=!1,s[e].response={},i(Object(y.a)(Object(y.a)({},a),{},{readFunctions:s})),n.abrupt("return");case 9:if(n.prev=9,s[e].loading=!0,i(Object(y.a)(Object(y.a)({},a),{},{readFunctions:s,loading:l})),r){n.next=27;break}if(d=s[e].name,f=new R.a("wss://LeewayHertzXDCWS.BlocksScan.io"),p=new f.eth.Contract(s,a.contractAddress),!c){n.next=22;break}return n.next=19,(u=p.methods)[d].apply(u,Object(O.a)(o)).call();case 19:n.t0=n.sent,n.next=25;break;case 22:return n.next=24,p.methods[d]().call();case 24:n.t0=n.sent;case 25:m=n.t0,s[e].response={method:d,index:e,response:m};case 27:s[e].isActive=!0,s[e].loading=!1,i(Object(y.a)(Object(y.a)({},a),{},{readFunctions:s})),n.next=38;break;case 32:n.prev=32,n.t1=n.catch(9),s[e].loading=!1,s[e].error="Transaction failed",console.log(n.t1),i(Object(y.a)(Object(y.a)({},a),{},{readFunctions:s}));case 38:case"end":return n.stop()}}),n,null,[[9,32]])})));return function(e,t,a){return n.apply(this,arguments)}}(),o=function(){var n=Object(E.a)(j.a.mark((function n(){var e,t,r;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=Object(O.a)(a.readFunctions),n.next=3,i(Object(y.a)(Object(y.a)({},a),{},{loading:!0}));case 3:t=0;case 4:if(!(t<a.readFunctions.length)){n.next=20;break}if(!(r=a.readFunctions[t]).isActive){n.next=9;break}return e[t]=r,n.abrupt("continue",17);case 9:if(!r.inputs.length){n.next=15;break}e[t].isActive=!0,e[t].response={},i(Object(y.a)(Object(y.a)({},a),{},{readFunctions:e,loading:!0})),n.next=17;break;case 15:return n.next=17,c(t,!1,!1,!1,!0);case 17:t++,n.next=4;break;case 20:i(Object(y.a)(Object(y.a)({},a),{},{readFunctions:e,loading:!1,isExpand:!0}));case 21:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return z.a.createElement(D.a,{style:{borderRadius:"14px",boxShadow:" 0 1px 10px 0 rgba(0, 0, 0, 0.1)"},elevation:0},z.a.createElement(Z,null,z.a.createElement($,null,z.a.createElement("img",{src:"/images/contract.svg"}),z.a.createElement(T,null,"Read Contract Information")),z.a.createElement(J.Row,{style:{gap:20},alignItems:"center"},a.loading?z.a.createElement(N.a,{size:20}):a.isExpand?z.a.createElement(Y,{onClick:function(){return function(){var n=a.readFunctions.map((function(n){return Object(y.a)(Object(y.a)({},n),{},{isActive:!1,response:{},loading:!1,error:""})}));i(Object(y.a)(Object(y.a)({},a),{},{readFunctions:n,isExpand:!1}))}()}},"Collapse all"):z.a.createElement(Y,{onClick:function(){return o()}},"Expand all"),z.a.createElement($,{onClick:function(){return function(){var n=a.readFunctions.map((function(n){return Object(y.a)(Object(y.a)({},n),{},{response:{},params:r(n)})}));i(Object(y.a)(Object(y.a)({},a),{},{readFunctions:n}))}()}},z.a.createElement(Y,null,"Reset"),z.a.createElement("img",{src:"/images/reset.svg"})))),z.a.createElement(G,null,a.readFunctions&&a.readFunctions.length?a.readFunctions.map((function(n,e){return z.a.createElement(nn,{item:n,index:e,setState:i,state:a,handleFunctionClick:c})})):""))}var nn=function(n){var e=n.item,t=n.index,a=n.state,i=n.handleFunctionClick,r=n.setState;return z.a.createElement(B,{isActive:e.isActive,key:t},z.a.createElement(q,{onClick:function(){return i(t,e.isActive,e.inputs.length>0,!1,!1,!1)}},z.a.createElement(H,null,"".concat(t+1,". ").concat(e.name)),z.a.createElement(J.Row,{style:{gap:10},alignItems:"center"},e.loading&&0===e.inputs.length?z.a.createElement(N.a,{size:10}):"",z.a.createElement(L,{isActive:e.isActive,src:"/images/next.svg"}))),e.isActive?z.a.createElement(M,null,e.inputs.length>0?z.a.createElement(en,{itemIndex:t,state:a,setState:r,functionDetail:e,handleSubmit:i}):z.a.createElement(an,{item:e})):"")},en=function(n){var e,t=n.functionDetail,a=n.handleSubmit,i=n.itemIndex,r=n.setState,c=n.state,o=z.a.useState({}),l=Object(k.a)(o,2),s=l[0],u=l[1],d=t.error?t.error:"";z.a.useEffect((function(){u(t.params)}),[t.params]);var f=function(n,e){var t=c.readFunctions;t[e].error=n,r(Object(y.a)(Object(y.a)({},c),{},{readFunctions:t}))};return z.a.createElement(z.a.Fragment,null,t.inputs.map((function(n,e){return z.a.createElement(K,{key:e},z.a.createElement(P,null,n.name),z.a.createElement(Q,{placeholder:n.type,value:s[n.name],onChange:function(e){return function(n,e,t){n.includes("xdc")&&(n=n.replace(/^.{3}/g,"0x")),f("",i);var a=s;a[e]="uint256"===t?Number(n):n,u(a)}(e.target.value,n.name,n.type)}}))})),z.a.createElement(U,{onClick:function(){return function(){var n=Object.values(s).findIndex((function(n){return 0==String(n).length}));if(-1===n){for(var e=Object(y.a)({},s),r=function(n){var a=Object.keys(s)[n],r=t.inputs.find((function(n){return n.name==a}));if("bool"==r.type)e[a]=Boolean(e[a]);else if(r.type.includes("uint"))try{tn(e[a]),e[a]=e[a]}catch(d){return f("Invalid value for type "+r.type,i),{v:void 0}}else if(r.type.includes("map"))try{e[a]=JSON.parse(e[a])}catch(d){}else e[a]=e[a]},c=0;c<Object.keys(s).length;c++){var o=r(c);if("object"===typeof o)return o.v}a(i,!1,!1,!0,Object.values(e))}else f("".concat(Object.keys(s)[n]," is required field"),i)}()},disabled:t.loading,isActive:t.loading},t.loading?z.a.createElement(N.a,{size:20}):"Submit"),d?z.a.createElement(V,null,d):"",(null===t||void 0===t||null===(e=t.response)||void 0===e?void 0:e.response)?z.a.createElement(an,{item:t}):"")},tn=function(n){if(Number(n)===n&&n%1!==0)throw"Invalid input"},an=function(n){var e,t=n.item;return z.a.createElement(z.a.Fragment,null,z.a.createElement(W,null,null===t||void 0===t||null===(e=t.response)||void 0===e?void 0:e.response),z.a.createElement(X,null),z.a.createElement(P,null,"Return:"),z.a.createElement(W,null,t.outputs.map((function(n){return n.type})).join(",")))}},957:function(n,e){},958:function(n,e){},998:function(n,e){},999:function(n,e){}}]);
//# sourceMappingURL=21.05fdc23a.chunk.js.map