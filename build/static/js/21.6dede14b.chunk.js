(this["webpackJsonpxinfin-observatory-web-app"]=this["webpackJsonpxinfin-observatory-web-app"]||[]).push([[21],{891:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return _}));var a,r,i,o,c,u,d,l,s,f,p,m,x,b,h,g,v,w=t(20),j=t.n(w),O=t(44),k=t(28),E=t(41),y=t(10),F=t(21),A=t(0),z=t.n(A),S=t(24),C=t(9),I=t(869),R=t.n(I),D=t(273),J=t(48),N=t(399),B=S.default.div(a||(a=Object(F.a)(["\n  font-weight: 400;\n  color: #212529;\n  border: solid 1px #dfe2e8;\n  cursor: pointer;\n  font-size: 1rem;\n  line-height: 1.5;\n  border-radius: 4px;\n  height: ",";\n  transition: height 0.5s ease-out;\n  ","\n"])),(function(e){return e.isActive?"auto":"50px"}),(function(e){return"dark"===e.theme&&"\n    border: none;\n  "})),q=S.default.div(r||(r=Object(F.a)(["\n  color: #343a40 !important;\n  height: 50px;\n  background-color: #f8f9fa !important;\n  display: flex;\n  flex-flow: row;\n  border-bottom: solid 1px #dfe2e8;\n  padding: 15px;\n  border-radius: 4px;\n  justify-content: space-between;\n  align-items: center;\n  ","\n"])),(function(e){return"dark"===e.theme&&"\n    background-color: #3f4966 !important;\n    border: solid 1px #3552a5;\n    outline: none;\n  "})),H=S.default.div(i||(i=Object(F.a)(["\n  color: #3a3a3a;\n  font-family: Inter;\n  font-size: 15px;\n  font-weight: 600;\n  text-align: left;\n  ","\n  @media (min-width: 0px) and (max-width: 767px) {\n    font-size: 14px;\n  }\n"])),(function(e){return"dark"===e.theme&&"\n    color: #fff;\n  "})),L=S.default.img(o||(o=Object(F.a)(["\n  transform: ",";\n  transition: transform 0.5s ease-in-out;\n"])),(function(e){return e.isActive?"rotate(90deg)":""})),M=S.default.div(c||(c=Object(F.a)(["\n  display: flex;\n  flex-flow: column;\n  gap: 15px;\n  background-color: white;\n  padding: 15px;\n  ","\n"])),(function(e){return"dark"===e.theme&&"\n    background-color: #3f4966 !important;\n  "})),T=S.default.div(u||(u=Object(F.a)(["\n  color: #343a40 !important;\n  font-weight: bold;\n  font-size: 15px;\n  ","\n  @media (min-width: 0px) and (max-width: 767px) {\n    font-size: 14px;\n  }\n"])),(function(e){return"dark"===e.theme&&"\n    color: #fff !important;\n  "})),W=S.default.div(d||(d=Object(F.a)(["\n  word-wrap: break-word;\n  font-size: 15px;\n  color: #3a3a3a;\n  font-weight: 500;\n  ","\n  @media (min-width: 0px) and (max-width: 767px) {\n    font-size: 14px;\n  }\n"])),(function(e){return"dark"===e.theme&&"\n    color: #b1c3e1 !important;\n  "})),X=S.default.div(l||(l=Object(F.a)(["\n  background-color: #dfe2e8;\n  height: 1px;\n  ","\n"])),(function(e){return"dark"===e.theme&&"\n    background-color: #4a5d94;\n  "})),G=S.default.div(s||(s=Object(F.a)(["\n  padding: 0 1.875rem 1.875rem 1.875rem;\n  display: flex;\n  flex-flow: column;\n  gap: 15px;\n  @media (min-width: 0px) and (max-width: 1240px) {\n    padding: 0 15px 15px 15px;\n  }\n"]))),K=S.default.div(f||(f=Object(F.a)(["\n  display: flex;\n  flex-flow: column;\n  gap: 15px;\n  @media (min-width: 0px) and (max-width: 767px) {\n    font-size: 14px;\n  }\n"]))),P=S.default.div(p||(p=Object(F.a)(["\n  font-family: Inter;\n  font-size: 14px;\n  font-weight: 600;\n  text-align: left;\n  color: #3a3a3a;\n  ","\n  @media (min-width: 0px) and (max-width: 767px) {\n    font-size: 13px;\n  }\n"])),(function(e){return"dark"===e.theme&&"\n    color: #b1c3e1 !important;\n  "})),Q=S.default.input(m||(m=Object(F.a)(["\n  color: #343a40 !important;\n  font-size: 13px;\n  min-height: 35px;\n  min-width: 100px;\n  outline: none;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n  border-radius: 5px;\n  padding: 5px;\n  ","\n\n  :active {\n    outline: none;\n    ","\n  }\n  :hover {\n    outline: none;\n  }\n"])),(function(e){return"dark"===e.theme&&"\n    border: solid 1px #3552a5 !important;\n    background-color: #192a59 !important;\n    color: #fff !important;\n  "}),(function(e){return"dark"===e.theme&&"\n      border: solid 1px #3552a5 !important;\n    "})),U=S.default.button(x||(x=Object(F.a)(["\n  border-radius: 4px;\n  background-color: ",";\n  border: ",";\n  width: 80px;\n  cursor: ",";\n  height: 30px;\n  font-size: 15px;\n  font-weight: 600;\n  width: 150px;\n  height: 45px;\n  color: white;\n  @media (min-width: 0px) and (max-width: 767px) {\n    font-size: 14px;\n  }\n"])),(function(e){return e.isActive?"#e5eafa":"#3763dd"}),(function(e){return e.isActive?"solid 1px #3763dd":""}),(function(e){return e.isActive?"":"pointer"})),V=S.default.div(b||(b=Object(F.a)(["\n  font-size: 12px;\n  color: red;\n"]))),Y=S.default.div(h||(h=Object(F.a)(["\n  display: flex;\n  font-family: Inter;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  text-align: left;\n  color: #2149b9;\n  ","\n"])),(function(e){return"dark"===e.theme&&"\n    color: #4878ff;\n  "})),Z=S.default.div(g||(g=Object(F.a)(["\n  width: 100%;\n  display: flex;\n  flex-flow: row;\n  padding: 1.875rem;\n  align-items: center;\n  justify-content: space-between;\n  @media (min-width: 0px) and (max-width: 767px) {\n    flex-flow: column;\n    padding: 15px;\n    gap: 15px;\n    align-items: flex-start;\n  }\n  @media (min-width: 767px) and (max-width: 1240px) {\n    padding: 15px;\n    gap: 15px;\n  }\n"]))),$=S.default.div(v||(v=Object(F.a)(["\n  display: flex;\n  flex-flow: row;\n  align-items: center;\n  gap: 5px;\n"])));function _(e){var n=z.a.useState({readResponses:[],readFunctions:[],contractAddress:"",loading:!1,error:"",isExpand:!1}),t=Object(y.a)(n,2),a=t[0],r=t[1];z.a.useEffect((function(){var n=e.contractData?e.contractData:{};n.abi=JSON.parse(n.abi?n.abi:JSON.stringify([]));var t=n.abi.filter((function(e){return e.stateMutability==C.c.view}));t=t.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{isActive:!1,response:{},loading:!1,error:"",params:i(e)})})),r(Object(E.a)(Object(E.a)({},a),{},{readFunctions:t,contractAddress:n.address?n.address.replace("xdc","0x"):""}))}),[e.contractData]);var i=function(e){var n={};return e.inputs.map((function(e){n[e.name]=""})),n},o=function(){var e=Object(k.a)(j.a.mark((function e(n,t,i){var o,c,u,d,l,s,f,p,m,x=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=x.length>3&&void 0!==x[3]&&x[3],c=x.length>4?x[4]:void 0,u=x.length>5&&void 0!==x[5]&&x[5],d=Object(O.a)(a.readFunctions),!t){e.next=9;break}return d[n].isActive=!1,d[n].response={},r(Object(E.a)(Object(E.a)({},a),{},{readFunctions:d})),e.abrupt("return");case 9:if(e.prev=9,d[n].loading=!0,r(Object(E.a)(Object(E.a)({},a),{},{readFunctions:d,loading:u})),i){e.next=27;break}if(s=d[n].name,f=new R.a("wss://LeewayHertzXDCWS.BlocksScan.io"),p=new f.eth.Contract(d,a.contractAddress),!o){e.next=22;break}return e.next=19,(l=p.methods)[s].apply(l,Object(O.a)(c)).call();case 19:e.t0=e.sent,e.next=25;break;case 22:return e.next=24,p.methods[s]().call();case 24:e.t0=e.sent;case 25:m=e.t0,d[n].response={method:s,index:n,response:m};case 27:d[n].isActive=!0,d[n].loading=!1,r(Object(E.a)(Object(E.a)({},a),{},{readFunctions:d})),e.next=37;break;case 32:e.prev=32,e.t1=e.catch(9),d[n].loading=!1,d[n].error="Transaction failed",r(Object(E.a)(Object(E.a)({},a),{},{readFunctions:d}));case 37:case"end":return e.stop()}}),e,null,[[9,32]])})));return function(n,t,a){return e.apply(this,arguments)}}(),c=function(){var e=Object(k.a)(j.a.mark((function e(){var n,t,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(O.a)(a.readFunctions),e.next=3,r(Object(E.a)(Object(E.a)({},a),{},{loading:!0}));case 3:t=0;case 4:if(!(t<a.readFunctions.length)){e.next=20;break}if(!(i=a.readFunctions[t]).isActive){e.next=9;break}return n[t]=i,e.abrupt("continue",17);case 9:if(!i.inputs.length){e.next=15;break}n[t].isActive=!0,n[t].response={},r(Object(E.a)(Object(E.a)({},a),{},{readFunctions:n,loading:!0})),e.next=17;break;case 15:return e.next=17,o(t,!1,!1,!1,!0);case 17:t++,e.next=4;break;case 20:r(Object(E.a)(Object(E.a)({},a),{},{readFunctions:n,loading:!1,isExpand:!0}));case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return z.a.createElement(D.a,{style:"dark"===e.theme?{borderRadius:"14px",boxShadow:" 0 1px 10px 0 rgba(0, 0, 0, 0.1)",backgroundColor:"#192a59"}:{borderRadius:"14px",boxShadow:" 0 1px 10px 0 rgba(0, 0, 0, 0.1)"},elevation:0},z.a.createElement(Z,null,z.a.createElement($,null,z.a.createElement("img",{src:"/images/contract.svg"}),z.a.createElement(T,{theme:e.theme},"Read Contract Information")),z.a.createElement(J.Row,{style:{gap:20},alignItems:"center"},a.loading?z.a.createElement(N.a,{size:20}):a.isExpand?z.a.createElement(Y,{theme:e.theme,onClick:function(){return function(){var e=a.readFunctions.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{isActive:!1,response:{},loading:!1,error:""})}));r(Object(E.a)(Object(E.a)({},a),{},{readFunctions:e,isExpand:!1}))}()}},"Collapse all"):z.a.createElement(Y,{theme:e.theme,onClick:function(){return c()}},"Expand all"),z.a.createElement($,{onClick:function(){return function(){var e=a.readFunctions.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{response:{},params:i(e)})}));r(Object(E.a)(Object(E.a)({},a),{},{readFunctions:e}))}()}},z.a.createElement(Y,{theme:e.theme},"Reset"),z.a.createElement("img",{src:"/images/reset.svg"})))),z.a.createElement(G,null,a.readFunctions&&a.readFunctions.length?a.readFunctions.map((function(n,t){return z.a.createElement(ee,{item:n,index:t,setState:r,state:a,handleFunctionClick:o,theme:e.theme})})):""))}var ee=function(e){var n=e.item,t=e.index,a=e.state,r=e.handleFunctionClick,i=e.setState,o=e.theme;return z.a.createElement(B,{theme:o,isActive:n.isActive,key:t},z.a.createElement(q,{theme:o,onClick:function(){return r(t,n.isActive,n.inputs.length>0,!1,!1,!1)}},z.a.createElement(H,{theme:o},"".concat(t+1,". ").concat(n.name)),z.a.createElement(J.Row,{style:{gap:10},alignItems:"center"},n.loading&&0===n.inputs.length?z.a.createElement(N.a,{size:10}):"",z.a.createElement(L,{isActive:n.isActive,src:"/images/next.svg"}))),n.isActive?z.a.createElement(M,{theme:o},n.inputs.length>0?z.a.createElement(ne,{itemIndex:t,state:a,setState:i,functionDetail:n,handleSubmit:r,theme:o}):z.a.createElement(ae,{item:n,theme:o})):"")},ne=function(e){var n,t=e.functionDetail,a=e.handleSubmit,r=e.itemIndex,i=e.setState,o=e.state,c=e.theme,u=z.a.useState({}),d=Object(y.a)(u,2),l=d[0],s=d[1],f=t.error?t.error:"";z.a.useEffect((function(){s(t.params)}),[t.params]);var p=function(e,n){var t=o.readFunctions;t[n].error=e,i(Object(E.a)(Object(E.a)({},o),{},{readFunctions:t}))};return z.a.createElement(z.a.Fragment,null,t.inputs.map((function(e,n){return z.a.createElement(K,{key:n},z.a.createElement(P,{theme:c},e.name),z.a.createElement(Q,{placeholder:e.type,value:l[e.name],onChange:function(n){return function(e,n,t){e.includes("xdc")&&(e=e.replace(/^.{3}/g,"0x")),p("",r);var a=l;a[n]="uint256"===t?Number(e):e,s(a)}(n.target.value,e.name,e.type)},theme:c}))})),z.a.createElement(U,{onClick:function(){return function(){var e=Object.values(l).findIndex((function(e){return 0==String(e).length}));if(-1===e){for(var n=Object(E.a)({},l),i=function(e){var a=Object.keys(l)[e],i=t.inputs.find((function(e){return e.name==a}));if("bool"==i.type)n[a]=Boolean(n[a]);else if(i.type.includes("uint"))try{te(n[a]),n[a]=n[a]}catch(f){return p("Invalid value for type "+i.type,r),{v:void 0}}else if(i.type.includes("map"))try{n[a]=JSON.parse(n[a])}catch(f){}else n[a]=n[a]},o=0;o<Object.keys(l).length;o++){var c=i(o);if("object"===typeof c)return c.v}a(r,!1,!1,!0,Object.values(n))}else p("".concat(Object.keys(l)[e]," is required field"),r)}()},disabled:t.loading,isActive:t.loading},t.loading?z.a.createElement(N.a,{size:20}):"Submit"),f?z.a.createElement(V,null,f):"",(null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.response)?z.a.createElement(ae,{item:t}):"")},te=function(e){if(Number(e)===e&&e%1!==0)throw"Invalid input"},ae=function(e){var n,t=e.item,a=e.theme;return z.a.createElement(z.a.Fragment,null,z.a.createElement(W,{theme:a},null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.response),z.a.createElement(X,{theme:a}),z.a.createElement(P,{theme:a},"Return:"),z.a.createElement(W,{theme:a},t.outputs.map((function(e){return e.type})).join(",")))}},963:function(e,n){},964:function(e,n){},968:function(e,n){},969:function(e,n){},971:function(e,n){},972:function(e,n){},974:function(e,n){},975:function(e,n){},976:function(e,n){},978:function(e,n){},979:function(e,n){},980:function(e,n){},981:function(e,n){},985:function(e,n){},986:function(e,n){},987:function(e,n){},989:function(e,n){},990:function(e,n){},991:function(e,n){}}]);
//# sourceMappingURL=21.6dede14b.chunk.js.map