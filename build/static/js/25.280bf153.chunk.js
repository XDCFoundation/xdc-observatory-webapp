(this["webpackJsonpxinfin-observatory-web-app"]=this["webpackJsonpxinfin-observatory-web-app"]||[]).push([[25],{898:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return _}));var a,i,r,c,o,l,s,u,d,p,f,m,x,b,g,v,h,w=t(19),j=t.n(w),O=t(43),E=t(28),y=t(46),k=t(9),F=t(21),A=t(0),z=t.n(A),S=t(24),C=t(11),I=t(873),R=t.n(I),D=t(270),J=t(48),N=t(397),B=S.default.div(a||(a=Object(F.a)(["\n  font-weight: 400;\n  color: #212529;\n  border: solid 1px #dfe2e8;\n  cursor: pointer;\n  font-size: 1rem;\n  line-height: 1.5;\n  border-radius: 4px;\n  height: ",";\n  transition: height 0.5s ease-out;\n"])),(function(e){return e.isActive?"auto":"50px"})),q=S.default.div(i||(i=Object(F.a)(["\n  color: #343a40 !important;\n  height: 50px;\n  background-color: #f8f9fa !important;\n  display: flex;\n  flex-flow: row;\n  border-bottom: solid 1px #dfe2e8;\n  padding: 15px;\n  border-radius: 4px;\n  justify-content: space-between;\n  align-items: center;\n"]))),H=S.default.div(r||(r=Object(F.a)(["\n  color: #3a3a3a;\n  font-family: Inter;\n  font-size: 15px;\n  font-weight: 600;\n  text-align: left;\n  @media (min-width: 0px) and (max-width: 767px) {\n    font-size: 14px;\n  }\n"]))),L=S.default.img(c||(c=Object(F.a)(["\n  transform: ",";\n  transition: transform 0.5s ease-in-out;\n"])),(function(e){return e.isActive?"rotate(90deg)":""})),M=S.default.div(o||(o=Object(F.a)(["\n  display: flex;\n  flex-flow: column;\n  gap: 15px;\n  background-color: white;\n  padding: 15px;\n"]))),T=S.default.div(l||(l=Object(F.a)(["\n  color: #343a40 !important;\n  font-weight: bold;\n  font-size: 15px;\n  @media (min-width: 0px) and (max-width: 767px) {\n    font-size: 14px;\n  }\n"]))),W=S.default.div(s||(s=Object(F.a)(["\n  word-wrap: break-word;\n  font-size: 15px;\n  color: #3a3a3a;\n  font-weight: 500;\n  @media (min-width: 0px) and (max-width: 767px) {\n    font-size: 14px;\n  }\n"]))),X=S.default.div(u||(u=Object(F.a)(["\n  background-color: #dfe2e8;\n  height: 1px;\n"]))),G=S.default.div(d||(d=Object(F.a)(["\n  padding: 0 1.875rem 1.875rem 1.875rem;\n  display: flex;\n  flex-flow: column;\n  gap: 15px;\n  @media (min-width: 0px) and (max-width: 1240px) {\n    padding: 0 15px 15px 15px;\n  }\n"]))),K=S.default.div(p||(p=Object(F.a)(["\n  display: flex;\n  flex-flow: column;\n  gap: 15px;\n  @media (min-width: 0px) and (max-width: 767px) {\n    font-size: 14px;\n  }\n"]))),P=S.default.div(f||(f=Object(F.a)(["\n  font-family: Inter;\n  font-size: 14px;\n  font-weight: 600;\n  text-align: left;\n  color: #3a3a3a;\n  @media (min-width: 0px) and (max-width: 767px) {\n    font-size: 13px;\n  }\n"]))),Q=S.default.input(m||(m=Object(F.a)(["\n  color: #343a40 !important;\n  font-size: 13px;\n  min-height: 35px;\n  min-width: 100px;\n  outline: none;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n  border-radius: 5px;\n  padding: 5px;\n\n  :active {\n    outline: none;\n  }\n  :hover {\n    outline: none;\n  }\n"]))),U=S.default.button(x||(x=Object(F.a)(["\n  border-radius: 4px;\n  background-color: ",";\n  border: ",";\n  width: 80px;\n  cursor: ",";\n  height: 30px;\n  font-size: 15px;\n  font-weight: 600;\n  width: 150px;\n  height: 45px;\n  color: white;\n  @media (min-width: 0px) and (max-width: 767px) {\n    font-size: 14px;\n  }\n"])),(function(e){return e.isActive?"#e5eafa":"#3763dd"}),(function(e){return e.isActive?"solid 1px #3763dd":""}),(function(e){return e.isActive?"":"pointer"})),V=S.default.div(b||(b=Object(F.a)(["\n  font-size: 12px;\n  color: red;\n"]))),Y=S.default.div(g||(g=Object(F.a)(["\n  display: flex;\n  font-family: Inter;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  text-align: left;\n  color: #2149b9;\n"]))),Z=S.default.div(v||(v=Object(F.a)(["\n  width: 100%;\n  display: flex;\n  flex-flow: row;\n  padding: 1.875rem;\n  align-items: center;\n  justify-content: space-between;\n  @media (min-width: 0px) and (max-width: 767px) {\n    flex-flow: column;\n    padding: 15px;\n    gap: 15px;\n    align-items: flex-start;\n  }\n  @media (min-width: 767px) and (max-width: 1240px) {\n    padding: 15px;\n    gap: 15px;\n  }\n"]))),$=S.default.div(h||(h=Object(F.a)(["\n  display: flex;\n  flex-flow: row;\n  align-items: center;\n  gap: 5px;\n"])));function _(e){var n=z.a.useState({readResponses:[],readFunctions:[],contractAddress:"",loading:!1,error:"",isExpand:!1}),t=Object(k.a)(n,2),a=t[0],i=t[1];z.a.useEffect((function(){var n=e.contractData?e.contractData:{};n.abi=JSON.parse(n.abi?n.abi:JSON.stringify([]));var t=n.abi.filter((function(e){return e.stateMutability==C.c.view}));t=t.map((function(e){return Object(y.a)(Object(y.a)({},e),{},{isActive:!1,response:{},loading:!1,error:"",params:r(e)})})),i(Object(y.a)(Object(y.a)({},a),{},{readFunctions:t,contractAddress:n.address?n.address.replace("xdc","0x"):""}))}),[e.contractData]);var r=function(e){var n={};return e.inputs.map((function(e){n[e.name]=""})),n},c=function(){var e=Object(E.a)(j.a.mark((function e(n,t,r){var c,o,l,s,u,d,p,f,m,x=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=x.length>3&&void 0!==x[3]&&x[3],o=x.length>4?x[4]:void 0,l=x.length>5&&void 0!==x[5]&&x[5],s=Object(O.a)(a.readFunctions),!t){e.next=9;break}return s[n].isActive=!1,s[n].response={},i(Object(y.a)(Object(y.a)({},a),{},{readFunctions:s})),e.abrupt("return");case 9:if(e.prev=9,s[n].loading=!0,i(Object(y.a)(Object(y.a)({},a),{},{readFunctions:s,loading:l})),r){e.next=27;break}if(d=s[n].name,p=new R.a("wss://LeewayHertzXDCWS.BlocksScan.io"),f=new p.eth.Contract(s,a.contractAddress),!c){e.next=22;break}return e.next=19,(u=f.methods)[d].apply(u,Object(O.a)(o)).call();case 19:e.t0=e.sent,e.next=25;break;case 22:return e.next=24,f.methods[d]().call();case 24:e.t0=e.sent;case 25:m=e.t0,s[n].response={method:d,index:n,response:m};case 27:s[n].isActive=!0,s[n].loading=!1,i(Object(y.a)(Object(y.a)({},a),{},{readFunctions:s})),e.next=37;break;case 32:e.prev=32,e.t1=e.catch(9),s[n].loading=!1,s[n].error="Transaction failed",i(Object(y.a)(Object(y.a)({},a),{},{readFunctions:s}));case 37:case"end":return e.stop()}}),e,null,[[9,32]])})));return function(n,t,a){return e.apply(this,arguments)}}(),o=function(){var e=Object(E.a)(j.a.mark((function e(){var n,t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(O.a)(a.readFunctions),e.next=3,i(Object(y.a)(Object(y.a)({},a),{},{loading:!0}));case 3:t=0;case 4:if(!(t<a.readFunctions.length)){e.next=20;break}if(!(r=a.readFunctions[t]).isActive){e.next=9;break}return n[t]=r,e.abrupt("continue",17);case 9:if(!r.inputs.length){e.next=15;break}n[t].isActive=!0,n[t].response={},i(Object(y.a)(Object(y.a)({},a),{},{readFunctions:n,loading:!0})),e.next=17;break;case 15:return e.next=17,c(t,!1,!1,!1,!0);case 17:t++,e.next=4;break;case 20:i(Object(y.a)(Object(y.a)({},a),{},{readFunctions:n,loading:!1,isExpand:!0}));case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return z.a.createElement(D.a,{style:{borderRadius:"14px",boxShadow:" 0 1px 10px 0 rgba(0, 0, 0, 0.1)"},elevation:0},z.a.createElement(Z,null,z.a.createElement($,null,z.a.createElement("img",{src:"/images/contract.svg"}),z.a.createElement(T,null,"Read Contract Information")),z.a.createElement(J.Row,{style:{gap:20},alignItems:"center"},a.loading?z.a.createElement(N.a,{size:20}):a.isExpand?z.a.createElement(Y,{onClick:function(){return function(){var e=a.readFunctions.map((function(e){return Object(y.a)(Object(y.a)({},e),{},{isActive:!1,response:{},loading:!1,error:""})}));i(Object(y.a)(Object(y.a)({},a),{},{readFunctions:e,isExpand:!1}))}()}},"Collapse all"):z.a.createElement(Y,{onClick:function(){return o()}},"Expand all"),z.a.createElement($,{onClick:function(){return function(){var e=a.readFunctions.map((function(e){return Object(y.a)(Object(y.a)({},e),{},{response:{},params:r(e)})}));i(Object(y.a)(Object(y.a)({},a),{},{readFunctions:e}))}()}},z.a.createElement(Y,null,"Reset"),z.a.createElement("img",{src:"/images/reset.svg"})))),z.a.createElement(G,null,a.readFunctions&&a.readFunctions.length?a.readFunctions.map((function(e,n){return z.a.createElement(ee,{item:e,index:n,setState:i,state:a,handleFunctionClick:c})})):""))}var ee=function(e){var n=e.item,t=e.index,a=e.state,i=e.handleFunctionClick,r=e.setState;return z.a.createElement(B,{isActive:n.isActive,key:t},z.a.createElement(q,{onClick:function(){return i(t,n.isActive,n.inputs.length>0,!1,!1,!1)}},z.a.createElement(H,null,"".concat(t+1,". ").concat(n.name)),z.a.createElement(J.Row,{style:{gap:10},alignItems:"center"},n.loading&&0===n.inputs.length?z.a.createElement(N.a,{size:10}):"",z.a.createElement(L,{isActive:n.isActive,src:"/images/next.svg"}))),n.isActive?z.a.createElement(M,null,n.inputs.length>0?z.a.createElement(ne,{itemIndex:t,state:a,setState:r,functionDetail:n,handleSubmit:i}):z.a.createElement(ae,{item:n})):"")},ne=function(e){var n,t=e.functionDetail,a=e.handleSubmit,i=e.itemIndex,r=e.setState,c=e.state,o=z.a.useState({}),l=Object(k.a)(o,2),s=l[0],u=l[1],d=t.error?t.error:"";z.a.useEffect((function(){u(t.params)}),[t.params]);var p=function(e,n){var t=c.readFunctions;t[n].error=e,r(Object(y.a)(Object(y.a)({},c),{},{readFunctions:t}))};return z.a.createElement(z.a.Fragment,null,t.inputs.map((function(e,n){return z.a.createElement(K,{key:n},z.a.createElement(P,null,e.name),z.a.createElement(Q,{placeholder:e.type,value:s[e.name],onChange:function(n){return function(e,n,t){e.includes("xdc")&&(e=e.replace(/^.{3}/g,"0x")),p("",i);var a=s;a[n]="uint256"===t?Number(e):e,u(a)}(n.target.value,e.name,e.type)}}))})),z.a.createElement(U,{onClick:function(){return function(){var e=Object.values(s).findIndex((function(e){return 0==String(e).length}));if(-1===e){for(var n=Object(y.a)({},s),r=function(e){var a=Object.keys(s)[e],r=t.inputs.find((function(e){return e.name==a}));if("bool"==r.type)n[a]=Boolean(n[a]);else if(r.type.includes("uint"))try{te(n[a]),n[a]=n[a]}catch(d){return p("Invalid value for type "+r.type,i),{v:void 0}}else if(r.type.includes("map"))try{n[a]=JSON.parse(n[a])}catch(d){}else n[a]=n[a]},c=0;c<Object.keys(s).length;c++){var o=r(c);if("object"===typeof o)return o.v}a(i,!1,!1,!0,Object.values(n))}else p("".concat(Object.keys(s)[e]," is required field"),i)}()},disabled:t.loading,isActive:t.loading},t.loading?z.a.createElement(N.a,{size:20}):"Submit"),d?z.a.createElement(V,null,d):"",(null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.response)?z.a.createElement(ae,{item:t}):"")},te=function(e){if(Number(e)===e&&e%1!==0)throw"Invalid input"},ae=function(e){var n,t=e.item;return z.a.createElement(z.a.Fragment,null,z.a.createElement(W,null,null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.response),z.a.createElement(X,null),z.a.createElement(P,null,"Return:"),z.a.createElement(W,null,t.outputs.map((function(e){return e.type})).join(",")))}},972:function(e,n){},973:function(e,n){},975:function(e,n){},978:function(e,n){},980:function(e,n){},981:function(e,n){},983:function(e,n){},984:function(e,n){},986:function(e,n){},987:function(e,n){},991:function(e,n){},992:function(e,n){}}]);
//# sourceMappingURL=25.280bf153.chunk.js.map