{"version":3,"sources":["services/contractverify.js","modules/dashboard/verifyContract.js","modules/dashboard/contractTab.js"],"names":["getContractVerify","getHeaders","httpConstants","CONTENT_TYPE","APPLICATION_JSON","process","reqObj","a","httpService","METHOD_TYPE","POST","then","response","success","responseCode","responseData","length","Promise","resolve","reject","catch","err","VerifyContract","address","useParams","undefined","str","includes","replace","useState","isLoading","setisLoading","msg","setMessage","inputValue","setInputValue","validationSchema","useRef","Yup","shape","addr","required","contractname","version","code","useForm","resolver","yupResolver","register","handleSubmit","errors","formState","reset","handleChange","event","txtValue","target","value","onSubmitHandler","data","contractAddress","contractverify","resp","Error","url","window","location","href","message","onSubmit","style","display","justifyContent","marginTop","className","elevation","name","type","placeholder","onChange","Releases","builds","map","row","index","finalVersion","split","ver","subversion","sreadOnly","backgroundColor","borderRadius","onClick","SimpleTabs","toggleState","setToggleState","flexDirection","borderBottom"],"mappings":"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","file":"static/js/32.1a3eaa99.chunk.js","sourcesContent":["import { httpService } from \"../managers/httpService\";\nimport { httpConstants } from \"../constants\";\n\nexport default { getContractVerify };\nfunction getHeaders() {\n  return {\n    \"Content-Type\": httpConstants.CONTENT_TYPE.APPLICATION_JSON,\n    \"X-API-key\": process.env.REACT_APP_X_API_KEY,\n  };\n}\nasync function getContractVerify(reqObj) {\n  let url = process.env.REACT_APP_CONTRACT_VERIFY;\n  return httpService(\n    httpConstants.METHOD_TYPE.POST,\n    getHeaders(),\n    reqObj,\n    url\n  )\n    .then((response) => {\n      if (\n        !response.success ||\n        response.responseCode !== 200 ||\n        !response.responseData ||\n        response.responseData.length === 0\n      )\n        return Promise.reject();\n      return Promise.resolve(response.responseData);\n    })\n    .catch(function (err) {\n      return Promise.reject(err);\n    });\n}\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useParams } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\nimport Releases from \"./list.json\";\nimport contractverify from \"../../services/contractverify\";\nexport default function VerifyContract() {\n    let address = useParams();\n\n    if (address.address !== undefined) {\n        if (address.address.length != undefined) {\n            let str = address.address\n            if (str.includes(\"xdc\")) {\n                let result = str.replace(/^.{3}/g, '0x');\n                address = result\n            }\n        }\n    }\n\n\n\n    const [isLoading, setisLoading] = useState(false)\n    const [msg, setMessage] = useState(\"\")\n    const [inputValue, setInputValue] = useState(\"\")\n    const inputRef = useRef();\n    const validationSchema = Yup.object().shape({\n        addr: Yup.string()\n            .required('Contract address is required'),\n        contractname: Yup.string()\n            .required('Contract name is required'),\n        version: Yup.string()\n            .required('Version is required'),\n        code: Yup.string()\n            .required('Contract code is required')\n    });\n    const { register, handleSubmit, formState: { errors }, reset } = useForm({\n        resolver: yupResolver(validationSchema)\n    });\n    function clearMessage() {\n        setMessage(\"\");\n    }\n    const handleChange = (event) => {\n        let txtValue = event.target.value\n        if (txtValue !== undefined) {\n            if (txtValue.includes(\"xdc\")) {\n                setInputValue(txtValue.replace(/^.{3}/g, '0x'))\n            } else {\n                setInputValue(txtValue)\n            }\n        }\n    }\n    const onSubmitHandler = async (data) => {\n        let contractAddress = data.addr?.replace(/^.{2}/g, 'xdc');\n        try {\n            setisLoading(true)\n            const resp = await contractverify.getContractVerify(data)\n            if (resp[0].Error == 0) {\n                let url = \"/address/\" + contractAddress\n                setisLoading(false)\n                window.location.href = url;\n            } else {\n                setisLoading(false)\n                setMessage(resp[0].message)\n            }\n        } catch (err) {\n            setisLoading(false)\n            //setMessage(err)\n        }\n    };\n\n\n    return (\n        <>\n\n            <form onSubmit={handleSubmit(onSubmitHandler)} >\n                <div style={{ display: 'flex', justifyContent: 'center', marginTop: '10px' }} className={isLoading == true ? \"cover-spin-5\" : \"\"}>\n\n                    <div className=\"paper-verify-contracts\" elevation={3}>\n\n                        <div className=\"verify-contracts-head\">Verify and Publish Contract Source Code</div><br />\n                        <div className=\"textarea-verify-contract\">\n                            <p className=\"verify-contract-first-div\">Enter Contract Source Code below.</p>\n                            <p className=\"verify-contract-first-div-text\">If the compiled bytecode matches the Creation Address bytecode, the contract is then Verified and will be published online.</p>\n                        </div>\n                        <br />\n                        {msg ? <p className=\"validation-error-message txt-center\">{msg}</p> : \"\"}\n                        <br />\n\n                        <div className=\"flex-row\">\n                            <div className=\"vc-contract-add\">Contract Address\n                                {\n                                    address.length ? <div>\n                                        <input {...register(\"addr\")} name=\"addr\" className=\"vc-input-contract-add\" type=\"text\" placeholder=\"Contract Address\" onChange={handleChange} value={address.length ? address : \"\"} />\n                                    </div> : <div>\n                                        <input {...register(\"addr\")} name=\"addr\" className=\"vc-input-contract-add\" type=\"text\" placeholder=\"Contract Address\" onChange={handleChange} value={inputValue} />\n                                    </div>\n                                }\n                                <p className=\"validation-error-message\">{errors?.addr?.message}</p>\n                            </div>\n                            <div className=\"vc-contract-name\" >Contract Name\n                                <div>\n                                    <input {...register(\"contractname\")} name=\"contractname\" className=\"vc-input-contract-name\" type=\"text\" placeholder=\"Contract Name\" />\n                                </div>\n                                <p className=\"validation-error-message\">{errors?.contractname?.message}</p>\n                            </div>\n\n                            <div className=\"vc-contract-compiler\">Compiler\n                                <div>\n\n                                    <select {...register(\"version\")} name=\"version\" className=\"vc-contract-add-select\"  >\n                                        <option value=\"\">Select compiler</option>\n                                        <option value=\"latest\">Latest</option>\n                                        {Releases.builds.map((row, index) => {\n                                            let finalVersion = row.split('-')\n                                            let ver = ''\n                                            if (finalVersion.length > 2) {\n                                                let subversion = finalVersion[2].split('+')\n                                                ver = finalVersion[1] + '+' + subversion[1]\n                                            } else {\n                                                ver = finalVersion[1]\n                                            }\n\n                                            return (\n                                                <option value={ver}>{row}</option>\n                                            )\n                                        })\n                                        }\n                                    </select>\n                                    <p className=\"validation-error-message\">{errors?.version?.message}</p>\n                                </div>\n                            </div>\n\n\n                        </div>\n                        {/* <br /> */}\n                        <div className=\"verify-contracts-head\">Contract Code</div>\n                        <textarea {...register(\"code\")} name=\"code\" className=\"textarea-contract-code\" placeholder=\"Contract Code\" ></textarea>\n                        <p className=\"validation-error-message\">{errors?.code?.message}</p>\n                        <br />\n                        <div className=\"verify-contracts-head\">\n                            <input type=\"checkbox\" value=\"1\" name=\"optimise\" {...register(\"optimise\")} />\n                            &nbsp;Optimization Enabled</div>\n                        <br />\n\n                        <div className=\"constructor-arg\">Constructor arguments ABI-encoded (OPTIONAL required for certain contracts only)</div>\n                        <input {...register(\"argument\")} name=\"argument\" sreadOnly className=\"textarea-constructor-arg\" placeholder=\"Constructor Arguments\" />\n                        <br /><br />\n\n                        <div>\n                            <button style={{ backgroundColor: '#3763dd', borderRadius: '4px' }} className=\"validate-button\">Validate Code</button>\n                            <button type=\"button\" onClick={() => { reset(); clearMessage(); }} style={{ backgroundColor: '#9fa9ba', borderRadius: '4px' }} className=\"reset-button\">Reset</button>\n                        </div>\n\n                    </div>\n\n                </div>\n            </form>\n        </>\n    );\n}","import React from \"react\";\nimport { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\nimport VerifyContract from \"./verifyContract\";\nimport Tokensearchbar from \"../explorer/tokensearchBar\";\nimport FooterComponent from \"../common/footerComponent\";\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\n// function a11yProps(index) {\n//   return {\n//     id: `simple-tab-${index}`,\n//     \"aria-controls\": `simple-tabpanel-${index}`,\n//   };\n// }\n\n// const useStyles = makeStyles((theme) => ({\n//   root: {\n//     marginLeft: '19%',\n//     width: '62%',\n//     flexGrow: 1,\n\n//   },\n// }));\n\nexport default function SimpleTabs() {\n  // const [value, setValue] = React.useState(0);\n\n  const [toggleState, setToggleState] = useState(1);\n\n  const toggleTab = (index) => {\n    setToggleState(index);\n  };\n\n  return (\n    <>\n      <Tokensearchbar />\n      <div className=\"vc-header\">\n        <div className='vc-header-child'>Verify Contract</div>\n      </div>\n      <div className=\"vc-tab-all\">\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            backgroundColor: \"transparent\",\n            marginTop: \"20px\",\n            borderBottom: \"solid 1px #e3e7eb\",\n          }}\n        >\n          <div>\n            <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n              <button\n                className={\n                  toggleState === 1 ? \"tabs-vc active-tabs-contract\" : \"tabs-vc\"\n                }\n                onClick={() => toggleTab(1)}\n              >\n                Source Code\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div>\n          <div\n            className={\n              toggleState === 1 ? \"content  active-content\" : \"content\"\n            }\n          >\n            <div style={{ marginTop: \"10px\" }}>\n              <VerifyContract />\n            </div>\n          </div>\n        </div>\n      </div>\n      <FooterComponent />\n    </>\n  );\n}\n"],"sourceRoot":""}