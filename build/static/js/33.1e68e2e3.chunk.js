(this["webpackJsonpxinfin-observatory-web-app"]=this["webpackJsonpxinfin-observatory-web-app"]||[]).push([[33],{1230:function(e,t,a){"use strict";var n,r,i,o=a(10),c=a(22),s=a(676),l=a(685),u=a(192),p=a(2227),d=a(756),m=a(0),f=a.n(m),g=a(25),x=g.default.span(n||(n=Object(c.a)(["\n  width: 91px;\n  height: 17px;\n  font-family: Inter;\n  font-size: 14px;\n  font-weight: 500;\n  color: #2149b9;\n"]))),b=(Object(g.default)(p.a)(d.b),g.default.div(r||(r=Object(c.a)(["\n  text-align: center;\n  height: 200px;\n"])))),h=Object(s.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},large:{width:"108px",height:"108px"},"@media (min-width: 300px) and (max-width: 767px)":{avtar:{marginTop:"20px",height:"160px"}}}})),v=Object(g.default)(l.a)(i||(i=Object(c.a)(["\n  width: 300x;\n  height: 300px;\n  margin: 0 auto 16px;\n  border: 1px solid ",";\n  box-shadow: 0 0 1px 0 "," inset, 0 0 1px 0 ",";\n"])),u.a[500],u.a[500],u.a[500]);t.a=function(e){var t=h(),a=Object(m.useState)(null),n=Object(o.a)(a,2),r=n[0],i=n[1],c=Object(m.createRef)(null),s=function(e){r&&(URL.revokeObjectURL(r),c.current.value=null),i(e)};Object(m.useEffect)((function(){i(e.profilePicture)}),[]);return f.a.createElement(b,{className:t.avtar},f.a.createElement(v,{className:t.large,$withBorder:!0,alt:"Avatar",src:r}),f.a.createElement("input",{ref:c,accept:"image/*",hidden:!0,id:"avatar-image-upload",type:"file",onChange:function(t){var a,n,r=null===(a=t.target)||void 0===a||null===(n=a.files)||void 0===n?void 0:n[0];r&&(s(URL.createObjectURL(r)),e.filedata(r))}}),f.a.createElement("label",{htmlFor:"avatar-image-upload"},f.a.createElement(x,{className:"imgcss",onClick:function(e){}},"Upload Photo")))}},2230:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return B}));var n,r,i,o,c,s=a(46),l=a(19),u=a.n(l),p=a(28),d=a(10),m=a(22),f=a(16),g=a(40),x=a(20),b=a(83),h=a(284),v=a(399),w=a(0),E=a.n(w),j=a(1230),O=a(270),k=a(1467),C=a(80),y=a(25),I=a(11),N=a(406),R={borderColor:"#00e676"},L={borderColor:"#ff1744"},S={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:"auto",height:200,padding:4,boxSizing:"border-box"},U=Object(O.a)((function(e){return Object(f.a)({add:{marginLeft:"-6px"},"@media (min-width: 300px) and (max-width: 767px)":{marginTop:"6.800rem",maxWidth:"31.25rem",padding:"0 0.5rem 0 0.5rem"},backButtonMobile:{marginLeft:"18px",position:"absolute",cursor:"pointer",display:"block"},"@media (min-width: 740px)":{backButtonMobile:{display:"none"}},error:{color:"red",marginLeft:"2px",marginBottom:"-10px"},btn:{},value:{width:"400px !important"},cross:{marginTop:"25px",marginLeft:"40px",fontWeight:"500",cursor:"pointer"},dialog:{marginLeft:"10%",marginTop:"2px",width:"80% !important",height:"80% !important",borderRadius:"50px !important"},paper:{width:"31.438rem",maxHeight:"35.063rem",height:"100%",alignSelf:"flex-start",margin:"100px auto",borderRadius:"12px"},input:{width:"340px",height:"40px",border:"solid 1px #c6c8ce",backgroundColor:"#ffffff",borderRadius:"7px",padding:"20px"},addbtn:{width:"100%",height:"40px",borderRadius:"4px",backgroundColor:"#3763dd",margin:"0px 26px 35px 26px",color:"white"},subCategory:{marginTop:"4px",marginBottom:"4px",fontFamily:"Inter",fontSize:"14px",fontWeight:"500",border:"none !important",outline:"none",color:"#2a2a2a"},forgotpass:{color:"#2149b9",marginLeft:"123px"},createaccount:{color:"#2149b9",marginLeft:"32px",fontfamily:"Inter",fontsize:"14px"},icon:{marginLeft:"-30px"},xdc:{color:"#2a2a2a",marginLeft:"30px",fontfamily:"Inter",fontsize:"5px"},heading:{marginLeft:"60px",fontfamily:"Inter",fontweight:"600"},avtar:{height:"19px !important"}},"@media (min-width: 300px) and (max-width: 767px)",{username:{height:"60px"}})})),F={borderColor:"#2196f3"},D={borderRadius:5,height:"104px",width:"400px",background:"#FFFFFF 0% 0% no-repeat padding-box",color:"#ACACAC",border:"0.30000001192092896px dashed #ACACAC"},P=y.default.div(n||(n=Object(m.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding-top: 20px;\n"]))),T=(y.default.img(r||(r=Object(m.a)(["\n  width: 100%;\n  height: 145px;\n  border-radius: 4px;\n  &:focus {\n    outline: none;\n  }\n"]))),y.default.div(i||(i=Object(m.a)(["\n  font-family: Inter;\n  font-size: 22px;\n  font-weight: 600;\n  text-align: center;\n  color: #2a2a2a;\n  @media (min-width: 300px) and (max-width: 767px) {\n    height: 20px;\n    font-size: 16px;\n    text-align: center;\n    margin: auto;\n  }\n"])))),z=y.default.div(o||(o=Object(m.a)(["\n  @media (min-width: 300px) and (max-width: 767px) {\n    max-width: 503px;\n    width: 100%;\n    height: 102px;\n  }\n"]))),A=y.default.div(c||(c=Object(m.a)(["\n  padding-right: 25px;\n  padding-top: 7px;\n\n  // display: flex;\n  // align-content: flex-end;\n  display: none;\n"])));function B(e){var t=U(),a=Object(w.useState)(!1),n=Object(d.a)(a,2),r=(n[0],n[1]),i=E.a.useState(""),o=Object(d.a)(i,2),c=o[0],l=o[1],m=E.a.useState(""),f=Object(d.a)(m,2),O=f[0],y=f[1],B=E.a.useState(""),M=Object(d.a)(B,2),W=M[0],$=M[1],H=E.a.useState(!1),J=Object(d.a)(H,2),V=J[0],_=J[1],K=E.a.useState(!1),X=Object(d.a)(K,2),Z=X[0],q=X[1],G=E.a.useState(""),Q=Object(d.a)(G,2),Y=Q[0],ee=Q[1],te=E.a.useState(""),ae=Object(d.a)(te,2),ne=ae[0],re=ae[1],ie=E.a.useState(""),oe=Object(d.a)(ie,2),ce=oe[0],se=oe[1],le=/^[0-9a-zA-Z]+$/,ue=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,pe=function(){var e=Object(p.a)(u.a.mark((function e(t){var a,n,r,i,o,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=x.a.getDataFromCookies("userId"),_(!0),n={name:c,userId:a,email:ce,profilePic:t||ne},c.match(le)){e.next=9;break}return y("Enter valid Username"),_(!1),e.abrupt("return");case 9:if(ce.match(ue)){e.next=14;break}$("Enter valid Email"),_(!1),e.next=34;break;case 14:return r=new b.a,e.next=17,g.a.parseResponse(r.updateUser(n));case 17:if(i=e.sent,o=Object(d.a)(i,2),s=o[0],(null===(l=o[1])||void 0===l?void 0:l.email.length)>2&&_(!1),!s&&l){e.next=27;break}g.a.apiFailureToast("User Exists"),_(!1),e.next=34;break;case 27:return g.a.apiSuccessToast("Profile upadated successfully",{autoClose:1e4}),x.a.setDataInCookies(l,"userInfo"),x.a.setDataInCookies(!0,"isLoggedIn"),x.a.setDataInCookies(l.userId,"userId"),C.a.push("/loginprofile"),me(),e.abrupt("return",l);case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(p.a)(u.a.mark((function e(){var t,a,n,r,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),(t=new FormData).append("file",Y),t.append("path","profilePic"),a=new h.a,e.next=7,g.a.parseResponse(a.updateUser(t));case 7:if(n=e.sent,r=Object(d.a)(n,2),i=r[0],(o=r[1])[0].url.length>2&&_(!1),!i&&o){e.next=17;break}return g.a.apiFailureToast(" Upload failed"),e.abrupt("return",!1);case 17:return x.a.setDataInCookies(o[0].url,I.c.USER_PICTURE),re(o[0].url),e.abrupt("return",o);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){r(!1),C.a.push("/loginprofile"),y(""),$(""),setTimeout((function(){Ne(!1),Ue(!1),l(De),se(Pe)}),500)},fe=Object(w.useState)([]),ge=Object(d.a)(fe,2),xe=ge[0],be=ge[1],he=Object(k.a)({accept:"image/*",noClick:!0,noKeyboard:!0,onDrop:function(e){be(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}}),ve=(he.getRootProps,he.getInputProps,he.isDragActive),we=he.isDragAccept,Ee=he.isDragReject,je=he.acceptedFiles;he.open,Object(w.useMemo)((function(){return Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)({},D),ve?F:{}),we?R:{}),Ee?L:{})}),[ve,Ee]),xe.map((function(e){return E.a.createElement("div",{style:S,key:e.name})}));Object(w.useEffect)((function(){return function(){xe.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[xe]);je.map((function(e){return E.a.createElement("li",{key:e.path},e.path," - ",e.size," bytes")}));var Oe=E.a.useState(!1),ke=Object(d.a)(Oe,2),Ce=(ke[0],ke[1],E.a.useState(!1)),ye=Object(d.a)(Ce,2),Ie=ye[0],Ne=ye[1],Re=E.a.useState(!1),Le=Object(d.a)(Re,2),Se=Le[0],Ue=Le[1],Fe=function(){var e=Object(p.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},!Z){e.next=8;break}return e.next=4,de();case 4:if(a=e.sent){e.next=7;break}return e.abrupt("return");case 7:re(a[0].url);case 8:return e.next=10,pe(null===(t=a[0])||void 0===t?void 0:t.url);case 10:e.sent;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){return x.a.getDataFromCookies("userInfo").name},Pe=function(){return x.a.getDataFromCookies("userInfo").email};function Te(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}Object(w.useEffect)((function(){var e=x.a.getDataFromCookies("userInfo");e&&(l(e.name),se(e.email),re(x.a.getDataFromCookies(I.c.USER_PICTURE)))}),[]);var ze=E.a.useState(Te()),Ae=Object(d.a)(ze,2),Be=Ae[0],Me=Ae[1];return E.a.useEffect((function(){function e(){Me(Te())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Be.width>=760&&C.a.push("/loginprofile"),E.a.createElement("div",null,E.a.createElement(N.a,null),E.a.createElement("div",{className:t.add},E.a.createElement(z,null,E.a.createElement("div",{className:1==V?"cover-spin-loginDialog":""},E.a.createElement(P,null,E.a.createElement(T,null,"Edit Profile"),E.a.createElement("div",{onClick:me,className:t.backButtonMobile},E.a.createElement("img",{src:"/images/backButton.svg"})),E.a.createElement(A,{onClick:me}," ",E.a.createElement("img",{className:"cross-icon",src:"/images/XDC-Cross.svg"})," ")),E.a.createElement(j.a,{filedata:function(e){q(!0),ee(e)},uploadFileToS3:de,profilePicture:ne,className:t.avtar}),E.a.createElement("div",{style:{padding:"8px 35px",marginBottom:"14px"},className:t.username},E.a.createElement("p",{className:t.subCategory},"Username"),Ie?E.a.createElement("input",{className:"inputcss",style:{border:"solid 1px #9fa9ba",paddingLeft:"10px"},type:"text",id:"username",value:c,onChange:function(e){l(e.target.value),y("")}}):E.a.createElement("span",{className:"beforeInput"},E.a.createElement("span",{className:"beforeInputValue"},c),E.a.createElement("img",{className:"imgcss",src:"/images/edit.svg",onClick:function(){return Ne(!0)}})),E.a.createElement("div",{className:t.error},O)),E.a.createElement("div",{style:{padding:"8px 35px",marginBottom:"25px"},className:t.username},E.a.createElement("p",{className:t.subCategory},"Email"),Se?E.a.createElement("input",{className:"inputcss",style:{border:"solid 1px #9fa9ba",paddingLeft:"14px"},type:"text",id:"email",value:ce,onChange:function(e){se(e.target.value),$("")}}):E.a.createElement("span",{className:"beforeInput"},E.a.createElement("span",{className:"beforeInputValue"},ce),E.a.createElement("img",{className:"imgcss",src:"/images/edit.svg",onClick:function(){return Ue(!0)}})),W?E.a.createElement("div",{className:t.error},W):E.a.createElement(E.a.Fragment,null)),E.a.createElement(v.a,null,E.a.createElement("button",{className:t.addbtn,onClick:function(){Fe()}},"Update Profile"," ")),E.a.createElement("div",{className:t.value})))))}}}]);
//# sourceMappingURL=33.1e68e2e3.chunk.js.map