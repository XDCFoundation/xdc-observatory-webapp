{"version":3,"sources":["../node_modules/react-csv/lib/components/Download.js","../node_modules/react-csv/lib/components/Link.js","../../src/hooks.tsx","../../src/styles.ts","../../src/Utils.ts","../../src/index.tsx","../node_modules/qrcode.react/lib/index.js","../node_modules/qr.js/lib/mode.js","../node_modules/qr.js/lib/ErrorCorrectLevel.js","../node_modules/qr.js/lib/Polynomial.js","../node_modules/qr.js/lib/math.js","../node_modules/qr.js/lib/QRCode.js","../node_modules/qr.js/lib/8BitByte.js","../node_modules/qr.js/lib/RSBlock.js","../node_modules/qr.js/lib/BitBuffer.js","../node_modules/qr.js/lib/util.js","../node_modules/react-copy-to-clipboard/lib/index.js","../node_modules/react-copy-to-clipboard/lib/Component.js","../node_modules/copy-to-clipboard/index.js","../node_modules/toggle-selection/index.js","../node_modules/react-csv/lib/core.js","../node_modules/react-csv/lib/metaProps.js","../node_modules/react-csv/index.js","../node_modules/react-csv/lib/index.js"],"names":["Object","defineProperty","exports","value","obj","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","require","_react2","__esModule","default","_core","_metaProps","CSVDownload","_React$Component","instance","TypeError","_classCallCheck","this","_this","self","call","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","state","subClass","superClass","create","constructor","setPrototypeOf","_inherits","buildURI","apply","undefined","arguments","_props","data","headers","separator","enclosingCharacter","uFEFF","specs","replace","page","window","open","Component","defaultProps","assign","propTypes","_extends","source","hasOwnProperty","CSVLink","bind","event","isAsync","navigator","msSaveOrOpenBlob","preventDefault","filename","csvData","blob","Blob","toCSV","msSaveBlob","_this2","onClick","proceed","handleLegacy","_this3","asyncOnClick","handleAsyncClick","handleSyncClick","_this4","_props2","children","rest","keys","indexOf","_objectWithoutProperties","href","createElement","download","ref","link","handleClick","useIsomorphicLayoutEffect","Style","popupContent","tooltip","position","zIndex","modal","margin","popupArrow","height","width","background","color","overlay","top","bottom","left","right","display","POSITION_TYPES","getCoordinatesForPosition","offsetX","offsetY","arrow","args","CenterTop","triggerBounding","CenterLeft","ContentBounding","transform","arrowTop","arrowLeft","calculatePosition","bestCoords","wrapperBox","keepTooltipInside","boundingBox","innerHeight","selector","document","process","getTooltipBoundary","positions","Array","contentBox","popupIdCounter","Popup","forwardRef","trigger","onOpen","onClose","defaultOpen","disabled","nested","closeOnDocumentClick","repositionOnResize","closeOnEscape","on","contentStyle","arrowStyle","overlayStyle","className","lockScroll","mouseEnterDelay","mouseLeaveDelay","useState","isOpen","setIsOpen","triggerRef","useRef","contentRef","arrowRef","focusedElBeforeOpen","popupId","isModal","timeOut","setPosition","focusContentOnOpen","lockScrolll","resetScroll","clearTimeout","useEffect","openPopup","closePopup","setTimeout","focus","togglePopup","onMouseEnter","onContextMenu","onMouseLeave","focusableEls","firstEl","useImperativeHandle","close","toggle","content","cords","active","useOnEscape","listener","handler","els","firstFocusableEl","lastFocusableEl","useTabbing","useRepositionOnResize","refs","contains","r","useOnClickOutside","renderContent","popupContentStyle","styles","childrenElementProps","c","style","pointerEvents","e","addWarperAction","role","id","current","viewBox","d","fill","ovStyle","tabIndex","React","triggerProps","onAsArray","len","comp","renderTrigger","ReactDOM","PopupRoot","getRootPopup","_typeof","Symbol","iterator","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_defineProperties","_assertThisInitialized","_getPrototypeOf","o","_setPrototypeOf","p","QRCodeImpl","ErrorCorrectLevel","convertStr","str","out","charcode","charCodeAt","String","fromCharCode","DEFAULT_PROPS","size","level","bgColor","fgColor","includeMargin","generatePath","modules","ops","row","y","start","cell","x","concat","join","excavateModules","excavation","slice","map","h","w","getImageSettings","cells","imageSettings","numCells","defaultSize","Math","floor","scale","excavate","floorX","floorY","ceil","SUPPORTS_PATH2D","Path2D","addPath","QRCodeCanvas","_React$PureComponent","_getPrototypeOf2","_len","_key","imgLoaded","setState","_image","complete","handleImageLoad","update","nextProps","_this$props$imageSett","_nextProps$imageSetti","src","_this$props","qrcode","addData","make","_canvas","canvas","ctx","getContext","calculatedImageSettings","pixelRatio","devicePixelRatio","fillStyle","fillRect","rdx","cdx","drawImage","_this$props2","otherProps","canvasStyle","img","imgSrc","onLoad","_ref","Fragment","_ref2","PureComponent","QRCodeSVG","_React$PureComponent2","_this$props3","image","xlinkHref","preserveAspectRatio","fgPath","shapeRendering","QRCode","renderAs","module","MODE_NUMBER","MODE_ALPHA_NUM","MODE_8BIT_BYTE","MODE_KANJI","L","M","Q","H","math","QRPolynomial","num","shift","Error","offset","get","index","getLength","multiply","j","gexp","glog","mod","ratio","QRMath","n","LOG_TABLE","EXP_TABLE","BitByte","RSBlock","BitBuffer","util","Polynomial","typeNumber","errorCorrectLevel","moduleCount","dataCache","dataList","proto","newData","isDark","col","getModuleCount","rsBlocks","getRSBlocks","buffer","totalDataCount","dataCount","put","mode","getLengthInBits","write","makeImpl","getBestMaskPattern","test","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","minLostPoint","pattern","lostPoint","getLostPoint","createMovieClip","target_mc","instance_name","depth","qr_mc","createEmptyMovieClip","beginFill","moveTo","lineTo","endFill","pos","getPatternPosition","bits","getBCHTypeNumber","getBCHTypeInfo","inc","bitIndex","byteIndex","dark","getMask","PAD0","PAD1","putBit","createBytes","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","max","rsPoly","getErrorCorrectPolynomial","modPoly","modIndex","totalCodeCount","QR8bitByte","ECL","QRRSBlock","RS_BLOCK_TABLE","rsBlock","getRsBlockTable","list","count","QRBitBuffer","bufIndex","bit","Mode","QRMaskPattern","QRUtil","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","getBCHDigit","digit","errorCorrectLength","a","type","qrCode","sameCount","darkCount","abs","CopyToClipboard","_interopRequireDefault","_copyToClipboard","text","onCopy","options","elem","Children","only","result","cloneElement","deselectCurrent","clipboardToIE11Formatting","debug","message","reselectPrevious","range","selection","mark","success","createRange","getSelection","textContent","all","clip","whiteSpace","webkitUserSelect","MozUserSelect","msUserSelect","userSelect","addEventListener","stopPropagation","format","clipboardData","console","warn","clearData","setData","body","appendChild","selectNodeContents","addRange","execCommand","err","error","copyKey","userAgent","prompt","removeRange","removeAllRanges","removeChild","rangeCount","activeElement","ranges","getRangeAt","tagName","toUpperCase","blur","_toConsumableArray","arr","isArray","arr2","from","isSafari","isJsons","array","every","isArrays","jsonsHeaders","json","reduce","b","Set","jsons2arrays","jsons","headerLabels","headerKeys","header","label","getHeaderValue","property","foundValue","split","splice","elementOrEmpty","element","joiner","column","arrays2csv","jsons2csv","string2csv","csv","dataURI","URL","webkitURL","createObjectURL","PropsNotForwarded","_propTypes","oneOfType","string","func","isRequired","bool","_Download2","_Link2"],"mappings":"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","file":"static/js/7.69c81985.chunk.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _core = require('../core');\n\nvar _metaProps = require('../metaProps');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar defaultProps = {\n  target: '_blank'\n};\n\nvar CSVDownload = function (_React$Component) {\n  _inherits(CSVDownload, _React$Component);\n\n  function CSVDownload(props) {\n    _classCallCheck(this, CSVDownload);\n\n    var _this = _possibleConstructorReturn(this, (CSVDownload.__proto__ || Object.getPrototypeOf(CSVDownload)).call(this, props));\n\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(CSVDownload, [{\n    key: 'buildURI',\n    value: function buildURI() {\n      return _core.buildURI.apply(undefined, arguments);\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          data = _props.data,\n          headers = _props.headers,\n          separator = _props.separator,\n          enclosingCharacter = _props.enclosingCharacter,\n          uFEFF = _props.uFEFF,\n          target = _props.target,\n          specs = _props.specs,\n          replace = _props.replace;\n\n      this.state.page = window.open(this.buildURI(data, uFEFF, headers, separator, enclosingCharacter), target, specs, replace);\n    }\n  }, {\n    key: 'getWindow',\n    value: function getWindow() {\n      return this.state.page;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return CSVDownload;\n}(_react2.default.Component);\n\nCSVDownload.defaultProps = Object.assign(_metaProps.defaultProps, defaultProps);\nCSVDownload.propTypes = _metaProps.propTypes;\nexports.default = CSVDownload;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _core = require('../core');\n\nvar _metaProps = require('../metaProps');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CSVLink = function (_React$Component) {\n  _inherits(CSVLink, _React$Component);\n\n  function CSVLink(props) {\n    _classCallCheck(this, CSVLink);\n\n    var _this = _possibleConstructorReturn(this, (CSVLink.__proto__ || Object.getPrototypeOf(CSVLink)).call(this, props));\n\n    _this.buildURI = _this.buildURI.bind(_this);\n    return _this;\n  }\n\n  _createClass(CSVLink, [{\n    key: 'buildURI',\n    value: function buildURI() {\n      return _core.buildURI.apply(undefined, arguments);\n    }\n  }, {\n    key: 'handleLegacy',\n    value: function handleLegacy(event) {\n      var isAsync = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (window.navigator.msSaveOrOpenBlob) {\n        event.preventDefault();\n\n        var _props = this.props,\n            data = _props.data,\n            headers = _props.headers,\n            separator = _props.separator,\n            filename = _props.filename,\n            enclosingCharacter = _props.enclosingCharacter,\n            uFEFF = _props.uFEFF;\n\n\n        var csvData = isAsync && typeof data === 'function' ? data() : data;\n\n        var blob = new Blob([uFEFF ? '\\uFEFF' : '', (0, _core.toCSV)(csvData, headers, separator, enclosingCharacter)]);\n        window.navigator.msSaveBlob(blob, filename);\n\n        return false;\n      }\n    }\n  }, {\n    key: 'handleAsyncClick',\n    value: function handleAsyncClick(event) {\n      var _this2 = this;\n\n      var done = function done(proceed) {\n        if (proceed === false) {\n          event.preventDefault();\n          return;\n        }\n        _this2.handleLegacy(event, true);\n      };\n\n      this.props.onClick(event, done);\n    }\n  }, {\n    key: 'handleSyncClick',\n    value: function handleSyncClick(event) {\n      var stopEvent = this.props.onClick(event) === false;\n      if (stopEvent) {\n        event.preventDefault();\n        return;\n      }\n      this.handleLegacy(event);\n    }\n  }, {\n    key: 'handleClick',\n    value: function handleClick() {\n      var _this3 = this;\n\n      return function (event) {\n        if (typeof _this3.props.onClick === 'function') {\n          return _this3.props.asyncOnClick ? _this3.handleAsyncClick(event) : _this3.handleSyncClick(event);\n        }\n        _this3.handleLegacy(event);\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _props2 = this.props,\n          data = _props2.data,\n          headers = _props2.headers,\n          separator = _props2.separator,\n          filename = _props2.filename,\n          uFEFF = _props2.uFEFF,\n          children = _props2.children,\n          onClick = _props2.onClick,\n          asyncOnClick = _props2.asyncOnClick,\n          enclosingCharacter = _props2.enclosingCharacter,\n          rest = _objectWithoutProperties(_props2, ['data', 'headers', 'separator', 'filename', 'uFEFF', 'children', 'onClick', 'asyncOnClick', 'enclosingCharacter']);\n\n      var isNodeEnvironment = typeof window === 'undefined';\n      var href = isNodeEnvironment ? '' : this.buildURI(data, uFEFF, headers, separator, enclosingCharacter);\n\n      return _react2.default.createElement(\n        'a',\n        _extends({\n          download: filename\n        }, rest, {\n          ref: function ref(link) {\n            return _this4.link = link;\n          },\n          target: '_self',\n          href: href,\n          onClick: this.handleClick()\n        }),\n        children\n      );\n    }\n  }]);\n\n  return CSVLink;\n}(_react2.default.Component);\n\nCSVLink.defaultProps = _metaProps.defaultProps;\nCSVLink.propTypes = _metaProps.propTypes;\nexports.default = CSVLink;","import { useEffect, RefObject, useLayoutEffect } from 'react';\n\nexport const useOnEscape = (\n  handler: (event: KeyboardEvent) => void,\n  active = true\n) => {\n  useEffect(() => {\n    if (!active) return;\n    const listener = (event: KeyboardEvent) => {\n      // check if key is an Escape\n      if (event.key === 'Escape') handler(event);\n    };\n    document.addEventListener('keyup', listener);\n\n    return () => {\n      if (!active) return;\n      document.removeEventListener('keyup', listener);\n    };\n  }, [handler, active]);\n};\n\nexport const useRepositionOnResize = (handler: () => void, active = true) => {\n  useEffect(() => {\n    if (!active) return;\n    const listener = () => {\n      handler();\n    };\n\n    window.addEventListener('resize', listener);\n\n    return () => {\n      if (!active) return;\n      window.removeEventListener('resize', listener);\n    };\n  }, [handler, active]);\n};\n\nexport const useOnClickOutside = (\n  ref: RefObject<HTMLElement> | RefObject<HTMLElement>[],\n  handler: (event: TouchEvent | MouseEvent) => void,\n  active = true\n) => {\n  useEffect(() => {\n    if (!active) return;\n    const listener = (event: TouchEvent | MouseEvent) => {\n      // Do nothing if clicking ref's element or descendent elements\n      const refs = Array.isArray(ref) ? ref : [ref];\n\n      let contains = false;\n      refs.forEach(r => {\n        if (!r.current || r.current.contains(event.target as Node)) {\n          contains = true;\n          return;\n        }\n      });\n      event.stopPropagation();\n      if (!contains) handler(event);\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n\n    return () => {\n      if (!active) return;\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler, active]);\n};\n\n// Make sure that user is not able TAB out of the Modal content on Open\nexport const useTabbing = (\n  contentRef: RefObject<HTMLElement>,\n  active = true\n) => {\n  useEffect(() => {\n    if (!active) return;\n    const listener = (event: KeyboardEvent) => {\n      // check if key is an Tab\n      if (event.keyCode === 9) {\n        const els = contentRef?.current?.querySelectorAll(\n          'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]'\n        );\n\n        const focusableEls = Array.prototype.slice.call(els);\n        if (focusableEls.length === 1) {\n          event.preventDefault();\n          return;\n        }\n\n        const firstFocusableEl = focusableEls[0];\n        const lastFocusableEl = focusableEls[focusableEls.length - 1];\n        if (event.shiftKey && document.activeElement === firstFocusableEl) {\n          event.preventDefault();\n          lastFocusableEl.focus();\n        } else if (document.activeElement === lastFocusableEl) {\n          event.preventDefault();\n          firstFocusableEl.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', listener);\n\n    return () => {\n      if (!active) return;\n      document.removeEventListener('keydown', listener);\n    };\n  }, [contentRef, active]);\n};\n\nexport const useIsomorphicLayoutEffect =\n  typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n","import React from 'react';\n\ntype PopupStyle = {\n  popupContent: {\n    tooltip: React.CSSProperties;\n    modal: React.CSSProperties;\n  };\n  popupArrow: React.CSSProperties;\n  overlay: {\n    tooltip: React.CSSProperties;\n    modal: React.CSSProperties;\n  };\n};\n\nconst Style: PopupStyle = {\n  popupContent: {\n    tooltip: {\n      position: 'absolute',\n      zIndex: 999,\n    },\n    modal: {\n      position: 'relative',\n      margin: 'auto',\n    },\n  },\n  popupArrow: {\n    height: '8px',\n    width: '16px',\n    position: 'absolute',\n    background: 'transparent',\n    color: '#FFF',\n    zIndex: -1,\n  },\n  overlay: {\n    tooltip: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      zIndex: 999,\n    },\n    modal: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      display: 'flex',\n      zIndex: 999,\n    },\n  },\n};\n\nexport default Style;\n","/* Algo to calculate position\n  1. center position for popup content : the center of the trigger will be the center of the content content\n      so the popup content position will be like this :\n      top => the y of the center for the trigger element : trigger.top + trigger.height/2\n      left => the x of the center for the trigger element : trigger.left + trigger.width/2\n\n  2. translate position according to the first  position attribute  passed  in the function argument\n      for example :\n        position = 'left top'\n        we need to handle the first argument in the position: 'left' => that's mean we need to translate the popup content according to the X axis by - content.width/2\n\n  3.translate position according to the first  position attribute  passed  in the function argument\n    for example :\n      position = 'left top'\n      the second argument 'top' => translate popup content by + content.height*4/5\n\n  4. check if calculated position is going out of bounds of wrapper box or not. If yes repeat 1-3 for next position enum. By default wrapper box is window element\n*/\nimport { PopupPosition } from './types';\n\nexport const POSITION_TYPES: PopupPosition[] = [\n  'top left',\n  'top center',\n  'top right',\n  'right top',\n  'right center',\n  'right bottom',\n  'bottom left',\n  'bottom center',\n  'bottom right',\n  'left top',\n  'left center',\n  'left bottom',\n  //'center center',\n];\n\ntype CordsType = {\n  top: number;\n  left: number;\n  transform: string;\n  arrowLeft: string;\n  arrowTop: string;\n};\n\nconst getCoordinatesForPosition = (\n  triggerBounding: DOMRect,\n  ContentBounding: DOMRect,\n  position: PopupPosition, //PopupPosition | PopupPosition[],\n  arrow: boolean,\n  { offsetX, offsetY }: { offsetX: number; offsetY: number }\n): CordsType => {\n  const margin = arrow ? 8 : 0;\n  const args = position.split(' ');\n  // the step N 1 : center the popup content => ok\n  const CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  const CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  const { height, width } = ContentBounding;\n  let top = CenterTop - height / 2;\n  let left = CenterLeft - width / 2;\n  let transform = '';\n  let arrowTop = '0%';\n  let arrowLeft = '0%';\n  // the  step N 2 : => ok\n  switch (args[0]) {\n    case 'top':\n      top -= height / 2 + triggerBounding.height / 2 + margin;\n      transform = `rotate(180deg)  translateX(50%)`;\n      arrowTop = '100%';\n      arrowLeft = '50%';\n      break;\n    case 'bottom':\n      top += height / 2 + triggerBounding.height / 2 + margin;\n      transform = `rotate(0deg) translateY(-100%) translateX(-50%)`;\n      arrowLeft = '50%';\n      break;\n    case 'left':\n      left -= width / 2 + triggerBounding.width / 2 + margin;\n      transform = ` rotate(90deg)  translateY(50%) translateX(-25%)`;\n      arrowLeft = '100%';\n      arrowTop = '50%';\n      break;\n    case 'right':\n      left += width / 2 + triggerBounding.width / 2 + margin;\n      transform = `rotate(-90deg)  translateY(-150%) translateX(25%)`;\n      arrowTop = '50%';\n      break;\n    default:\n  }\n  switch (args[1]) {\n    case 'top':\n      top = triggerBounding.top;\n      arrowTop = `${triggerBounding.height / 2}px`;\n      break;\n    case 'bottom':\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = `${height - triggerBounding.height / 2}px`;\n      break;\n    case 'left':\n      left = triggerBounding.left;\n      arrowLeft = `${triggerBounding.width / 2}px`;\n      break;\n    case 'right':\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = `${width - triggerBounding.width / 2}px`;\n      break;\n    default:\n  }\n\n  top = args[0] === 'top' ? top - offsetY : top + offsetY;\n  left = args[0] === 'left' ? left - offsetX : left + offsetX;\n\n  return { top, left, transform, arrowLeft, arrowTop };\n};\n\nexport const getTooltipBoundary = (keepTooltipInside: string | Boolean) => {\n  // add viewport\n  let boundingBox = {\n    top: 0,\n    left: 0,\n    /* eslint-disable-next-line no-undef */\n    width: window.innerWidth,\n    /* eslint-disable-next-line no-undef */\n    height: window.innerHeight,\n  };\n  if (typeof keepTooltipInside === 'string') {\n    /* eslint-disable-next-line no-undef */\n    const selector = document.querySelector(keepTooltipInside);\n    if (process.env.NODE_ENV !== 'production') {\n      if (selector === null)\n        throw new Error(\n          `${keepTooltipInside} selector does not exist : keepTooltipInside must be a valid html selector 'class' or 'Id'  or a boolean value`\n        );\n    }\n    if (selector !== null) boundingBox = selector.getBoundingClientRect();\n  }\n\n  return boundingBox;\n};\n\nconst calculatePosition = (\n  triggerBounding: DOMRect,\n  ContentBounding: DOMRect,\n  position: PopupPosition | PopupPosition[],\n  arrow: boolean,\n  { offsetX, offsetY }: { offsetX: number; offsetY: number },\n  keepTooltipInside: string | boolean\n): CordsType => {\n  let bestCoords: CordsType = {\n    arrowLeft: '0%',\n    arrowTop: '0%',\n    left: 0,\n    top: 0,\n    transform: 'rotate(135deg)',\n  };\n  let i = 0;\n  const wrapperBox = getTooltipBoundary(keepTooltipInside);\n  let positions = Array.isArray(position) ? position : [position];\n\n  // keepTooltipInside would be activated if the  keepTooltipInside exist or the position is Array\n  if (keepTooltipInside || Array.isArray(position))\n    positions = [...positions, ...POSITION_TYPES];\n\n  // add viewPort for WarpperBox\n  // wrapperBox.top = wrapperBox.top + window.scrollY;\n  // wrapperBox.left = wrapperBox.left + window.scrollX;\n\n  while (i < positions.length) {\n    bestCoords = getCoordinatesForPosition(\n      triggerBounding,\n      ContentBounding,\n      positions[i],\n      arrow,\n      { offsetX, offsetY }\n    );\n\n    const contentBox = {\n      top: bestCoords.top,\n      left: bestCoords.left,\n      width: ContentBounding.width,\n      height: ContentBounding.height,\n    };\n\n    if (\n      contentBox.top <= wrapperBox.top ||\n      contentBox.left <= wrapperBox.left ||\n      contentBox.top + contentBox.height >=\n        wrapperBox.top + wrapperBox.height ||\n      contentBox.left + contentBox.width >= wrapperBox.left + wrapperBox.width\n    ) {\n      i++;\n    } else {\n      break;\n    }\n  }\n\n  return bestCoords;\n};\n\nexport default calculatePosition;\n","import React, {\n  useState,\n  useRef,\n  useEffect,\n  forwardRef,\n  useImperativeHandle,\n} from 'react';\nimport ReactDOM from 'react-dom';\nimport { PopupProps, PopupActions } from './types';\nimport {\n  useOnEscape,\n  useRepositionOnResize,\n  useOnClickOutside,\n  useTabbing,\n  useIsomorphicLayoutEffect,\n} from './hooks';\n\nimport './index.css';\n\nimport styles from './styles';\nimport calculatePosition from './Utils';\n\nlet popupIdCounter = 0;\n\nconst getRootPopup = () => {\n  let PopupRoot = document.getElementById('popup-root');\n\n  if (PopupRoot === null) {\n    PopupRoot = document.createElement('div');\n    PopupRoot.setAttribute('id', 'popup-root');\n    document.body.appendChild(PopupRoot);\n  }\n\n  return PopupRoot;\n};\n\nexport const Popup = forwardRef<PopupActions, PopupProps>(\n  (\n    {\n      trigger = null,\n      onOpen = () => {},\n      onClose = () => {},\n      defaultOpen = false,\n      open = undefined,\n      disabled = false,\n      nested = false,\n      closeOnDocumentClick = true,\n      repositionOnResize = true,\n      closeOnEscape = true,\n      on = ['click'],\n      contentStyle = {},\n      arrowStyle = {},\n      overlayStyle = {},\n      className = '',\n      position = 'bottom center',\n      modal = false,\n      lockScroll = false,\n      arrow = true,\n      offsetX = 0,\n      offsetY = 0,\n      mouseEnterDelay = 100,\n      mouseLeaveDelay = 100,\n      keepTooltipInside = false,\n      children,\n    },\n    ref\n  ) => {\n    const [isOpen, setIsOpen] = useState<boolean>(open || defaultOpen);\n    const triggerRef = useRef<HTMLElement>(null);\n    const contentRef = useRef<HTMLElement>(null);\n    const arrowRef = useRef<HTMLDivElement>(null);\n    const focusedElBeforeOpen = useRef<Element | null>(null);\n    const popupId = useRef<string>(`popup-${++popupIdCounter}`);\n\n    const isModal = modal ? true : !trigger;\n    const timeOut = useRef<any>(0);\n\n    useIsomorphicLayoutEffect(() => {\n      if (isOpen) {\n        focusedElBeforeOpen.current = document.activeElement;\n        setPosition();\n        focusContentOnOpen(); // for accessibility\n        lockScrolll();\n      } else {\n        resetScroll();\n      }\n      return () => {\n        clearTimeout(timeOut.current);\n      };\n    }, [isOpen]);\n\n    // for uncontrolled popup we need to sync isOpen with open prop\n    useEffect(() => {\n      if (typeof open === 'boolean') {\n        if (open) openPopup();\n        else closePopup();\n      }\n    }, [open, disabled]);\n\n    const openPopup = (event?: React.SyntheticEvent) => {\n      if (isOpen || disabled) return;\n      setIsOpen(true);\n      setTimeout(() => onOpen(event), 0);\n    };\n\n    const closePopup = (\n      event?: React.SyntheticEvent | KeyboardEvent | TouchEvent | MouseEvent\n    ) => {\n      if (!isOpen || disabled) return;\n      setIsOpen(false);\n      if (isModal) (focusedElBeforeOpen.current as HTMLElement)?.focus();\n      setTimeout(() => onClose(event), 0);\n    };\n\n    const togglePopup = (event?: React.SyntheticEvent) => {\n      event?.stopPropagation();\n      if (!isOpen) openPopup(event);\n      else closePopup(event);\n    };\n\n    const onMouseEnter = (event?: React.SyntheticEvent) => {\n      clearTimeout(timeOut.current);\n      timeOut.current = setTimeout(() => openPopup(event), mouseEnterDelay);\n    };\n\n    const onContextMenu = (event?: React.SyntheticEvent) => {\n      event?.preventDefault();\n      togglePopup();\n    };\n\n    const onMouseLeave = (event?: React.SyntheticEvent) => {\n      clearTimeout(timeOut.current);\n      timeOut.current = setTimeout(() => closePopup(event), mouseLeaveDelay);\n    };\n\n    const lockScrolll = () => {\n      if (isModal && lockScroll)\n        document.getElementsByTagName('body')[0].style.overflow = 'hidden'; // migrate to document.body\n    };\n\n    const resetScroll = () => {\n      if (isModal && lockScroll)\n        document.getElementsByTagName('body')[0].style.overflow = 'auto';\n    };\n    const focusContentOnOpen = () => {\n      const focusableEls = contentRef?.current?.querySelectorAll(\n        'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]'\n      );\n      const firstEl = Array.prototype.slice.call(focusableEls)[0];\n      firstEl?.focus();\n    };\n\n    useImperativeHandle(ref, () => ({\n      open: () => {\n        openPopup();\n      },\n      close: () => {\n        closePopup();\n      },\n      toggle: () => {\n        togglePopup();\n      },\n    }));\n\n    // set Position\n    const setPosition = () => {\n      if (isModal || !isOpen) return;\n      if (!triggerRef?.current || !triggerRef?.current || !contentRef?.current)\n        return; /// show error as one of ref is undefined\n      const trigger = triggerRef.current.getBoundingClientRect();\n      const content = contentRef.current.getBoundingClientRect();\n\n      const cords = calculatePosition(\n        trigger,\n        content,\n        position,\n        arrow,\n        {\n          offsetX,\n          offsetY,\n        },\n        keepTooltipInside\n      );\n      contentRef.current.style.top = `${cords.top + window.scrollY}px`;\n      contentRef.current.style.left = `${cords.left + window.scrollX}px`;\n      if (arrow && !!arrowRef.current) {\n        arrowRef.current.style.transform = cords.transform;\n        arrowRef.current.style.setProperty('-ms-transform', cords.transform);\n        arrowRef.current.style.setProperty(\n          '-webkit-transform',\n          cords.transform\n        );\n        arrowRef.current.style.top =\n          arrowStyle.top?.toString() || cords.arrowTop;\n        arrowRef.current.style.left =\n          arrowStyle.left?.toString() || cords.arrowLeft;\n      }\n    };\n    // hooks\n    useOnEscape(closePopup, closeOnEscape); // can be optimized if we disabled for hover\n    useTabbing(contentRef, isOpen && isModal);\n    useRepositionOnResize(setPosition, repositionOnResize);\n    useOnClickOutside(\n      !!trigger ? [contentRef, triggerRef] : [contentRef],\n      closePopup,\n      closeOnDocumentClick && !nested\n    ); // we need to add a ne\n    // render the trigger element and add events\n    const renderTrigger = () => {\n      const triggerProps: any = {\n        key: 'T',\n        ref: triggerRef,\n        'aria-describedby': popupId.current,\n      };\n      const onAsArray = Array.isArray(on) ? on : [on];\n      for (let i = 0, len = onAsArray.length; i < len; i++) {\n        switch (onAsArray[i]) {\n          case 'click':\n            triggerProps.onClick = togglePopup;\n            break;\n          case 'right-click':\n            triggerProps.onContextMenu = onContextMenu;\n            break;\n          case 'hover':\n            triggerProps.onMouseEnter = onMouseEnter;\n            triggerProps.onMouseLeave = onMouseLeave;\n            break;\n          case 'focus':\n            triggerProps.onFocus = onMouseEnter;\n            triggerProps.onBlur = onMouseLeave;\n            break;\n          default:\n        }\n      }\n\n      if (typeof trigger === 'function') {\n        const comp = trigger(isOpen);\n        return !!trigger && React.cloneElement(comp, triggerProps);\n      }\n\n      return !!trigger && React.cloneElement(trigger, triggerProps);\n    };\n\n    const addWarperAction = () => {\n      const popupContentStyle = isModal\n        ? styles.popupContent.modal\n        : styles.popupContent.tooltip;\n\n      const childrenElementProps: any = {\n        className: `popup-content ${\n          className !== ''\n            ? className\n                .split(' ')\n                .map(c => `${c}-content`)\n                .join(' ')\n            : ''\n        }`,\n        style: {\n          ...popupContentStyle,\n          ...contentStyle,\n          pointerEvents: 'auto', //closeOnDocumentClick && nested ? 'auto' : 'none',\n        },\n        ref: contentRef,\n        onClick: (e: any) => {\n          e.stopPropagation();\n        },\n      };\n      if (!modal && on.indexOf('hover') >= 0) {\n        childrenElementProps.onMouseEnter = onMouseEnter;\n        childrenElementProps.onMouseLeave = onMouseLeave;\n      }\n      return childrenElementProps;\n    };\n\n    const renderContent = () => {\n      return (\n        <div\n          {...addWarperAction()}\n          key=\"C\"\n          role={isModal ? 'dialog' : 'tooltip'}\n          id={popupId.current}\n        >\n          {arrow && !isModal && (\n            <div ref={arrowRef} style={styles.popupArrow}>\n              <svg\n                data-testid=\"arrow\"\n                className={`popup-arrow ${\n                  className !== ''\n                    ? className\n                        .split(' ')\n                        .map(c => `${c}-arrow`)\n                        .join(' ')\n                    : ''\n                }`}\n                viewBox=\"0 0 32 16\"\n                style={{\n                  position: 'absolute',\n                  ...arrowStyle,\n                }}\n              >\n                <path d=\"M16 0l16 16H0z\" fill=\"currentcolor\" />\n              </svg>\n            </div>\n          )}\n          {children && typeof children === 'function'\n            ? children(closePopup, isOpen)\n            : children}\n        </div>\n      );\n    };\n\n    const overlay = !(on.indexOf('hover') >= 0);\n    const ovStyle = isModal ? styles.overlay.modal : styles.overlay.tooltip;\n\n    const content = [\n      overlay && (\n        <div\n          key=\"O\"\n          data-testid=\"overlay\"\n          data-popup={isModal ? 'modal' : 'tooltip'}\n          className={`popup-overlay ${\n            className !== ''\n              ? className\n                  .split(' ')\n                  .map(c => `${c}-overlay`)\n                  .join(' ')\n              : ''\n          }`}\n          style={{\n            ...ovStyle,\n            ...overlayStyle,\n            pointerEvents:\n              (closeOnDocumentClick && nested) || isModal ? 'auto' : 'none',\n          }}\n          onClick={closeOnDocumentClick && nested ? closePopup : undefined}\n          tabIndex={-1}\n        >\n          {isModal && renderContent()}\n        </div>\n      ),\n\n      !isModal && renderContent(),\n    ];\n\n    return (\n      <>\n        {renderTrigger()}\n        {isOpen && ReactDOM.createPortal(content, getRootPopup())}\n      </>\n    );\n  }\n);\n\nexport default Popup;\n","'use strict';\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar React = require('react');\n\nvar PropTypes = require('prop-types'); // qr.js doesn't handle error level of zero (M) so we need to do it right,\n// thus the deep require.\n\n\nvar QRCodeImpl = require('qr.js/lib/QRCode');\n\nvar ErrorCorrectLevel = require('qr.js/lib/ErrorCorrectLevel'); // TODO: pull this off of the QRCode class type so it matches.\n\n\n// Convert from UTF-16, forcing the use of byte-mode encoding in our QR Code.\n// This allows us to encode Hanji, Kanji, emoji, etc. Ideally we'd do more\n// detection and not resort to byte-mode if possible, but we're trading off\n// a smaller library for a smaller amount of data we can potentially encode.\n// Based on http://jonisalonen.com/2012/from-utf-16-to-utf-8-in-javascript/\nfunction convertStr(str) {\n  var out = '';\n\n  for (var i = 0; i < str.length; i++) {\n    var charcode = str.charCodeAt(i);\n\n    if (charcode < 0x0080) {\n      out += String.fromCharCode(charcode);\n    } else if (charcode < 0x0800) {\n      out += String.fromCharCode(0xc0 | charcode >> 6);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    } else if (charcode < 0xd800 || charcode >= 0xe000) {\n      out += String.fromCharCode(0xe0 | charcode >> 12);\n      out += String.fromCharCode(0x80 | charcode >> 6 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    } else {\n      // This is a surrogate pair, so we'll reconsitute the pieces and work\n      // from that\n      i++;\n      charcode = 0x10000 + ((charcode & 0x3ff) << 10 | str.charCodeAt(i) & 0x3ff);\n      out += String.fromCharCode(0xf0 | charcode >> 18);\n      out += String.fromCharCode(0x80 | charcode >> 12 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode >> 6 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    }\n  }\n\n  return out;\n}\n\nvar DEFAULT_PROPS = {\n  size: 128,\n  level: 'L',\n  bgColor: '#FFFFFF',\n  fgColor: '#000000',\n  includeMargin: false\n};\nvar PROP_TYPES = process.env.NODE_ENV !== 'production' ? {\n  value: PropTypes.string.isRequired,\n  size: PropTypes.number,\n  level: PropTypes.oneOf(['L', 'M', 'Q', 'H']),\n  bgColor: PropTypes.string,\n  fgColor: PropTypes.string,\n  includeMargin: PropTypes.bool,\n  imageSettings: PropTypes.shape({\n    src: PropTypes.string.isRequired,\n    height: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    excavate: PropTypes.bool,\n    x: PropTypes.number,\n    y: PropTypes.number\n  })\n} : {};\nvar MARGIN_SIZE = 4; // This is *very* rough estimate of max amount of QRCode allowed to be covered.\n// It is \"wrong\" in a lot of ways (area is a terrible way to estimate, it\n// really should be number of modules covered), but if for some reason we don't\n// get an explicit height or width, I'd rather default to something than throw.\n\nvar DEFAULT_IMG_SCALE = 0.1;\n\nfunction generatePath(modules) {\n  var margin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var ops = [];\n  modules.forEach(function (row, y) {\n    var start = null;\n    row.forEach(function (cell, x) {\n      if (!cell && start !== null) {\n        // M0 0h7v1H0z injects the space with the move and drops the comma,\n        // saving a char per operation\n        ops.push(\"M\".concat(start + margin, \" \").concat(y + margin, \"h\").concat(x - start, \"v1H\").concat(start + margin, \"z\"));\n        start = null;\n        return;\n      } // end of row, clean up or skip\n\n\n      if (x === row.length - 1) {\n        if (!cell) {\n          // We would have closed the op above already so this can only mean\n          // 2+ light modules in a row.\n          return;\n        }\n\n        if (start === null) {\n          // Just a single dark module.\n          ops.push(\"M\".concat(x + margin, \",\").concat(y + margin, \" h1v1H\").concat(x + margin, \"z\"));\n        } else {\n          // Otherwise finish the current line.\n          ops.push(\"M\".concat(start + margin, \",\").concat(y + margin, \" h\").concat(x + 1 - start, \"v1H\").concat(start + margin, \"z\"));\n        }\n\n        return;\n      }\n\n      if (cell && start === null) {\n        start = x;\n      }\n    });\n  });\n  return ops.join('');\n} // We could just do this in generatePath, except that we want to support\n// non-Path2D canvas, so we need to keep it an explicit step.\n\n\nfunction excavateModules(modules, excavation) {\n  return modules.slice().map(function (row, y) {\n    if (y < excavation.y || y >= excavation.y + excavation.h) {\n      return row;\n    }\n\n    return row.map(function (cell, x) {\n      if (x < excavation.x || x >= excavation.x + excavation.w) {\n        return cell;\n      }\n\n      return false;\n    });\n  });\n}\n\nfunction getImageSettings(props, cells) {\n  var imageSettings = props.imageSettings,\n      size = props.size,\n      includeMargin = props.includeMargin;\n\n  if (imageSettings == null) {\n    return null;\n  }\n\n  var margin = includeMargin ? MARGIN_SIZE : 0;\n  var numCells = cells.length + margin * 2;\n  var defaultSize = Math.floor(size * DEFAULT_IMG_SCALE);\n  var scale = numCells / size;\n  var w = (imageSettings.width || defaultSize) * scale;\n  var h = (imageSettings.height || defaultSize) * scale;\n  var x = imageSettings.x == null ? cells.length / 2 - w / 2 : imageSettings.x * scale;\n  var y = imageSettings.y == null ? cells.length / 2 - h / 2 : imageSettings.y * scale;\n  var excavation = null;\n\n  if (imageSettings.excavate) {\n    var floorX = Math.floor(x);\n    var floorY = Math.floor(y);\n    var ceilW = Math.ceil(w + x - floorX);\n    var ceilH = Math.ceil(h + y - floorY);\n    excavation = {\n      x: floorX,\n      y: floorY,\n      w: ceilW,\n      h: ceilH\n    };\n  }\n\n  return {\n    x: x,\n    y: y,\n    h: h,\n    w: w,\n    excavation: excavation\n  };\n} // For canvas we're going to switch our drawing mode based on whether or not\n// the environment supports Path2D. We only need the constructor to be\n// supported, but Edge doesn't actually support the path (string) type\n// argument. Luckily it also doesn't support the addPath() method. We can\n// treat that as the same thing.\n\n\nvar SUPPORTS_PATH2D = function () {\n  try {\n    new Path2D().addPath(new Path2D());\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n}();\n\nvar QRCodeCanvas =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(QRCodeCanvas, _React$PureComponent);\n\n  function QRCodeCanvas() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, QRCodeCanvas);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(QRCodeCanvas)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"_canvas\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_image\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      imgLoaded: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleImageLoad\", function () {\n      _this.setState({\n        imgLoaded: true\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(QRCodeCanvas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this._image && this._image.complete) {\n        this.handleImageLoad();\n      }\n\n      this.update();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _this$props$imageSett, _nextProps$imageSetti;\n\n      var currentSrc = (_this$props$imageSett = this.props.imageSettings) === null || _this$props$imageSett === void 0 ? void 0 : _this$props$imageSett.src;\n      var nextSrc = (_nextProps$imageSetti = nextProps.imageSettings) === null || _nextProps$imageSetti === void 0 ? void 0 : _nextProps$imageSetti.src;\n\n      if (currentSrc !== nextSrc) {\n        this.setState({\n          imgLoaded: false\n        });\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.update();\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var _this$props = this.props,\n          value = _this$props.value,\n          size = _this$props.size,\n          level = _this$props.level,\n          bgColor = _this$props.bgColor,\n          fgColor = _this$props.fgColor,\n          includeMargin = _this$props.includeMargin,\n          imageSettings = _this$props.imageSettings; // We'll use type===-1 to force QRCode to automatically pick the best type\n\n      var qrcode = new QRCodeImpl(-1, ErrorCorrectLevel[level]);\n      qrcode.addData(convertStr(value));\n      qrcode.make();\n\n      if (this._canvas != null) {\n        var canvas = this._canvas;\n        var ctx = canvas.getContext('2d');\n\n        if (!ctx) {\n          return;\n        }\n\n        var cells = qrcode.modules;\n\n        if (cells === null) {\n          return;\n        }\n\n        var margin = includeMargin ? MARGIN_SIZE : 0;\n        var numCells = cells.length + margin * 2;\n        var calculatedImageSettings = getImageSettings(this.props, cells);\n\n        if (imageSettings != null && calculatedImageSettings != null) {\n          if (calculatedImageSettings.excavation != null) {\n            cells = excavateModules(cells, calculatedImageSettings.excavation);\n          }\n        } // We're going to scale this so that the number of drawable units\n        // matches the number of cells. This avoids rounding issues, but does\n        // result in some potentially unwanted single pixel issues between\n        // blocks, only in environments that don't support Path2D.\n\n\n        var pixelRatio = window.devicePixelRatio || 1;\n        canvas.height = canvas.width = size * pixelRatio;\n        var scale = size / numCells * pixelRatio;\n        ctx.scale(scale, scale); // Draw solid background, only paint dark modules.\n\n        ctx.fillStyle = bgColor;\n        ctx.fillRect(0, 0, numCells, numCells);\n        ctx.fillStyle = fgColor;\n\n        if (SUPPORTS_PATH2D) {\n          // $FlowFixMe: Path2D c'tor doesn't support args yet.\n          ctx.fill(new Path2D(generatePath(cells, margin)));\n        } else {\n          cells.forEach(function (row, rdx) {\n            row.forEach(function (cell, cdx) {\n              if (cell) {\n                ctx.fillRect(cdx + margin, rdx + margin, 1, 1);\n              }\n            });\n          });\n        }\n\n        if (this.state.imgLoaded && this._image && calculatedImageSettings != null) {\n          ctx.drawImage(this._image, calculatedImageSettings.x + margin, calculatedImageSettings.y + margin, calculatedImageSettings.w, calculatedImageSettings.h);\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          value = _this$props2.value,\n          size = _this$props2.size,\n          level = _this$props2.level,\n          bgColor = _this$props2.bgColor,\n          fgColor = _this$props2.fgColor,\n          style = _this$props2.style,\n          includeMargin = _this$props2.includeMargin,\n          imageSettings = _this$props2.imageSettings,\n          otherProps = _objectWithoutProperties(_this$props2, [\"value\", \"size\", \"level\", \"bgColor\", \"fgColor\", \"style\", \"includeMargin\", \"imageSettings\"]);\n\n      var canvasStyle = _objectSpread({\n        height: size,\n        width: size\n      }, style);\n\n      var img = null;\n      var imgSrc = imageSettings && imageSettings.src;\n\n      if (imageSettings != null && imgSrc != null) {\n        img = React.createElement(\"img\", {\n          src: imgSrc,\n          style: {\n            display: 'none'\n          },\n          onLoad: this.handleImageLoad,\n          ref: function ref(_ref) {\n            return _this2._image = _ref;\n          }\n        });\n      }\n\n      return React.createElement(React.Fragment, null, React.createElement(\"canvas\", _extends({\n        style: canvasStyle,\n        height: size,\n        width: size,\n        ref: function ref(_ref2) {\n          return _this2._canvas = _ref2;\n        }\n      }, otherProps)), img);\n    }\n  }]);\n\n  return QRCodeCanvas;\n}(React.PureComponent);\n\n_defineProperty(QRCodeCanvas, \"defaultProps\", DEFAULT_PROPS);\n\nif (process.env.NODE_ENV !== 'production') {\n  QRCodeCanvas.propTypes = PROP_TYPES;\n}\n\nvar QRCodeSVG =\n/*#__PURE__*/\nfunction (_React$PureComponent2) {\n  _inherits(QRCodeSVG, _React$PureComponent2);\n\n  function QRCodeSVG() {\n    _classCallCheck(this, QRCodeSVG);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(QRCodeSVG).apply(this, arguments));\n  }\n\n  _createClass(QRCodeSVG, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          value = _this$props3.value,\n          size = _this$props3.size,\n          level = _this$props3.level,\n          bgColor = _this$props3.bgColor,\n          fgColor = _this$props3.fgColor,\n          includeMargin = _this$props3.includeMargin,\n          imageSettings = _this$props3.imageSettings,\n          otherProps = _objectWithoutProperties(_this$props3, [\"value\", \"size\", \"level\", \"bgColor\", \"fgColor\", \"includeMargin\", \"imageSettings\"]); // We'll use type===-1 to force QRCode to automatically pick the best type\n\n\n      var qrcode = new QRCodeImpl(-1, ErrorCorrectLevel[level]);\n      qrcode.addData(convertStr(value));\n      qrcode.make();\n      var cells = qrcode.modules;\n\n      if (cells === null) {\n        return null;\n      }\n\n      var margin = includeMargin ? MARGIN_SIZE : 0;\n      var numCells = cells.length + margin * 2;\n      var calculatedImageSettings = getImageSettings(this.props, cells);\n      var image = null;\n\n      if (imageSettings != null && calculatedImageSettings != null) {\n        if (calculatedImageSettings.excavation != null) {\n          cells = excavateModules(cells, calculatedImageSettings.excavation);\n        }\n\n        image = React.createElement(\"image\", {\n          xlinkHref: imageSettings.src,\n          height: calculatedImageSettings.h,\n          width: calculatedImageSettings.w,\n          x: calculatedImageSettings.x + margin,\n          y: calculatedImageSettings.y + margin,\n          preserveAspectRatio: \"none\"\n        });\n      } // Drawing strategy: instead of a rect per module, we're going to create a\n      // single path for the dark modules and layer that on top of a light rect,\n      // for a total of 2 DOM nodes. We pay a bit more in string concat but that's\n      // way faster than DOM ops.\n      // For level 1, 441 nodes -> 2\n      // For level 40, 31329 -> 2\n\n\n      var fgPath = generatePath(cells, margin);\n      return React.createElement(\"svg\", _extends({\n        shapeRendering: \"crispEdges\",\n        height: size,\n        width: size,\n        viewBox: \"0 0 \".concat(numCells, \" \").concat(numCells)\n      }, otherProps), React.createElement(\"path\", {\n        fill: bgColor,\n        d: \"M0,0 h\".concat(numCells, \"v\").concat(numCells, \"H0z\")\n      }), React.createElement(\"path\", {\n        fill: fgColor,\n        d: fgPath\n      }), image);\n    }\n  }]);\n\n  return QRCodeSVG;\n}(React.PureComponent);\n\n_defineProperty(QRCodeSVG, \"defaultProps\", DEFAULT_PROPS);\n\nif (process.env.NODE_ENV !== 'production') {\n  QRCodeSVG.propTypes = PROP_TYPES;\n}\n\nvar QRCode = function QRCode(props) {\n  var renderAs = props.renderAs,\n      otherProps = _objectWithoutProperties(props, [\"renderAs\"]);\n\n  var Component = renderAs === 'svg' ? QRCodeSVG : QRCodeCanvas;\n  return React.createElement(Component, otherProps);\n};\n\nQRCode.defaultProps = _objectSpread({\n  renderAs: 'canvas'\n}, DEFAULT_PROPS);\nmodule.exports = QRCode;","module.exports = {\n\tMODE_NUMBER :\t\t1 << 0,\n\tMODE_ALPHA_NUM : \t1 << 1,\n\tMODE_8BIT_BYTE : \t1 << 2,\n\tMODE_KANJI :\t\t1 << 3\n};\n","module.exports = {\n\tL : 1,\n\tM : 0,\n\tQ : 3,\n\tH : 2\n};\n\n","var math = require('./math');\n\nfunction QRPolynomial(num, shift) {\n\n\tif (num.length == undefined) {\n\t\tthrow new Error(num.length + \"/\" + shift);\n\t}\n\n\tvar offset = 0;\n\n\twhile (offset < num.length && num[offset] == 0) {\n\t\toffset++;\n\t}\n\n\tthis.num = new Array(num.length - offset + shift);\n\tfor (var i = 0; i < num.length - offset; i++) {\n\t\tthis.num[i] = num[i + offset];\n\t}\n}\n\nQRPolynomial.prototype = {\n\n\tget : function(index) {\n\t\treturn this.num[index];\n\t},\n\t\n\tgetLength : function() {\n\t\treturn this.num.length;\n\t},\n\t\n\tmultiply : function(e) {\n\t\n\t\tvar num = new Array(this.getLength() + e.getLength() - 1);\n\t\n\t\tfor (var i = 0; i < this.getLength(); i++) {\n\t\t\tfor (var j = 0; j < e.getLength(); j++) {\n\t\t\t\tnum[i + j] ^= math.gexp(math.glog(this.get(i) ) + math.glog(e.get(j) ) );\n\t\t\t}\n\t\t}\n\t\n\t\treturn new QRPolynomial(num, 0);\n\t},\n\t\n\tmod : function(e) {\n\t\n\t\tif (this.getLength() - e.getLength() < 0) {\n\t\t\treturn this;\n\t\t}\n\t\n\t\tvar ratio = math.glog(this.get(0) ) - math.glog(e.get(0) );\n\t\n\t\tvar num = new Array(this.getLength() );\n\t\t\n\t\tfor (var i = 0; i < this.getLength(); i++) {\n\t\t\tnum[i] = this.get(i);\n\t\t}\n\t\t\n\t\tfor (var i = 0; i < e.getLength(); i++) {\n\t\t\tnum[i] ^= math.gexp(math.glog(e.get(i) ) + ratio);\n\t\t}\n\t\n\t\t// recursive call\n\t\treturn new QRPolynomial(num, 0).mod(e);\n\t}\n};\n\nmodule.exports = QRPolynomial;\n","var QRMath = {\n\n\tglog : function(n) {\n\t\n\t\tif (n < 1) {\n\t\t\tthrow new Error(\"glog(\" + n + \")\");\n\t\t}\n\t\t\n\t\treturn QRMath.LOG_TABLE[n];\n\t},\n\t\n\tgexp : function(n) {\n\t\n\t\twhile (n < 0) {\n\t\t\tn += 255;\n\t\t}\n\t\n\t\twhile (n >= 256) {\n\t\t\tn -= 255;\n\t\t}\n\t\n\t\treturn QRMath.EXP_TABLE[n];\n\t},\n\t\n\tEXP_TABLE : new Array(256),\n\t\n\tLOG_TABLE : new Array(256)\n\n};\n\t\nfor (var i = 0; i < 8; i++) {\n\tQRMath.EXP_TABLE[i] = 1 << i;\n}\nfor (var i = 8; i < 256; i++) {\n\tQRMath.EXP_TABLE[i] = QRMath.EXP_TABLE[i - 4]\n\t\t^ QRMath.EXP_TABLE[i - 5]\n\t\t^ QRMath.EXP_TABLE[i - 6]\n\t\t^ QRMath.EXP_TABLE[i - 8];\n}\nfor (var i = 0; i < 255; i++) {\n\tQRMath.LOG_TABLE[QRMath.EXP_TABLE[i] ] = i;\n}\n\nmodule.exports = QRMath;\n","var BitByte = require('./8BitByte');\nvar RSBlock = require('./RSBlock');\nvar BitBuffer = require('./BitBuffer');\nvar util = require('./util');\nvar Polynomial = require('./Polynomial');\n\nfunction QRCode(typeNumber, errorCorrectLevel) {\n\tthis.typeNumber = typeNumber;\n\tthis.errorCorrectLevel = errorCorrectLevel;\n\tthis.modules = null;\n\tthis.moduleCount = 0;\n\tthis.dataCache = null;\n\tthis.dataList = [];\n}\n\n// for client side minification\nvar proto = QRCode.prototype;\n\nproto.addData = function(data) {\n\tvar newData = new BitByte(data);\n\tthis.dataList.push(newData);\n\tthis.dataCache = null;\n};\n\nproto.isDark = function(row, col) {\n\tif (row < 0 || this.moduleCount <= row || col < 0 || this.moduleCount <= col) {\n\t\tthrow new Error(row + \",\" + col);\n\t}\n\treturn this.modules[row][col];\n};\n\nproto.getModuleCount = function() {\n\treturn this.moduleCount;\n};\n\nproto.make = function() {\n\t// Calculate automatically typeNumber if provided is < 1\n\tif (this.typeNumber < 1 ){\n\t\tvar typeNumber = 1;\n\t\tfor (typeNumber = 1; typeNumber < 40; typeNumber++) {\n\t\t\tvar rsBlocks = RSBlock.getRSBlocks(typeNumber, this.errorCorrectLevel);\n\n\t\t\tvar buffer = new BitBuffer();\n\t\t\tvar totalDataCount = 0;\n\t\t\tfor (var i = 0; i < rsBlocks.length; i++) {\n\t\t\t\ttotalDataCount += rsBlocks[i].dataCount;\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < this.dataList.length; i++) {\n\t\t\t\tvar data = this.dataList[i];\n\t\t\t\tbuffer.put(data.mode, 4);\n\t\t\t\tbuffer.put(data.getLength(), util.getLengthInBits(data.mode, typeNumber) );\n\t\t\t\tdata.write(buffer);\n\t\t\t}\n\t\t\tif (buffer.getLengthInBits() <= totalDataCount * 8)\n\t\t\t\tbreak;\n\t\t}\n\t\tthis.typeNumber = typeNumber;\n\t}\n\tthis.makeImpl(false, this.getBestMaskPattern() );\n};\n\nproto.makeImpl = function(test, maskPattern) {\n\t\n\tthis.moduleCount = this.typeNumber * 4 + 17;\n\tthis.modules = new Array(this.moduleCount);\n\t\n\tfor (var row = 0; row < this.moduleCount; row++) {\n\t\t\n\t\tthis.modules[row] = new Array(this.moduleCount);\n\t\t\n\t\tfor (var col = 0; col < this.moduleCount; col++) {\n\t\t\tthis.modules[row][col] = null;//(col + row) % 3;\n\t\t}\n\t}\n\n\tthis.setupPositionProbePattern(0, 0);\n\tthis.setupPositionProbePattern(this.moduleCount - 7, 0);\n\tthis.setupPositionProbePattern(0, this.moduleCount - 7);\n\tthis.setupPositionAdjustPattern();\n\tthis.setupTimingPattern();\n\tthis.setupTypeInfo(test, maskPattern);\n\t\n\tif (this.typeNumber >= 7) {\n\t\tthis.setupTypeNumber(test);\n\t}\n\n\tif (this.dataCache == null) {\n\t\tthis.dataCache = QRCode.createData(this.typeNumber, this.errorCorrectLevel, this.dataList);\n\t}\n\n\tthis.mapData(this.dataCache, maskPattern);\n};\n\nproto.setupPositionProbePattern = function(row, col)  {\n\t\n\tfor (var r = -1; r <= 7; r++) {\n\t\t\n\t\tif (row + r <= -1 || this.moduleCount <= row + r) continue;\n\t\t\n\t\tfor (var c = -1; c <= 7; c++) {\n\t\t\t\n\t\t\tif (col + c <= -1 || this.moduleCount <= col + c) continue;\n\t\t\t\n\t\t\tif ( (0 <= r && r <= 6 && (c == 0 || c == 6) )\n\t\t\t\t\t|| (0 <= c && c <= 6 && (r == 0 || r == 6) )\n\t\t\t\t\t|| (2 <= r && r <= 4 && 2 <= c && c <= 4) ) {\n\t\t\t\tthis.modules[row + r][col + c] = true;\n\t\t\t} else {\n\t\t\t\tthis.modules[row + r][col + c] = false;\n\t\t\t}\n\t\t}\t\t\n\t}\t\t\n};\n\nproto.getBestMaskPattern = function() {\n\n\tvar minLostPoint = 0;\n\tvar pattern = 0;\n\n\tfor (var i = 0; i < 8; i++) {\n\t\t\n\t\tthis.makeImpl(true, i);\n\n\t\tvar lostPoint = util.getLostPoint(this);\n\n\t\tif (i == 0 || minLostPoint >  lostPoint) {\n\t\t\tminLostPoint = lostPoint;\n\t\t\tpattern = i;\n\t\t}\n\t}\n\n\treturn pattern;\n};\n\nproto.createMovieClip = function(target_mc, instance_name, depth) {\n\n\tvar qr_mc = target_mc.createEmptyMovieClip(instance_name, depth);\n\tvar cs = 1;\n\n\tthis.make();\n\n\tfor (var row = 0; row < this.modules.length; row++) {\n\t\t\n\t\tvar y = row * cs;\n\t\t\n\t\tfor (var col = 0; col < this.modules[row].length; col++) {\n\n\t\t\tvar x = col * cs;\n\t\t\tvar dark = this.modules[row][col];\n\t\t\n\t\t\tif (dark) {\n\t\t\t\tqr_mc.beginFill(0, 100);\n\t\t\t\tqr_mc.moveTo(x, y);\n\t\t\t\tqr_mc.lineTo(x + cs, y);\n\t\t\t\tqr_mc.lineTo(x + cs, y + cs);\n\t\t\t\tqr_mc.lineTo(x, y + cs);\n\t\t\t\tqr_mc.endFill();\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn qr_mc;\n};\n\nproto.setupTimingPattern = function() {\n\t\n\tfor (var r = 8; r < this.moduleCount - 8; r++) {\n\t\tif (this.modules[r][6] != null) {\n\t\t\tcontinue;\n\t\t}\n\t\tthis.modules[r][6] = (r % 2 == 0);\n\t}\n\n\tfor (var c = 8; c < this.moduleCount - 8; c++) {\n\t\tif (this.modules[6][c] != null) {\n\t\t\tcontinue;\n\t\t}\n\t\tthis.modules[6][c] = (c % 2 == 0);\n\t}\n};\n\nproto.setupPositionAdjustPattern = function() {\n\n\tvar pos = util.getPatternPosition(this.typeNumber);\n\t\n\tfor (var i = 0; i < pos.length; i++) {\n\t\n\t\tfor (var j = 0; j < pos.length; j++) {\n\t\t\n\t\t\tvar row = pos[i];\n\t\t\tvar col = pos[j];\n\t\t\t\n\t\t\tif (this.modules[row][col] != null) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\tfor (var r = -2; r <= 2; r++) {\n\t\t\t\n\t\t\t\tfor (var c = -2; c <= 2; c++) {\n\t\t\t\t\n\t\t\t\t\tif (r == -2 || r == 2 || c == -2 || c == 2\n\t\t\t\t\t\t\t|| (r == 0 && c == 0) ) {\n\t\t\t\t\t\tthis.modules[row + r][col + c] = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.modules[row + r][col + c] = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\nproto.setupTypeNumber = function(test) {\n\n\tvar bits = util.getBCHTypeNumber(this.typeNumber);\n\n\tfor (var i = 0; i < 18; i++) {\n\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\t\tthis.modules[Math.floor(i / 3)][i % 3 + this.moduleCount - 8 - 3] = mod;\n\t}\n\n\tfor (var i = 0; i < 18; i++) {\n\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\t\tthis.modules[i % 3 + this.moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\n\t}\n};\n\nproto.setupTypeInfo = function(test, maskPattern) {\n\n\tvar data = (this.errorCorrectLevel << 3) | maskPattern;\n\tvar bits = util.getBCHTypeInfo(data);\n\n\t// vertical\t\t\n\tfor (var i = 0; i < 15; i++) {\n\n\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\n\t\tif (i < 6) {\n\t\t\tthis.modules[i][8] = mod;\n\t\t} else if (i < 8) {\n\t\t\tthis.modules[i + 1][8] = mod;\n\t\t} else {\n\t\t\tthis.modules[this.moduleCount - 15 + i][8] = mod;\n\t\t}\n\t}\n\n\t// horizontal\n\tfor (var i = 0; i < 15; i++) {\n\n\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\t\t\n\t\tif (i < 8) {\n\t\t\tthis.modules[8][this.moduleCount - i - 1] = mod;\n\t\t} else if (i < 9) {\n\t\t\tthis.modules[8][15 - i - 1 + 1] = mod;\n\t\t} else {\n\t\t\tthis.modules[8][15 - i - 1] = mod;\n\t\t}\n\t}\n\n\t// fixed module\n\tthis.modules[this.moduleCount - 8][8] = (!test);\n};\n\nproto.mapData = function(data, maskPattern) {\n\t\n\tvar inc = -1;\n\tvar row = this.moduleCount - 1;\n\tvar bitIndex = 7;\n\tvar byteIndex = 0;\n\t\n\tfor (var col = this.moduleCount - 1; col > 0; col -= 2) {\n\n\t\tif (col == 6) col--;\n\n\t\twhile (true) {\n\n\t\t\tfor (var c = 0; c < 2; c++) {\n\t\t\t\t\n\t\t\t\tif (this.modules[row][col - c] == null) {\n\t\t\t\t\t\n\t\t\t\t\tvar dark = false;\n\n\t\t\t\t\tif (byteIndex < data.length) {\n\t\t\t\t\t\tdark = ( ( (data[byteIndex] >>> bitIndex) & 1) == 1);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar mask = util.getMask(maskPattern, row, col - c);\n\n\t\t\t\t\tif (mask) {\n\t\t\t\t\t\tdark = !dark;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.modules[row][col - c] = dark;\n\t\t\t\t\tbitIndex--;\n\n\t\t\t\t\tif (bitIndex == -1) {\n\t\t\t\t\t\tbyteIndex++;\n\t\t\t\t\t\tbitIndex = 7;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\trow += inc;\n\n\t\t\tif (row < 0 || this.moduleCount <= row) {\n\t\t\t\trow -= inc;\n\t\t\t\tinc = -inc;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n};\n\nQRCode.PAD0 = 0xEC;\nQRCode.PAD1 = 0x11;\n\nQRCode.createData = function(typeNumber, errorCorrectLevel, dataList) {\n\t\n\tvar rsBlocks = RSBlock.getRSBlocks(typeNumber, errorCorrectLevel);\n\t\n\tvar buffer = new BitBuffer();\n\t\n\tfor (var i = 0; i < dataList.length; i++) {\n\t\tvar data = dataList[i];\n\t\tbuffer.put(data.mode, 4);\n\t\tbuffer.put(data.getLength(), util.getLengthInBits(data.mode, typeNumber) );\n\t\tdata.write(buffer);\n\t}\n\n\t// calc num max data.\n\tvar totalDataCount = 0;\n\tfor (var i = 0; i < rsBlocks.length; i++) {\n\t\ttotalDataCount += rsBlocks[i].dataCount;\n\t}\n\n\tif (buffer.getLengthInBits() > totalDataCount * 8) {\n\t\tthrow new Error(\"code length overflow. (\"\n\t\t\t+ buffer.getLengthInBits()\n\t\t\t+ \">\"\n\t\t\t+  totalDataCount * 8\n\t\t\t+ \")\");\n\t}\n\n\t// end code\n\tif (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n\t\tbuffer.put(0, 4);\n\t}\n\n\t// padding\n\twhile (buffer.getLengthInBits() % 8 != 0) {\n\t\tbuffer.putBit(false);\n\t}\n\n\t// padding\n\twhile (true) {\n\t\t\n\t\tif (buffer.getLengthInBits() >= totalDataCount * 8) {\n\t\t\tbreak;\n\t\t}\n\t\tbuffer.put(QRCode.PAD0, 8);\n\t\t\n\t\tif (buffer.getLengthInBits() >= totalDataCount * 8) {\n\t\t\tbreak;\n\t\t}\n\t\tbuffer.put(QRCode.PAD1, 8);\n\t}\n\n\treturn QRCode.createBytes(buffer, rsBlocks);\n};\n\nQRCode.createBytes = function(buffer, rsBlocks) {\n\n\tvar offset = 0;\n\t\n\tvar maxDcCount = 0;\n\tvar maxEcCount = 0;\n\t\n\tvar dcdata = new Array(rsBlocks.length);\n\tvar ecdata = new Array(rsBlocks.length);\n\t\n\tfor (var r = 0; r < rsBlocks.length; r++) {\n\n\t\tvar dcCount = rsBlocks[r].dataCount;\n\t\tvar ecCount = rsBlocks[r].totalCount - dcCount;\n\n\t\tmaxDcCount = Math.max(maxDcCount, dcCount);\n\t\tmaxEcCount = Math.max(maxEcCount, ecCount);\n\t\t\n\t\tdcdata[r] = new Array(dcCount);\n\t\t\n\t\tfor (var i = 0; i < dcdata[r].length; i++) {\n\t\t\tdcdata[r][i] = 0xff & buffer.buffer[i + offset];\n\t\t}\n\t\toffset += dcCount;\n\t\t\n\t\tvar rsPoly = util.getErrorCorrectPolynomial(ecCount);\n\t\tvar rawPoly = new Polynomial(dcdata[r], rsPoly.getLength() - 1);\n\n\t\tvar modPoly = rawPoly.mod(rsPoly);\n\t\tecdata[r] = new Array(rsPoly.getLength() - 1);\n\t\tfor (var i = 0; i < ecdata[r].length; i++) {\n            var modIndex = i + modPoly.getLength() - ecdata[r].length;\n\t\t\tecdata[r][i] = (modIndex >= 0)? modPoly.get(modIndex) : 0;\n\t\t}\n\n\t}\n\t\n\tvar totalCodeCount = 0;\n\tfor (var i = 0; i < rsBlocks.length; i++) {\n\t\ttotalCodeCount += rsBlocks[i].totalCount;\n\t}\n\n\tvar data = new Array(totalCodeCount);\n\tvar index = 0;\n\n\tfor (var i = 0; i < maxDcCount; i++) {\n\t\tfor (var r = 0; r < rsBlocks.length; r++) {\n\t\t\tif (i < dcdata[r].length) {\n\t\t\t\tdata[index++] = dcdata[r][i];\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var i = 0; i < maxEcCount; i++) {\n\t\tfor (var r = 0; r < rsBlocks.length; r++) {\n\t\t\tif (i < ecdata[r].length) {\n\t\t\t\tdata[index++] = ecdata[r][i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn data;\n};\n\nmodule.exports = QRCode;\n\n","var mode = require('./mode');\n\nfunction QR8bitByte(data) {\n\tthis.mode = mode.MODE_8BIT_BYTE;\n\tthis.data = data;\n}\n\nQR8bitByte.prototype = {\n\n\tgetLength : function(buffer) {\n\t\treturn this.data.length;\n\t},\n\t\n\twrite : function(buffer) {\n\t\tfor (var i = 0; i < this.data.length; i++) {\n\t\t\t// not JIS ...\n\t\t\tbuffer.put(this.data.charCodeAt(i), 8);\n\t\t}\n\t}\n};\n\nmodule.exports = QR8bitByte;\n\n","// ErrorCorrectLevel\nvar ECL = require('./ErrorCorrectLevel');\n\nfunction QRRSBlock(totalCount, dataCount) {\n\tthis.totalCount = totalCount;\n\tthis.dataCount  = dataCount;\n}\n\nQRRSBlock.RS_BLOCK_TABLE = [\n\n\t// L\n\t// M\n\t// Q\n\t// H\n\n\t// 1\n\t[1, 26, 19],\n\t[1, 26, 16],\n\t[1, 26, 13],\n\t[1, 26, 9],\n\t\n\t// 2\n\t[1, 44, 34],\n\t[1, 44, 28],\n\t[1, 44, 22],\n\t[1, 44, 16],\n\n\t// 3\n\t[1, 70, 55],\n\t[1, 70, 44],\n\t[2, 35, 17],\n\t[2, 35, 13],\n\n\t// 4\t\t\n\t[1, 100, 80],\n\t[2, 50, 32],\n\t[2, 50, 24],\n\t[4, 25, 9],\n\t\n\t// 5\n\t[1, 134, 108],\n\t[2, 67, 43],\n\t[2, 33, 15, 2, 34, 16],\n\t[2, 33, 11, 2, 34, 12],\n\t\n\t// 6\n\t[2, 86, 68],\n\t[4, 43, 27],\n\t[4, 43, 19],\n\t[4, 43, 15],\n\t\n\t// 7\t\t\n\t[2, 98, 78],\n\t[4, 49, 31],\n\t[2, 32, 14, 4, 33, 15],\n\t[4, 39, 13, 1, 40, 14],\n\t\n\t// 8\n\t[2, 121, 97],\n\t[2, 60, 38, 2, 61, 39],\n\t[4, 40, 18, 2, 41, 19],\n\t[4, 40, 14, 2, 41, 15],\n\t\n\t// 9\n\t[2, 146, 116],\n\t[3, 58, 36, 2, 59, 37],\n\t[4, 36, 16, 4, 37, 17],\n\t[4, 36, 12, 4, 37, 13],\n\t\n\t// 10\t\t\n\t[2, 86, 68, 2, 87, 69],\n\t[4, 69, 43, 1, 70, 44],\n\t[6, 43, 19, 2, 44, 20],\n\t[6, 43, 15, 2, 44, 16],\n\n\t// 11\n\t[4, 101, 81],\n\t[1, 80, 50, 4, 81, 51],\n\t[4, 50, 22, 4, 51, 23],\n\t[3, 36, 12, 8, 37, 13],\n\n\t// 12\n\t[2, 116, 92, 2, 117, 93],\n\t[6, 58, 36, 2, 59, 37],\n\t[4, 46, 20, 6, 47, 21],\n\t[7, 42, 14, 4, 43, 15],\n\n\t// 13\n\t[4, 133, 107],\n\t[8, 59, 37, 1, 60, 38],\n\t[8, 44, 20, 4, 45, 21],\n\t[12, 33, 11, 4, 34, 12],\n\n\t// 14\n\t[3, 145, 115, 1, 146, 116],\n\t[4, 64, 40, 5, 65, 41],\n\t[11, 36, 16, 5, 37, 17],\n\t[11, 36, 12, 5, 37, 13],\n\n\t// 15\n\t[5, 109, 87, 1, 110, 88],\n\t[5, 65, 41, 5, 66, 42],\n\t[5, 54, 24, 7, 55, 25],\n\t[11, 36, 12],\n\n\t// 16\n\t[5, 122, 98, 1, 123, 99],\n\t[7, 73, 45, 3, 74, 46],\n\t[15, 43, 19, 2, 44, 20],\n\t[3, 45, 15, 13, 46, 16],\n\n\t// 17\n\t[1, 135, 107, 5, 136, 108],\n\t[10, 74, 46, 1, 75, 47],\n\t[1, 50, 22, 15, 51, 23],\n\t[2, 42, 14, 17, 43, 15],\n\n\t// 18\n\t[5, 150, 120, 1, 151, 121],\n\t[9, 69, 43, 4, 70, 44],\n\t[17, 50, 22, 1, 51, 23],\n\t[2, 42, 14, 19, 43, 15],\n\n\t// 19\n\t[3, 141, 113, 4, 142, 114],\n\t[3, 70, 44, 11, 71, 45],\n\t[17, 47, 21, 4, 48, 22],\n\t[9, 39, 13, 16, 40, 14],\n\n\t// 20\n\t[3, 135, 107, 5, 136, 108],\n\t[3, 67, 41, 13, 68, 42],\n\t[15, 54, 24, 5, 55, 25],\n\t[15, 43, 15, 10, 44, 16],\n\n\t// 21\n\t[4, 144, 116, 4, 145, 117],\n\t[17, 68, 42],\n\t[17, 50, 22, 6, 51, 23],\n\t[19, 46, 16, 6, 47, 17],\n\n\t// 22\n\t[2, 139, 111, 7, 140, 112],\n\t[17, 74, 46],\n\t[7, 54, 24, 16, 55, 25],\n\t[34, 37, 13],\n\n\t// 23\n\t[4, 151, 121, 5, 152, 122],\n\t[4, 75, 47, 14, 76, 48],\n\t[11, 54, 24, 14, 55, 25],\n\t[16, 45, 15, 14, 46, 16],\n\n\t// 24\n\t[6, 147, 117, 4, 148, 118],\n\t[6, 73, 45, 14, 74, 46],\n\t[11, 54, 24, 16, 55, 25],\n\t[30, 46, 16, 2, 47, 17],\n\n\t// 25\n\t[8, 132, 106, 4, 133, 107],\n\t[8, 75, 47, 13, 76, 48],\n\t[7, 54, 24, 22, 55, 25],\n\t[22, 45, 15, 13, 46, 16],\n\n\t// 26\n\t[10, 142, 114, 2, 143, 115],\n\t[19, 74, 46, 4, 75, 47],\n\t[28, 50, 22, 6, 51, 23],\n\t[33, 46, 16, 4, 47, 17],\n\n\t// 27\n\t[8, 152, 122, 4, 153, 123],\n\t[22, 73, 45, 3, 74, 46],\n\t[8, 53, 23, 26, 54, 24],\n\t[12, 45, 15, 28, 46, 16],\n\n\t// 28\n\t[3, 147, 117, 10, 148, 118],\n\t[3, 73, 45, 23, 74, 46],\n\t[4, 54, 24, 31, 55, 25],\n\t[11, 45, 15, 31, 46, 16],\n\n\t// 29\n\t[7, 146, 116, 7, 147, 117],\n\t[21, 73, 45, 7, 74, 46],\n\t[1, 53, 23, 37, 54, 24],\n\t[19, 45, 15, 26, 46, 16],\n\n\t// 30\n\t[5, 145, 115, 10, 146, 116],\n\t[19, 75, 47, 10, 76, 48],\n\t[15, 54, 24, 25, 55, 25],\n\t[23, 45, 15, 25, 46, 16],\n\n\t// 31\n\t[13, 145, 115, 3, 146, 116],\n\t[2, 74, 46, 29, 75, 47],\n\t[42, 54, 24, 1, 55, 25],\n\t[23, 45, 15, 28, 46, 16],\n\n\t// 32\n\t[17, 145, 115],\n\t[10, 74, 46, 23, 75, 47],\n\t[10, 54, 24, 35, 55, 25],\n\t[19, 45, 15, 35, 46, 16],\n\n\t// 33\n\t[17, 145, 115, 1, 146, 116],\n\t[14, 74, 46, 21, 75, 47],\n\t[29, 54, 24, 19, 55, 25],\n\t[11, 45, 15, 46, 46, 16],\n\n\t// 34\n\t[13, 145, 115, 6, 146, 116],\n\t[14, 74, 46, 23, 75, 47],\n\t[44, 54, 24, 7, 55, 25],\n\t[59, 46, 16, 1, 47, 17],\n\n\t// 35\n\t[12, 151, 121, 7, 152, 122],\n\t[12, 75, 47, 26, 76, 48],\n\t[39, 54, 24, 14, 55, 25],\n\t[22, 45, 15, 41, 46, 16],\n\n\t// 36\n\t[6, 151, 121, 14, 152, 122],\n\t[6, 75, 47, 34, 76, 48],\n\t[46, 54, 24, 10, 55, 25],\n\t[2, 45, 15, 64, 46, 16],\n\n\t// 37\n\t[17, 152, 122, 4, 153, 123],\n\t[29, 74, 46, 14, 75, 47],\n\t[49, 54, 24, 10, 55, 25],\n\t[24, 45, 15, 46, 46, 16],\n\n\t// 38\n\t[4, 152, 122, 18, 153, 123],\n\t[13, 74, 46, 32, 75, 47],\n\t[48, 54, 24, 14, 55, 25],\n\t[42, 45, 15, 32, 46, 16],\n\n\t// 39\n\t[20, 147, 117, 4, 148, 118],\n\t[40, 75, 47, 7, 76, 48],\n\t[43, 54, 24, 22, 55, 25],\n\t[10, 45, 15, 67, 46, 16],\n\n\t// 40\n\t[19, 148, 118, 6, 149, 119],\n\t[18, 75, 47, 31, 76, 48],\n\t[34, 54, 24, 34, 55, 25],\n\t[20, 45, 15, 61, 46, 16]\n];\n\nQRRSBlock.getRSBlocks = function(typeNumber, errorCorrectLevel) {\n\t\n\tvar rsBlock = QRRSBlock.getRsBlockTable(typeNumber, errorCorrectLevel);\n\t\n\tif (rsBlock == undefined) {\n\t\tthrow new Error(\"bad rs block @ typeNumber:\" + typeNumber + \"/errorCorrectLevel:\" + errorCorrectLevel);\n\t}\n\n\tvar length = rsBlock.length / 3;\n\t\n\tvar list = new Array();\n\t\n\tfor (var i = 0; i < length; i++) {\n\n\t\tvar count = rsBlock[i * 3 + 0];\n\t\tvar totalCount = rsBlock[i * 3 + 1];\n\t\tvar dataCount  = rsBlock[i * 3 + 2];\n\n\t\tfor (var j = 0; j < count; j++) {\n\t\t\tlist.push(new QRRSBlock(totalCount, dataCount) );\t\n\t\t}\n\t}\n\t\n\treturn list;\n}\n\nQRRSBlock.getRsBlockTable = function(typeNumber, errorCorrectLevel) {\n\n\tswitch(errorCorrectLevel) {\n\tcase ECL.L :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n\tcase ECL.M :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n\tcase ECL.Q :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n\tcase ECL.H :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n\tdefault :\n\t\treturn undefined;\n\t}\n}\n\nmodule.exports = QRRSBlock;\n","function QRBitBuffer() {\n\tthis.buffer = new Array();\n\tthis.length = 0;\n}\n\nQRBitBuffer.prototype = {\n\n\tget : function(index) {\n\t\tvar bufIndex = Math.floor(index / 8);\n\t\treturn ( (this.buffer[bufIndex] >>> (7 - index % 8) ) & 1) == 1;\n\t},\n\t\n\tput : function(num, length) {\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tthis.putBit( ( (num >>> (length - i - 1) ) & 1) == 1);\n\t\t}\n\t},\n\t\n\tgetLengthInBits : function() {\n\t\treturn this.length;\n\t},\n\t\n\tputBit : function(bit) {\n\t\n\t\tvar bufIndex = Math.floor(this.length / 8);\n\t\tif (this.buffer.length <= bufIndex) {\n\t\t\tthis.buffer.push(0);\n\t\t}\n\t\n\t\tif (bit) {\n\t\t\tthis.buffer[bufIndex] |= (0x80 >>> (this.length % 8) );\n\t\t}\n\t\n\t\tthis.length++;\n\t}\n};\n\nmodule.exports = QRBitBuffer;\n","var Mode = require('./mode');\nvar Polynomial = require('./Polynomial');\nvar math = require('./math');\n\nvar QRMaskPattern = {\n\tPATTERN000 : 0,\n\tPATTERN001 : 1,\n\tPATTERN010 : 2,\n\tPATTERN011 : 3,\n\tPATTERN100 : 4,\n\tPATTERN101 : 5,\n\tPATTERN110 : 6,\n\tPATTERN111 : 7\n};\n\nvar QRUtil = {\n\n    PATTERN_POSITION_TABLE : [\n\t    [],\n\t    [6, 18],\n\t    [6, 22],\n\t    [6, 26],\n\t    [6, 30],\n\t    [6, 34],\n\t    [6, 22, 38],\n\t    [6, 24, 42],\n\t    [6, 26, 46],\n\t    [6, 28, 50],\n\t    [6, 30, 54],\t\t\n\t    [6, 32, 58],\n\t    [6, 34, 62],\n\t    [6, 26, 46, 66],\n\t    [6, 26, 48, 70],\n\t    [6, 26, 50, 74],\n\t    [6, 30, 54, 78],\n\t    [6, 30, 56, 82],\n\t    [6, 30, 58, 86],\n\t    [6, 34, 62, 90],\n\t    [6, 28, 50, 72, 94],\n\t    [6, 26, 50, 74, 98],\n\t    [6, 30, 54, 78, 102],\n\t    [6, 28, 54, 80, 106],\n\t    [6, 32, 58, 84, 110],\n\t    [6, 30, 58, 86, 114],\n\t    [6, 34, 62, 90, 118],\n\t    [6, 26, 50, 74, 98, 122],\n\t    [6, 30, 54, 78, 102, 126],\n\t    [6, 26, 52, 78, 104, 130],\n\t    [6, 30, 56, 82, 108, 134],\n\t    [6, 34, 60, 86, 112, 138],\n\t    [6, 30, 58, 86, 114, 142],\n\t    [6, 34, 62, 90, 118, 146],\n\t    [6, 30, 54, 78, 102, 126, 150],\n\t    [6, 24, 50, 76, 102, 128, 154],\n\t    [6, 28, 54, 80, 106, 132, 158],\n\t    [6, 32, 58, 84, 110, 136, 162],\n\t    [6, 26, 54, 82, 110, 138, 166],\n\t    [6, 30, 58, 86, 114, 142, 170]\n    ],\n\n    G15 : (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0),\n    G18 : (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0),\n    G15_MASK : (1 << 14) | (1 << 12) | (1 << 10)\t| (1 << 4) | (1 << 1),\n\n    getBCHTypeInfo : function(data) {\n\t    var d = data << 10;\n\t    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >= 0) {\n\t\t    d ^= (QRUtil.G15 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) ) ); \t\n\t    }\n\t    return ( (data << 10) | d) ^ QRUtil.G15_MASK;\n    },\n\n    getBCHTypeNumber : function(data) {\n\t    var d = data << 12;\n\t    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >= 0) {\n\t\t    d ^= (QRUtil.G18 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) ) ); \t\n\t    }\n\t    return (data << 12) | d;\n    },\n\n    getBCHDigit : function(data) {\n\n\t    var digit = 0;\n\n\t    while (data != 0) {\n\t\t    digit++;\n\t\t    data >>>= 1;\n\t    }\n\n\t    return digit;\n    },\n\n    getPatternPosition : function(typeNumber) {\n\t    return QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1];\n    },\n\n    getMask : function(maskPattern, i, j) {\n\t    \n\t    switch (maskPattern) {\n\t\t    \n\t    case QRMaskPattern.PATTERN000 : return (i + j) % 2 == 0;\n\t    case QRMaskPattern.PATTERN001 : return i % 2 == 0;\n\t    case QRMaskPattern.PATTERN010 : return j % 3 == 0;\n\t    case QRMaskPattern.PATTERN011 : return (i + j) % 3 == 0;\n\t    case QRMaskPattern.PATTERN100 : return (Math.floor(i / 2) + Math.floor(j / 3) ) % 2 == 0;\n\t    case QRMaskPattern.PATTERN101 : return (i * j) % 2 + (i * j) % 3 == 0;\n\t    case QRMaskPattern.PATTERN110 : return ( (i * j) % 2 + (i * j) % 3) % 2 == 0;\n\t    case QRMaskPattern.PATTERN111 : return ( (i * j) % 3 + (i + j) % 2) % 2 == 0;\n\n\t    default :\n\t\t    throw new Error(\"bad maskPattern:\" + maskPattern);\n\t    }\n    },\n\n    getErrorCorrectPolynomial : function(errorCorrectLength) {\n\n\t    var a = new Polynomial([1], 0);\n\n\t    for (var i = 0; i < errorCorrectLength; i++) {\n\t\t    a = a.multiply(new Polynomial([1, math.gexp(i)], 0) );\n\t    }\n\n\t    return a;\n    },\n\n    getLengthInBits : function(mode, type) {\n\n\t    if (1 <= type && type < 10) {\n\n\t\t    // 1 - 9\n\n\t\t    switch(mode) {\n\t\t    case Mode.MODE_NUMBER \t: return 10;\n\t\t    case Mode.MODE_ALPHA_NUM \t: return 9;\n\t\t    case Mode.MODE_8BIT_BYTE\t: return 8;\n\t\t    case Mode.MODE_KANJI  \t: return 8;\n\t\t    default :\n\t\t\t    throw new Error(\"mode:\" + mode);\n\t\t    }\n\n\t    } else if (type < 27) {\n\n\t\t    // 10 - 26\n\n\t\t    switch(mode) {\n\t\t    case Mode.MODE_NUMBER \t: return 12;\n\t\t    case Mode.MODE_ALPHA_NUM \t: return 11;\n\t\t    case Mode.MODE_8BIT_BYTE\t: return 16;\n\t\t    case Mode.MODE_KANJI  \t: return 10;\n\t\t    default :\n\t\t\t    throw new Error(\"mode:\" + mode);\n\t\t    }\n\n\t    } else if (type < 41) {\n\n\t\t    // 27 - 40\n\n\t\t    switch(mode) {\n\t\t    case Mode.MODE_NUMBER \t: return 14;\n\t\t    case Mode.MODE_ALPHA_NUM\t: return 13;\n\t\t    case Mode.MODE_8BIT_BYTE\t: return 16;\n\t\t    case Mode.MODE_KANJI  \t: return 12;\n\t\t    default :\n\t\t\t    throw new Error(\"mode:\" + mode);\n\t\t    }\n\n\t    } else {\n\t\t    throw new Error(\"type:\" + type);\n\t    }\n    },\n\n    getLostPoint : function(qrCode) {\n\t    \n\t    var moduleCount = qrCode.getModuleCount();\n\t    \n\t    var lostPoint = 0;\n\t    \n\t    // LEVEL1\n\t    \n\t    for (var row = 0; row < moduleCount; row++) {\n\n\t\t    for (var col = 0; col < moduleCount; col++) {\n\n\t\t\t    var sameCount = 0;\n\t\t\t    var dark = qrCode.isDark(row, col);\n\n\t\t\t\tfor (var r = -1; r <= 1; r++) {\n\n\t\t\t\t    if (row + r < 0 || moduleCount <= row + r) {\n\t\t\t\t\t    continue;\n\t\t\t\t    }\n\n\t\t\t\t    for (var c = -1; c <= 1; c++) {\n\n\t\t\t\t\t    if (col + c < 0 || moduleCount <= col + c) {\n\t\t\t\t\t\t    continue;\n\t\t\t\t\t    }\n\n\t\t\t\t\t    if (r == 0 && c == 0) {\n\t\t\t\t\t\t    continue;\n\t\t\t\t\t    }\n\n\t\t\t\t\t    if (dark == qrCode.isDark(row + r, col + c) ) {\n\t\t\t\t\t\t    sameCount++;\n\t\t\t\t\t    }\n\t\t\t\t    }\n\t\t\t    }\n\n\t\t\t    if (sameCount > 5) {\n\t\t\t\t    lostPoint += (3 + sameCount - 5);\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    // LEVEL2\n\n\t    for (var row = 0; row < moduleCount - 1; row++) {\n\t\t    for (var col = 0; col < moduleCount - 1; col++) {\n\t\t\t    var count = 0;\n\t\t\t    if (qrCode.isDark(row,     col    ) ) count++;\n\t\t\t    if (qrCode.isDark(row + 1, col    ) ) count++;\n\t\t\t    if (qrCode.isDark(row,     col + 1) ) count++;\n\t\t\t    if (qrCode.isDark(row + 1, col + 1) ) count++;\n\t\t\t    if (count == 0 || count == 4) {\n\t\t\t\t    lostPoint += 3;\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    // LEVEL3\n\n\t    for (var row = 0; row < moduleCount; row++) {\n\t\t    for (var col = 0; col < moduleCount - 6; col++) {\n\t\t\t    if (qrCode.isDark(row, col)\n\t\t\t\t\t    && !qrCode.isDark(row, col + 1)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 2)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 3)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 4)\n\t\t\t\t\t    && !qrCode.isDark(row, col + 5)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 6) ) {\n\t\t\t\t    lostPoint += 40;\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    for (var col = 0; col < moduleCount; col++) {\n\t\t    for (var row = 0; row < moduleCount - 6; row++) {\n\t\t\t    if (qrCode.isDark(row, col)\n\t\t\t\t\t    && !qrCode.isDark(row + 1, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 2, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 3, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 4, col)\n\t\t\t\t\t    && !qrCode.isDark(row + 5, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 6, col) ) {\n\t\t\t\t    lostPoint += 40;\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    // LEVEL4\n\t    \n\t    var darkCount = 0;\n\n\t    for (var col = 0; col < moduleCount; col++) {\n\t\t    for (var row = 0; row < moduleCount; row++) {\n\t\t\t    if (qrCode.isDark(row, col) ) {\n\t\t\t\t    darkCount++;\n\t\t\t    }\n\t\t    }\n\t    }\n\t    \n\t    var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n\t    lostPoint += ratio * 10;\n\n\t    return lostPoint;\t\t\n    }\n};\n\nmodule.exports = QRUtil;\n","\"use strict\";\n\nvar _require = require('./Component'),\n    CopyToClipboard = _require.CopyToClipboard;\n\nCopyToClipboard.CopyToClipboard = CopyToClipboard;\nmodule.exports = CopyToClipboard;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CopyToClipboard = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _copyToClipboard = _interopRequireDefault(require(\"copy-to-clipboard\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar CopyToClipboard =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(CopyToClipboard, _React$PureComponent);\n\n  function CopyToClipboard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CopyToClipboard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CopyToClipboard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function (event) {\n      var _this$props = _this.props,\n          text = _this$props.text,\n          onCopy = _this$props.onCopy,\n          children = _this$props.children,\n          options = _this$props.options;\n\n      var elem = _react[\"default\"].Children.only(children);\n\n      var result = (0, _copyToClipboard[\"default\"])(text, options);\n\n      if (onCopy) {\n        onCopy(text, result);\n      } // Bypass onClick if it was present\n\n\n      if (elem && elem.props && typeof elem.props.onClick === 'function') {\n        elem.props.onClick(event);\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(CopyToClipboard, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          _text = _this$props2.text,\n          _onCopy = _this$props2.onCopy,\n          _options = _this$props2.options,\n          children = _this$props2.children,\n          props = _objectWithoutProperties(_this$props2, [\"text\", \"onCopy\", \"options\", \"children\"]);\n\n      var elem = _react[\"default\"].Children.only(children);\n\n      return _react[\"default\"].cloneElement(elem, _objectSpread({}, props, {\n        onClick: this.onClick\n      }));\n    }\n  }]);\n\n  return CopyToClipboard;\n}(_react[\"default\"].PureComponent);\n\nexports.CopyToClipboard = CopyToClipboard;\n\n_defineProperty(CopyToClipboard, \"defaultProps\", {\n  onCopy: undefined,\n  options: undefined\n});","\"use strict\";\n\nvar deselectCurrent = require(\"toggle-selection\");\n\nvar clipboardToIE11Formatting = {\n  \"text/plain\": \"Text\",\n  \"text/html\": \"Url\",\n  \"default\": \"Text\"\n}\n\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug,\n    message,\n    reselectPrevious,\n    range,\n    selection,\n    mark,\n    success = false;\n  if (!options) {\n    options = {};\n  }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement(\"span\");\n    mark.textContent = text;\n    // reset user styles for span element\n    mark.style.all = \"unset\";\n    // prevents scrolling to the end of the page\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = \"pre\";\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function(e) {\n      e.stopPropagation();\n      if (options.format) {\n        e.preventDefault();\n        if (typeof e.clipboardData === \"undefined\") { // IE 11\n          debug && console.warn(\"unable to use e.clipboardData\");\n          debug && console.warn(\"trying IE specific stuff\");\n          window.clipboardData.clearData();\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"]\n          window.clipboardData.setData(format, text);\n        } else { // all other browsers\n          e.clipboardData.clearData();\n          e.clipboardData.setData(options.format, text);\n        }\n      }\n      if (options.onCopy) {\n        e.preventDefault();\n        options.onCopy(e.clipboardData);\n      }\n    });\n\n    document.body.appendChild(mark);\n\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand(\"copy\");\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      options.onCopy && options.onCopy(window.clipboardData);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n","\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar isSafari = exports.isSafari = function isSafari() {\n  return (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)\n  );\n};\n\nvar isJsons = exports.isJsons = function isJsons(array) {\n  return Array.isArray(array) && array.every(function (row) {\n    return (typeof row === \"undefined\" ? \"undefined\" : _typeof(row)) === 'object' && !(row instanceof Array);\n  });\n};\n\nvar isArrays = exports.isArrays = function isArrays(array) {\n  return Array.isArray(array) && array.every(function (row) {\n    return Array.isArray(row);\n  });\n};\n\nvar jsonsHeaders = exports.jsonsHeaders = function jsonsHeaders(array) {\n  return Array.from(array.map(function (json) {\n    return Object.keys(json);\n  }).reduce(function (a, b) {\n    return new Set([].concat(_toConsumableArray(a), _toConsumableArray(b)));\n  }, []));\n};\n\nvar jsons2arrays = exports.jsons2arrays = function jsons2arrays(jsons, headers) {\n  headers = headers || jsonsHeaders(jsons);\n\n  var headerLabels = headers;\n  var headerKeys = headers;\n  if (isJsons(headers)) {\n    headerLabels = headers.map(function (header) {\n      return header.label;\n    });\n    headerKeys = headers.map(function (header) {\n      return header.key;\n    });\n  }\n\n  var data = jsons.map(function (object) {\n    return headerKeys.map(function (header) {\n      return getHeaderValue(header, object);\n    });\n  });\n  return [headerLabels].concat(_toConsumableArray(data));\n};\n\nvar getHeaderValue = exports.getHeaderValue = function getHeaderValue(property, obj) {\n  var foundValue = property.replace(/\\[([^\\]]+)]/g, \".$1\").split(\".\").reduce(function (o, p, i, arr) {\n    var value = o[p];\n    if (value === undefined || value === null) {\n      arr.splice(1);\n    } else {\n      return value;\n    }\n  }, obj);\n\n  return foundValue === undefined ? property in obj ? obj[property] : '' : foundValue;\n};\n\nvar elementOrEmpty = exports.elementOrEmpty = function elementOrEmpty(element) {\n  return typeof element === 'undefined' || element === null ? '' : element;\n};\n\nvar joiner = exports.joiner = function joiner(data) {\n  var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ',';\n  var enclosingCharacter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '\"';\n\n  return data.filter(function (e) {\n    return e;\n  }).map(function (row) {\n    return row.map(function (element) {\n      return elementOrEmpty(element);\n    }).map(function (column) {\n      return \"\" + enclosingCharacter + column + enclosingCharacter;\n    }).join(separator);\n  }).join(\"\\n\");\n};\n\nvar arrays2csv = exports.arrays2csv = function arrays2csv(data, headers, separator, enclosingCharacter) {\n  return joiner(headers ? [headers].concat(_toConsumableArray(data)) : data, separator, enclosingCharacter);\n};\n\nvar jsons2csv = exports.jsons2csv = function jsons2csv(data, headers, separator, enclosingCharacter) {\n  return joiner(jsons2arrays(data, headers), separator, enclosingCharacter);\n};\n\nvar string2csv = exports.string2csv = function string2csv(data, headers, separator, enclosingCharacter) {\n  return headers ? headers.join(separator) + \"\\n\" + data : data.replace(/\"/g, '\"\"');\n};\n\nvar toCSV = exports.toCSV = function toCSV(data, headers, separator, enclosingCharacter) {\n  if (isJsons(data)) return jsons2csv(data, headers, separator, enclosingCharacter);\n  if (isArrays(data)) return arrays2csv(data, headers, separator, enclosingCharacter);\n  if (typeof data === 'string') return string2csv(data, headers, separator);\n  throw new TypeError(\"Data should be a \\\"String\\\", \\\"Array of arrays\\\" OR \\\"Array of objects\\\" \");\n};\n\nvar buildURI = exports.buildURI = function buildURI(data, uFEFF, headers, separator, enclosingCharacter) {\n  var csv = toCSV(data, headers, separator, enclosingCharacter);\n  var type = isSafari() ? 'application/csv' : 'text/csv';\n  var blob = new Blob([uFEFF ? \"\\uFEFF\" : '', csv], { type: type });\n  var dataURI = \"data:\" + type + \";charset=utf-8,\" + (uFEFF ? \"\\uFEFF\" : '') + csv;\n\n  var URL = window.URL || window.webkitURL;\n\n  return typeof URL.createObjectURL === 'undefined' ? dataURI : URL.createObjectURL(blob);\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PropsNotForwarded = exports.defaultProps = exports.propTypes = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar propTypes = exports.propTypes = {\n  data: (0, _propTypes.oneOfType)([_propTypes.string, _propTypes.array, _propTypes.func]).isRequired,\n  headers: _propTypes.array,\n  target: _propTypes.string,\n  separator: _propTypes.string,\n  filename: _propTypes.string,\n  uFEFF: _propTypes.bool,\n  onClick: _propTypes.func,\n  asyncOnClick: _propTypes.bool,\n  enclosingCharacter: _propTypes.string\n};\n\nvar defaultProps = exports.defaultProps = {\n  separator: ',',\n  filename: 'generatedBy_react-csv.csv',\n  uFEFF: true,\n  asyncOnClick: false,\n  enclosingCharacter: '\"'\n};\n\nvar PropsNotForwarded = exports.PropsNotForwarded = ['data', 'headers'];","module.exports = require('./lib/index.js');\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CSVLink = exports.CSVDownload = undefined;\n\nvar _Download = require('./components/Download');\n\nvar _Download2 = _interopRequireDefault(_Download);\n\nvar _Link = require('./components/Link');\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CSVDownload = exports.CSVDownload = _Download2.default;\nvar CSVLink = exports.CSVLink = _Link2.default;"],"sourceRoot":""}