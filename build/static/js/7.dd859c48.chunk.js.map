{"version":3,"sources":["../../src/hooks.tsx","../../src/styles.ts","../../src/Utils.ts","../../src/index.tsx","../node_modules/qrcode.react/lib/index.js","../node_modules/qr.js/lib/mode.js","../node_modules/qr.js/lib/ErrorCorrectLevel.js","../node_modules/qr.js/lib/Polynomial.js","../node_modules/qr.js/lib/math.js","../node_modules/qr.js/lib/QRCode.js","../node_modules/qr.js/lib/8BitByte.js","../node_modules/qr.js/lib/RSBlock.js","../node_modules/qr.js/lib/BitBuffer.js","../node_modules/qr.js/lib/util.js","../node_modules/react-csv/lib/core.js","../node_modules/react-csv/lib/metaProps.js","../node_modules/react-csv/index.js","../node_modules/react-csv/lib/index.js","../node_modules/react-csv/lib/components/Download.js","../node_modules/react-csv/lib/components/Link.js"],"names":["useIsomorphicLayoutEffect","window","Style","popupContent","tooltip","position","zIndex","modal","margin","popupArrow","height","width","background","color","overlay","top","bottom","left","right","display","POSITION_TYPES","getCoordinatesForPosition","offsetX","offsetY","arrow","args","CenterTop","triggerBounding","CenterLeft","ContentBounding","transform","arrowTop","arrowLeft","calculatePosition","bestCoords","i","wrapperBox","keepTooltipInside","boundingBox","innerHeight","selector","document","process","getTooltipBoundary","positions","Array","contentBox","popupIdCounter","Popup","forwardRef","trigger","onOpen","onClose","defaultOpen","open","undefined","disabled","nested","closeOnDocumentClick","repositionOnResize","closeOnEscape","on","contentStyle","arrowStyle","overlayStyle","className","lockScroll","mouseEnterDelay","mouseLeaveDelay","children","useState","isOpen","setIsOpen","triggerRef","useRef","contentRef","arrowRef","focusedElBeforeOpen","popupId","isModal","timeOut","setPosition","focusContentOnOpen","lockScrolll","resetScroll","clearTimeout","useEffect","openPopup","closePopup","event","setTimeout","focus","togglePopup","onMouseEnter","onContextMenu","onMouseLeave","focusableEls","firstEl","useImperativeHandle","ref","close","toggle","content","cords","active","useOnEscape","listener","handler","els","firstFocusableEl","lastFocusableEl","useTabbing","useRepositionOnResize","refs","contains","r","useOnClickOutside","renderContent","popupContentStyle","styles","childrenElementProps","c","style","pointerEvents","onClick","e","addWarperAction","key","role","id","current","viewBox","d","fill","ovStyle","tabIndex","React","triggerProps","onAsArray","len","comp","renderTrigger","ReactDOM","PopupRoot","getRootPopup","_typeof","obj","Symbol","iterator","constructor","prototype","_extends","Object","assign","target","arguments","length","source","hasOwnProperty","call","apply","this","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","value","_setPrototypeOf","p","require","QRCodeImpl","ErrorCorrectLevel","convertStr","str","out","charcode","charCodeAt","String","fromCharCode","DEFAULT_PROPS","size","level","bgColor","fgColor","includeMargin","generatePath","modules","ops","row","y","start","cell","x","concat","join","excavateModules","excavation","slice","map","h","w","getImageSettings","cells","imageSettings","numCells","defaultSize","Math","floor","scale","excavate","floorX","floorY","ceil","SUPPORTS_PATH2D","Path2D","addPath","QRCodeCanvas","_React$PureComponent","_getPrototypeOf2","_this","_len","_key","imgLoaded","setState","_image","complete","handleImageLoad","update","nextProps","_this$props$imageSett","_nextProps$imageSetti","src","_this$props","qrcode","addData","make","_canvas","canvas","ctx","getContext","calculatedImageSettings","pixelRatio","devicePixelRatio","fillStyle","fillRect","rdx","cdx","state","drawImage","_this2","_this$props2","otherProps","canvasStyle","img","imgSrc","createElement","onLoad","_ref","Fragment","_ref2","PureComponent","QRCodeSVG","_React$PureComponent2","_this$props3","image","xlinkHref","preserveAspectRatio","fgPath","shapeRendering","QRCode","renderAs","Component","defaultProps","module","exports","MODE_NUMBER","MODE_ALPHA_NUM","MODE_8BIT_BYTE","MODE_KANJI","L","M","Q","H","math","QRPolynomial","num","shift","Error","offset","get","index","getLength","multiply","j","gexp","glog","mod","ratio","QRMath","n","LOG_TABLE","EXP_TABLE","BitByte","RSBlock","BitBuffer","util","Polynomial","typeNumber","errorCorrectLevel","moduleCount","dataCache","dataList","proto","data","newData","isDark","col","getModuleCount","rsBlocks","getRSBlocks","buffer","totalDataCount","dataCount","put","mode","getLengthInBits","write","makeImpl","getBestMaskPattern","test","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","minLostPoint","pattern","lostPoint","getLostPoint","createMovieClip","target_mc","instance_name","depth","qr_mc","createEmptyMovieClip","beginFill","moveTo","lineTo","endFill","pos","getPatternPosition","bits","getBCHTypeNumber","getBCHTypeInfo","inc","bitIndex","byteIndex","dark","getMask","PAD0","PAD1","putBit","createBytes","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","max","rsPoly","getErrorCorrectPolynomial","modPoly","modIndex","totalCodeCount","QR8bitByte","ECL","QRRSBlock","RS_BLOCK_TABLE","rsBlock","getRsBlockTable","list","count","QRBitBuffer","bufIndex","bit","Mode","QRMaskPattern","QRUtil","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","getBCHDigit","digit","errorCorrectLength","a","type","qrCode","sameCount","darkCount","abs","_toConsumableArray","arr","isArray","arr2","from","isSafari","navigator","userAgent","isJsons","array","every","isArrays","jsonsHeaders","json","reduce","b","Set","jsons2arrays","jsons","headers","headerLabels","headerKeys","header","label","getHeaderValue","property","foundValue","replace","split","splice","elementOrEmpty","element","joiner","separator","enclosingCharacter","column","arrays2csv","jsons2csv","string2csv","toCSV","buildURI","uFEFF","csv","blob","Blob","dataURI","URL","webkitURL","createObjectURL","PropsNotForwarded","propTypes","_react","_propTypes","__esModule","oneOfType","string","func","isRequired","filename","bool","asyncOnClick","CSVLink","CSVDownload","_Download2","_interopRequireDefault","_Link2","default","_react2","_core","_metaProps","_React$Component","_props","specs","page","bind","isAsync","msSaveOrOpenBlob","preventDefault","csvData","msSaveBlob","proceed","handleLegacy","_this3","handleAsyncClick","handleSyncClick","_this4","_props2","rest","href","download","link","handleClick"],"mappings":"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","file":"static/js/7.dd859c48.chunk.js","sourcesContent":["import { useEffect, RefObject, useLayoutEffect } from 'react';\n\nexport const useOnEscape = (\n  handler: (event: KeyboardEvent) => void,\n  active = true\n) => {\n  useEffect(() => {\n    if (!active) return;\n    const listener = (event: KeyboardEvent) => {\n      // check if key is an Escape\n      if (event.key === 'Escape') handler(event);\n    };\n    document.addEventListener('keyup', listener);\n\n    return () => {\n      if (!active) return;\n      document.removeEventListener('keyup', listener);\n    };\n  }, [handler, active]);\n};\n\nexport const useRepositionOnResize = (handler: () => void, active = true) => {\n  useEffect(() => {\n    if (!active) return;\n    const listener = () => {\n      handler();\n    };\n\n    window.addEventListener('resize', listener);\n\n    return () => {\n      if (!active) return;\n      window.removeEventListener('resize', listener);\n    };\n  }, [handler, active]);\n};\n\nexport const useOnClickOutside = (\n  ref: RefObject<HTMLElement> | RefObject<HTMLElement>[],\n  handler: (event: TouchEvent | MouseEvent) => void,\n  active = true\n) => {\n  useEffect(() => {\n    if (!active) return;\n    const listener = (event: TouchEvent | MouseEvent) => {\n      // Do nothing if clicking ref's element or descendent elements\n      const refs = Array.isArray(ref) ? ref : [ref];\n\n      let contains = false;\n      refs.forEach(r => {\n        if (!r.current || r.current.contains(event.target as Node)) {\n          contains = true;\n          return;\n        }\n      });\n      event.stopPropagation();\n      if (!contains) handler(event);\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n\n    return () => {\n      if (!active) return;\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler, active]);\n};\n\n// Make sure that user is not able TAB out of the Modal content on Open\nexport const useTabbing = (\n  contentRef: RefObject<HTMLElement>,\n  active = true\n) => {\n  useEffect(() => {\n    if (!active) return;\n    const listener = (event: KeyboardEvent) => {\n      // check if key is an Tab\n      if (event.keyCode === 9) {\n        const els = contentRef?.current?.querySelectorAll(\n          'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]'\n        );\n\n        const focusableEls = Array.prototype.slice.call(els);\n        if (focusableEls.length === 1) {\n          event.preventDefault();\n          return;\n        }\n\n        const firstFocusableEl = focusableEls[0];\n        const lastFocusableEl = focusableEls[focusableEls.length - 1];\n        if (event.shiftKey && document.activeElement === firstFocusableEl) {\n          event.preventDefault();\n          lastFocusableEl.focus();\n        } else if (document.activeElement === lastFocusableEl) {\n          event.preventDefault();\n          firstFocusableEl.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', listener);\n\n    return () => {\n      if (!active) return;\n      document.removeEventListener('keydown', listener);\n    };\n  }, [contentRef, active]);\n};\n\nexport const useIsomorphicLayoutEffect =\n  typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n","import React from 'react';\n\ntype PopupStyle = {\n  popupContent: {\n    tooltip: React.CSSProperties;\n    modal: React.CSSProperties;\n  };\n  popupArrow: React.CSSProperties;\n  overlay: {\n    tooltip: React.CSSProperties;\n    modal: React.CSSProperties;\n  };\n};\n\nconst Style: PopupStyle = {\n  popupContent: {\n    tooltip: {\n      position: 'absolute',\n      zIndex: 999,\n    },\n    modal: {\n      position: 'relative',\n      margin: 'auto',\n    },\n  },\n  popupArrow: {\n    height: '8px',\n    width: '16px',\n    position: 'absolute',\n    background: 'transparent',\n    color: '#FFF',\n    zIndex: -1,\n  },\n  overlay: {\n    tooltip: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      zIndex: 999,\n    },\n    modal: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      display: 'flex',\n      zIndex: 999,\n    },\n  },\n};\n\nexport default Style;\n","/* Algo to calculate position\n  1. center position for popup content : the center of the trigger will be the center of the content content\n      so the popup content position will be like this :\n      top => the y of the center for the trigger element : trigger.top + trigger.height/2\n      left => the x of the center for the trigger element : trigger.left + trigger.width/2\n\n  2. translate position according to the first  position attribute  passed  in the function argument\n      for example :\n        position = 'left top'\n        we need to handle the first argument in the position: 'left' => that's mean we need to translate the popup content according to the X axis by - content.width/2\n\n  3.translate position according to the first  position attribute  passed  in the function argument\n    for example :\n      position = 'left top'\n      the second argument 'top' => translate popup content by + content.height*4/5\n\n  4. check if calculated position is going out of bounds of wrapper box or not. If yes repeat 1-3 for next position enum. By default wrapper box is window element\n*/\nimport { PopupPosition } from './types';\n\nexport const POSITION_TYPES: PopupPosition[] = [\n  'top left',\n  'top center',\n  'top right',\n  'right top',\n  'right center',\n  'right bottom',\n  'bottom left',\n  'bottom center',\n  'bottom right',\n  'left top',\n  'left center',\n  'left bottom',\n  //'center center',\n];\n\ntype CordsType = {\n  top: number;\n  left: number;\n  transform: string;\n  arrowLeft: string;\n  arrowTop: string;\n};\n\nconst getCoordinatesForPosition = (\n  triggerBounding: DOMRect,\n  ContentBounding: DOMRect,\n  position: PopupPosition, //PopupPosition | PopupPosition[],\n  arrow: boolean,\n  { offsetX, offsetY }: { offsetX: number; offsetY: number }\n): CordsType => {\n  const margin = arrow ? 8 : 0;\n  const args = position.split(' ');\n  // the step N 1 : center the popup content => ok\n  const CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  const CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  const { height, width } = ContentBounding;\n  let top = CenterTop - height / 2;\n  let left = CenterLeft - width / 2;\n  let transform = '';\n  let arrowTop = '0%';\n  let arrowLeft = '0%';\n  // the  step N 2 : => ok\n  switch (args[0]) {\n    case 'top':\n      top -= height / 2 + triggerBounding.height / 2 + margin;\n      transform = `rotate(180deg)  translateX(50%)`;\n      arrowTop = '100%';\n      arrowLeft = '50%';\n      break;\n    case 'bottom':\n      top += height / 2 + triggerBounding.height / 2 + margin;\n      transform = `rotate(0deg) translateY(-100%) translateX(-50%)`;\n      arrowLeft = '50%';\n      break;\n    case 'left':\n      left -= width / 2 + triggerBounding.width / 2 + margin;\n      transform = ` rotate(90deg)  translateY(50%) translateX(-25%)`;\n      arrowLeft = '100%';\n      arrowTop = '50%';\n      break;\n    case 'right':\n      left += width / 2 + triggerBounding.width / 2 + margin;\n      transform = `rotate(-90deg)  translateY(-150%) translateX(25%)`;\n      arrowTop = '50%';\n      break;\n    default:\n  }\n  switch (args[1]) {\n    case 'top':\n      top = triggerBounding.top;\n      arrowTop = `${triggerBounding.height / 2}px`;\n      break;\n    case 'bottom':\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = `${height - triggerBounding.height / 2}px`;\n      break;\n    case 'left':\n      left = triggerBounding.left;\n      arrowLeft = `${triggerBounding.width / 2}px`;\n      break;\n    case 'right':\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = `${width - triggerBounding.width / 2}px`;\n      break;\n    default:\n  }\n\n  top = args[0] === 'top' ? top - offsetY : top + offsetY;\n  left = args[0] === 'left' ? left - offsetX : left + offsetX;\n\n  return { top, left, transform, arrowLeft, arrowTop };\n};\n\nexport const getTooltipBoundary = (keepTooltipInside: string | Boolean) => {\n  // add viewport\n  let boundingBox = {\n    top: 0,\n    left: 0,\n    /* eslint-disable-next-line no-undef */\n    width: window.innerWidth,\n    /* eslint-disable-next-line no-undef */\n    height: window.innerHeight,\n  };\n  if (typeof keepTooltipInside === 'string') {\n    /* eslint-disable-next-line no-undef */\n    const selector = document.querySelector(keepTooltipInside);\n    if (process.env.NODE_ENV !== 'production') {\n      if (selector === null)\n        throw new Error(\n          `${keepTooltipInside} selector does not exist : keepTooltipInside must be a valid html selector 'class' or 'Id'  or a boolean value`\n        );\n    }\n    if (selector !== null) boundingBox = selector.getBoundingClientRect();\n  }\n\n  return boundingBox;\n};\n\nconst calculatePosition = (\n  triggerBounding: DOMRect,\n  ContentBounding: DOMRect,\n  position: PopupPosition | PopupPosition[],\n  arrow: boolean,\n  { offsetX, offsetY }: { offsetX: number; offsetY: number },\n  keepTooltipInside: string | boolean\n): CordsType => {\n  let bestCoords: CordsType = {\n    arrowLeft: '0%',\n    arrowTop: '0%',\n    left: 0,\n    top: 0,\n    transform: 'rotate(135deg)',\n  };\n  let i = 0;\n  const wrapperBox = getTooltipBoundary(keepTooltipInside);\n  let positions = Array.isArray(position) ? position : [position];\n\n  // keepTooltipInside would be activated if the  keepTooltipInside exist or the position is Array\n  if (keepTooltipInside || Array.isArray(position))\n    positions = [...positions, ...POSITION_TYPES];\n\n  // add viewPort for WarpperBox\n  // wrapperBox.top = wrapperBox.top + window.scrollY;\n  // wrapperBox.left = wrapperBox.left + window.scrollX;\n\n  while (i < positions.length) {\n    bestCoords = getCoordinatesForPosition(\n      triggerBounding,\n      ContentBounding,\n      positions[i],\n      arrow,\n      { offsetX, offsetY }\n    );\n\n    const contentBox = {\n      top: bestCoords.top,\n      left: bestCoords.left,\n      width: ContentBounding.width,\n      height: ContentBounding.height,\n    };\n\n    if (\n      contentBox.top <= wrapperBox.top ||\n      contentBox.left <= wrapperBox.left ||\n      contentBox.top + contentBox.height >=\n        wrapperBox.top + wrapperBox.height ||\n      contentBox.left + contentBox.width >= wrapperBox.left + wrapperBox.width\n    ) {\n      i++;\n    } else {\n      break;\n    }\n  }\n\n  return bestCoords;\n};\n\nexport default calculatePosition;\n","import React, {\n  useState,\n  useRef,\n  useEffect,\n  forwardRef,\n  useImperativeHandle,\n} from 'react';\nimport ReactDOM from 'react-dom';\nimport { PopupProps, PopupActions } from './types';\nimport {\n  useOnEscape,\n  useRepositionOnResize,\n  useOnClickOutside,\n  useTabbing,\n  useIsomorphicLayoutEffect,\n} from './hooks';\n\nimport './index.css';\n\nimport styles from './styles';\nimport calculatePosition from './Utils';\n\nlet popupIdCounter = 0;\n\nconst getRootPopup = () => {\n  let PopupRoot = document.getElementById('popup-root');\n\n  if (PopupRoot === null) {\n    PopupRoot = document.createElement('div');\n    PopupRoot.setAttribute('id', 'popup-root');\n    document.body.appendChild(PopupRoot);\n  }\n\n  return PopupRoot;\n};\n\nexport const Popup = forwardRef<PopupActions, PopupProps>(\n  (\n    {\n      trigger = null,\n      onOpen = () => {},\n      onClose = () => {},\n      defaultOpen = false,\n      open = undefined,\n      disabled = false,\n      nested = false,\n      closeOnDocumentClick = true,\n      repositionOnResize = true,\n      closeOnEscape = true,\n      on = ['click'],\n      contentStyle = {},\n      arrowStyle = {},\n      overlayStyle = {},\n      className = '',\n      position = 'bottom center',\n      modal = false,\n      lockScroll = false,\n      arrow = true,\n      offsetX = 0,\n      offsetY = 0,\n      mouseEnterDelay = 100,\n      mouseLeaveDelay = 100,\n      keepTooltipInside = false,\n      children,\n    },\n    ref\n  ) => {\n    const [isOpen, setIsOpen] = useState<boolean>(open || defaultOpen);\n    const triggerRef = useRef<HTMLElement>(null);\n    const contentRef = useRef<HTMLElement>(null);\n    const arrowRef = useRef<HTMLDivElement>(null);\n    const focusedElBeforeOpen = useRef<Element | null>(null);\n    const popupId = useRef<string>(`popup-${++popupIdCounter}`);\n\n    const isModal = modal ? true : !trigger;\n    const timeOut = useRef<any>(0);\n\n    useIsomorphicLayoutEffect(() => {\n      if (isOpen) {\n        focusedElBeforeOpen.current = document.activeElement;\n        setPosition();\n        focusContentOnOpen(); // for accessibility\n        lockScrolll();\n      } else {\n        resetScroll();\n      }\n      return () => {\n        clearTimeout(timeOut.current);\n      };\n    }, [isOpen]);\n\n    // for uncontrolled popup we need to sync isOpen with open prop\n    useEffect(() => {\n      if (typeof open === 'boolean') {\n        if (open) openPopup();\n        else closePopup();\n      }\n    }, [open, disabled]);\n\n    const openPopup = (event?: React.SyntheticEvent) => {\n      if (isOpen || disabled) return;\n      setIsOpen(true);\n      setTimeout(() => onOpen(event), 0);\n    };\n\n    const closePopup = (\n      event?: React.SyntheticEvent | KeyboardEvent | TouchEvent | MouseEvent\n    ) => {\n      if (!isOpen || disabled) return;\n      setIsOpen(false);\n      if (isModal) (focusedElBeforeOpen.current as HTMLElement)?.focus();\n      setTimeout(() => onClose(event), 0);\n    };\n\n    const togglePopup = (event?: React.SyntheticEvent) => {\n      event?.stopPropagation();\n      if (!isOpen) openPopup(event);\n      else closePopup(event);\n    };\n\n    const onMouseEnter = (event?: React.SyntheticEvent) => {\n      clearTimeout(timeOut.current);\n      timeOut.current = setTimeout(() => openPopup(event), mouseEnterDelay);\n    };\n\n    const onContextMenu = (event?: React.SyntheticEvent) => {\n      event?.preventDefault();\n      togglePopup();\n    };\n\n    const onMouseLeave = (event?: React.SyntheticEvent) => {\n      clearTimeout(timeOut.current);\n      timeOut.current = setTimeout(() => closePopup(event), mouseLeaveDelay);\n    };\n\n    const lockScrolll = () => {\n      if (isModal && lockScroll)\n        document.getElementsByTagName('body')[0].style.overflow = 'hidden'; // migrate to document.body\n    };\n\n    const resetScroll = () => {\n      if (isModal && lockScroll)\n        document.getElementsByTagName('body')[0].style.overflow = 'auto';\n    };\n    const focusContentOnOpen = () => {\n      const focusableEls = contentRef?.current?.querySelectorAll(\n        'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]'\n      );\n      const firstEl = Array.prototype.slice.call(focusableEls)[0];\n      firstEl?.focus();\n    };\n\n    useImperativeHandle(ref, () => ({\n      open: () => {\n        openPopup();\n      },\n      close: () => {\n        closePopup();\n      },\n      toggle: () => {\n        togglePopup();\n      },\n    }));\n\n    // set Position\n    const setPosition = () => {\n      if (isModal || !isOpen) return;\n      if (!triggerRef?.current || !triggerRef?.current || !contentRef?.current)\n        return; /// show error as one of ref is undefined\n      const trigger = triggerRef.current.getBoundingClientRect();\n      const content = contentRef.current.getBoundingClientRect();\n\n      const cords = calculatePosition(\n        trigger,\n        content,\n        position,\n        arrow,\n        {\n          offsetX,\n          offsetY,\n        },\n        keepTooltipInside\n      );\n      contentRef.current.style.top = `${cords.top + window.scrollY}px`;\n      contentRef.current.style.left = `${cords.left + window.scrollX}px`;\n      if (arrow && !!arrowRef.current) {\n        arrowRef.current.style.transform = cords.transform;\n        arrowRef.current.style.setProperty('-ms-transform', cords.transform);\n        arrowRef.current.style.setProperty(\n          '-webkit-transform',\n          cords.transform\n        );\n        arrowRef.current.style.top =\n          arrowStyle.top?.toString() || cords.arrowTop;\n        arrowRef.current.style.left =\n          arrowStyle.left?.toString() || cords.arrowLeft;\n      }\n    };\n    // hooks\n    useOnEscape(closePopup, closeOnEscape); // can be optimized if we disabled for hover\n    useTabbing(contentRef, isOpen && isModal);\n    useRepositionOnResize(setPosition, repositionOnResize);\n    useOnClickOutside(\n      !!trigger ? [contentRef, triggerRef] : [contentRef],\n      closePopup,\n      closeOnDocumentClick && !nested\n    ); // we need to add a ne\n    // render the trigger element and add events\n    const renderTrigger = () => {\n      const triggerProps: any = {\n        key: 'T',\n        ref: triggerRef,\n        'aria-describedby': popupId.current,\n      };\n      const onAsArray = Array.isArray(on) ? on : [on];\n      for (let i = 0, len = onAsArray.length; i < len; i++) {\n        switch (onAsArray[i]) {\n          case 'click':\n            triggerProps.onClick = togglePopup;\n            break;\n          case 'right-click':\n            triggerProps.onContextMenu = onContextMenu;\n            break;\n          case 'hover':\n            triggerProps.onMouseEnter = onMouseEnter;\n            triggerProps.onMouseLeave = onMouseLeave;\n            break;\n          case 'focus':\n            triggerProps.onFocus = onMouseEnter;\n            triggerProps.onBlur = onMouseLeave;\n            break;\n          default:\n        }\n      }\n\n      if (typeof trigger === 'function') {\n        const comp = trigger(isOpen);\n        return !!trigger && React.cloneElement(comp, triggerProps);\n      }\n\n      return !!trigger && React.cloneElement(trigger, triggerProps);\n    };\n\n    const addWarperAction = () => {\n      const popupContentStyle = isModal\n        ? styles.popupContent.modal\n        : styles.popupContent.tooltip;\n\n      const childrenElementProps: any = {\n        className: `popup-content ${\n          className !== ''\n            ? className\n                .split(' ')\n                .map(c => `${c}-content`)\n                .join(' ')\n            : ''\n        }`,\n        style: {\n          ...popupContentStyle,\n          ...contentStyle,\n          pointerEvents: 'auto', //closeOnDocumentClick && nested ? 'auto' : 'none',\n        },\n        ref: contentRef,\n        onClick: (e: any) => {\n          e.stopPropagation();\n        },\n      };\n      if (!modal && on.indexOf('hover') >= 0) {\n        childrenElementProps.onMouseEnter = onMouseEnter;\n        childrenElementProps.onMouseLeave = onMouseLeave;\n      }\n      return childrenElementProps;\n    };\n\n    const renderContent = () => {\n      return (\n        <div\n          {...addWarperAction()}\n          key=\"C\"\n          role={isModal ? 'dialog' : 'tooltip'}\n          id={popupId.current}\n        >\n          {arrow && !isModal && (\n            <div ref={arrowRef} style={styles.popupArrow}>\n              <svg\n                data-testid=\"arrow\"\n                className={`popup-arrow ${\n                  className !== ''\n                    ? className\n                        .split(' ')\n                        .map(c => `${c}-arrow`)\n                        .join(' ')\n                    : ''\n                }`}\n                viewBox=\"0 0 32 16\"\n                style={{\n                  position: 'absolute',\n                  ...arrowStyle,\n                }}\n              >\n                <path d=\"M16 0l16 16H0z\" fill=\"currentcolor\" />\n              </svg>\n            </div>\n          )}\n          {children && typeof children === 'function'\n            ? children(closePopup, isOpen)\n            : children}\n        </div>\n      );\n    };\n\n    const overlay = !(on.indexOf('hover') >= 0);\n    const ovStyle = isModal ? styles.overlay.modal : styles.overlay.tooltip;\n\n    const content = [\n      overlay && (\n        <div\n          key=\"O\"\n          data-testid=\"overlay\"\n          data-popup={isModal ? 'modal' : 'tooltip'}\n          className={`popup-overlay ${\n            className !== ''\n              ? className\n                  .split(' ')\n                  .map(c => `${c}-overlay`)\n                  .join(' ')\n              : ''\n          }`}\n          style={{\n            ...ovStyle,\n            ...overlayStyle,\n            pointerEvents:\n              (closeOnDocumentClick && nested) || isModal ? 'auto' : 'none',\n          }}\n          onClick={closeOnDocumentClick && nested ? closePopup : undefined}\n          tabIndex={-1}\n        >\n          {isModal && renderContent()}\n        </div>\n      ),\n\n      !isModal && renderContent(),\n    ];\n\n    return (\n      <>\n        {renderTrigger()}\n        {isOpen && ReactDOM.createPortal(content, getRootPopup())}\n      </>\n    );\n  }\n);\n\nexport default Popup;\n","'use strict';\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar React = require('react');\n\nvar PropTypes = require('prop-types'); // qr.js doesn't handle error level of zero (M) so we need to do it right,\n// thus the deep require.\n\n\nvar QRCodeImpl = require('qr.js/lib/QRCode');\n\nvar ErrorCorrectLevel = require('qr.js/lib/ErrorCorrectLevel'); // TODO: pull this off of the QRCode class type so it matches.\n\n\n// Convert from UTF-16, forcing the use of byte-mode encoding in our QR Code.\n// This allows us to encode Hanji, Kanji, emoji, etc. Ideally we'd do more\n// detection and not resort to byte-mode if possible, but we're trading off\n// a smaller library for a smaller amount of data we can potentially encode.\n// Based on http://jonisalonen.com/2012/from-utf-16-to-utf-8-in-javascript/\nfunction convertStr(str) {\n  var out = '';\n\n  for (var i = 0; i < str.length; i++) {\n    var charcode = str.charCodeAt(i);\n\n    if (charcode < 0x0080) {\n      out += String.fromCharCode(charcode);\n    } else if (charcode < 0x0800) {\n      out += String.fromCharCode(0xc0 | charcode >> 6);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    } else if (charcode < 0xd800 || charcode >= 0xe000) {\n      out += String.fromCharCode(0xe0 | charcode >> 12);\n      out += String.fromCharCode(0x80 | charcode >> 6 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    } else {\n      // This is a surrogate pair, so we'll reconsitute the pieces and work\n      // from that\n      i++;\n      charcode = 0x10000 + ((charcode & 0x3ff) << 10 | str.charCodeAt(i) & 0x3ff);\n      out += String.fromCharCode(0xf0 | charcode >> 18);\n      out += String.fromCharCode(0x80 | charcode >> 12 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode >> 6 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    }\n  }\n\n  return out;\n}\n\nvar DEFAULT_PROPS = {\n  size: 128,\n  level: 'L',\n  bgColor: '#FFFFFF',\n  fgColor: '#000000',\n  includeMargin: false\n};\nvar PROP_TYPES = process.env.NODE_ENV !== 'production' ? {\n  value: PropTypes.string.isRequired,\n  size: PropTypes.number,\n  level: PropTypes.oneOf(['L', 'M', 'Q', 'H']),\n  bgColor: PropTypes.string,\n  fgColor: PropTypes.string,\n  includeMargin: PropTypes.bool,\n  imageSettings: PropTypes.shape({\n    src: PropTypes.string.isRequired,\n    height: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    excavate: PropTypes.bool,\n    x: PropTypes.number,\n    y: PropTypes.number\n  })\n} : {};\nvar MARGIN_SIZE = 4; // This is *very* rough estimate of max amount of QRCode allowed to be covered.\n// It is \"wrong\" in a lot of ways (area is a terrible way to estimate, it\n// really should be number of modules covered), but if for some reason we don't\n// get an explicit height or width, I'd rather default to something than throw.\n\nvar DEFAULT_IMG_SCALE = 0.1;\n\nfunction generatePath(modules) {\n  var margin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var ops = [];\n  modules.forEach(function (row, y) {\n    var start = null;\n    row.forEach(function (cell, x) {\n      if (!cell && start !== null) {\n        // M0 0h7v1H0z injects the space with the move and drops the comma,\n        // saving a char per operation\n        ops.push(\"M\".concat(start + margin, \" \").concat(y + margin, \"h\").concat(x - start, \"v1H\").concat(start + margin, \"z\"));\n        start = null;\n        return;\n      } // end of row, clean up or skip\n\n\n      if (x === row.length - 1) {\n        if (!cell) {\n          // We would have closed the op above already so this can only mean\n          // 2+ light modules in a row.\n          return;\n        }\n\n        if (start === null) {\n          // Just a single dark module.\n          ops.push(\"M\".concat(x + margin, \",\").concat(y + margin, \" h1v1H\").concat(x + margin, \"z\"));\n        } else {\n          // Otherwise finish the current line.\n          ops.push(\"M\".concat(start + margin, \",\").concat(y + margin, \" h\").concat(x + 1 - start, \"v1H\").concat(start + margin, \"z\"));\n        }\n\n        return;\n      }\n\n      if (cell && start === null) {\n        start = x;\n      }\n    });\n  });\n  return ops.join('');\n} // We could just do this in generatePath, except that we want to support\n// non-Path2D canvas, so we need to keep it an explicit step.\n\n\nfunction excavateModules(modules, excavation) {\n  return modules.slice().map(function (row, y) {\n    if (y < excavation.y || y >= excavation.y + excavation.h) {\n      return row;\n    }\n\n    return row.map(function (cell, x) {\n      if (x < excavation.x || x >= excavation.x + excavation.w) {\n        return cell;\n      }\n\n      return false;\n    });\n  });\n}\n\nfunction getImageSettings(props, cells) {\n  var imageSettings = props.imageSettings,\n      size = props.size,\n      includeMargin = props.includeMargin;\n\n  if (imageSettings == null) {\n    return null;\n  }\n\n  var margin = includeMargin ? MARGIN_SIZE : 0;\n  var numCells = cells.length + margin * 2;\n  var defaultSize = Math.floor(size * DEFAULT_IMG_SCALE);\n  var scale = numCells / size;\n  var w = (imageSettings.width || defaultSize) * scale;\n  var h = (imageSettings.height || defaultSize) * scale;\n  var x = imageSettings.x == null ? cells.length / 2 - w / 2 : imageSettings.x * scale;\n  var y = imageSettings.y == null ? cells.length / 2 - h / 2 : imageSettings.y * scale;\n  var excavation = null;\n\n  if (imageSettings.excavate) {\n    var floorX = Math.floor(x);\n    var floorY = Math.floor(y);\n    var ceilW = Math.ceil(w + x - floorX);\n    var ceilH = Math.ceil(h + y - floorY);\n    excavation = {\n      x: floorX,\n      y: floorY,\n      w: ceilW,\n      h: ceilH\n    };\n  }\n\n  return {\n    x: x,\n    y: y,\n    h: h,\n    w: w,\n    excavation: excavation\n  };\n} // For canvas we're going to switch our drawing mode based on whether or not\n// the environment supports Path2D. We only need the constructor to be\n// supported, but Edge doesn't actually support the path (string) type\n// argument. Luckily it also doesn't support the addPath() method. We can\n// treat that as the same thing.\n\n\nvar SUPPORTS_PATH2D = function () {\n  try {\n    new Path2D().addPath(new Path2D());\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n}();\n\nvar QRCodeCanvas =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(QRCodeCanvas, _React$PureComponent);\n\n  function QRCodeCanvas() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, QRCodeCanvas);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(QRCodeCanvas)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"_canvas\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_image\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      imgLoaded: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleImageLoad\", function () {\n      _this.setState({\n        imgLoaded: true\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(QRCodeCanvas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this._image && this._image.complete) {\n        this.handleImageLoad();\n      }\n\n      this.update();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _this$props$imageSett, _nextProps$imageSetti;\n\n      var currentSrc = (_this$props$imageSett = this.props.imageSettings) === null || _this$props$imageSett === void 0 ? void 0 : _this$props$imageSett.src;\n      var nextSrc = (_nextProps$imageSetti = nextProps.imageSettings) === null || _nextProps$imageSetti === void 0 ? void 0 : _nextProps$imageSetti.src;\n\n      if (currentSrc !== nextSrc) {\n        this.setState({\n          imgLoaded: false\n        });\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.update();\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var _this$props = this.props,\n          value = _this$props.value,\n          size = _this$props.size,\n          level = _this$props.level,\n          bgColor = _this$props.bgColor,\n          fgColor = _this$props.fgColor,\n          includeMargin = _this$props.includeMargin,\n          imageSettings = _this$props.imageSettings; // We'll use type===-1 to force QRCode to automatically pick the best type\n\n      var qrcode = new QRCodeImpl(-1, ErrorCorrectLevel[level]);\n      qrcode.addData(convertStr(value));\n      qrcode.make();\n\n      if (this._canvas != null) {\n        var canvas = this._canvas;\n        var ctx = canvas.getContext('2d');\n\n        if (!ctx) {\n          return;\n        }\n\n        var cells = qrcode.modules;\n\n        if (cells === null) {\n          return;\n        }\n\n        var margin = includeMargin ? MARGIN_SIZE : 0;\n        var numCells = cells.length + margin * 2;\n        var calculatedImageSettings = getImageSettings(this.props, cells);\n\n        if (imageSettings != null && calculatedImageSettings != null) {\n          if (calculatedImageSettings.excavation != null) {\n            cells = excavateModules(cells, calculatedImageSettings.excavation);\n          }\n        } // We're going to scale this so that the number of drawable units\n        // matches the number of cells. This avoids rounding issues, but does\n        // result in some potentially unwanted single pixel issues between\n        // blocks, only in environments that don't support Path2D.\n\n\n        var pixelRatio = window.devicePixelRatio || 1;\n        canvas.height = canvas.width = size * pixelRatio;\n        var scale = size / numCells * pixelRatio;\n        ctx.scale(scale, scale); // Draw solid background, only paint dark modules.\n\n        ctx.fillStyle = bgColor;\n        ctx.fillRect(0, 0, numCells, numCells);\n        ctx.fillStyle = fgColor;\n\n        if (SUPPORTS_PATH2D) {\n          // $FlowFixMe: Path2D c'tor doesn't support args yet.\n          ctx.fill(new Path2D(generatePath(cells, margin)));\n        } else {\n          cells.forEach(function (row, rdx) {\n            row.forEach(function (cell, cdx) {\n              if (cell) {\n                ctx.fillRect(cdx + margin, rdx + margin, 1, 1);\n              }\n            });\n          });\n        }\n\n        if (this.state.imgLoaded && this._image && calculatedImageSettings != null) {\n          ctx.drawImage(this._image, calculatedImageSettings.x + margin, calculatedImageSettings.y + margin, calculatedImageSettings.w, calculatedImageSettings.h);\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          value = _this$props2.value,\n          size = _this$props2.size,\n          level = _this$props2.level,\n          bgColor = _this$props2.bgColor,\n          fgColor = _this$props2.fgColor,\n          style = _this$props2.style,\n          includeMargin = _this$props2.includeMargin,\n          imageSettings = _this$props2.imageSettings,\n          otherProps = _objectWithoutProperties(_this$props2, [\"value\", \"size\", \"level\", \"bgColor\", \"fgColor\", \"style\", \"includeMargin\", \"imageSettings\"]);\n\n      var canvasStyle = _objectSpread({\n        height: size,\n        width: size\n      }, style);\n\n      var img = null;\n      var imgSrc = imageSettings && imageSettings.src;\n\n      if (imageSettings != null && imgSrc != null) {\n        img = React.createElement(\"img\", {\n          src: imgSrc,\n          style: {\n            display: 'none'\n          },\n          onLoad: this.handleImageLoad,\n          ref: function ref(_ref) {\n            return _this2._image = _ref;\n          }\n        });\n      }\n\n      return React.createElement(React.Fragment, null, React.createElement(\"canvas\", _extends({\n        style: canvasStyle,\n        height: size,\n        width: size,\n        ref: function ref(_ref2) {\n          return _this2._canvas = _ref2;\n        }\n      }, otherProps)), img);\n    }\n  }]);\n\n  return QRCodeCanvas;\n}(React.PureComponent);\n\n_defineProperty(QRCodeCanvas, \"defaultProps\", DEFAULT_PROPS);\n\nif (process.env.NODE_ENV !== 'production') {\n  QRCodeCanvas.propTypes = PROP_TYPES;\n}\n\nvar QRCodeSVG =\n/*#__PURE__*/\nfunction (_React$PureComponent2) {\n  _inherits(QRCodeSVG, _React$PureComponent2);\n\n  function QRCodeSVG() {\n    _classCallCheck(this, QRCodeSVG);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(QRCodeSVG).apply(this, arguments));\n  }\n\n  _createClass(QRCodeSVG, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          value = _this$props3.value,\n          size = _this$props3.size,\n          level = _this$props3.level,\n          bgColor = _this$props3.bgColor,\n          fgColor = _this$props3.fgColor,\n          includeMargin = _this$props3.includeMargin,\n          imageSettings = _this$props3.imageSettings,\n          otherProps = _objectWithoutProperties(_this$props3, [\"value\", \"size\", \"level\", \"bgColor\", \"fgColor\", \"includeMargin\", \"imageSettings\"]); // We'll use type===-1 to force QRCode to automatically pick the best type\n\n\n      var qrcode = new QRCodeImpl(-1, ErrorCorrectLevel[level]);\n      qrcode.addData(convertStr(value));\n      qrcode.make();\n      var cells = qrcode.modules;\n\n      if (cells === null) {\n        return null;\n      }\n\n      var margin = includeMargin ? MARGIN_SIZE : 0;\n      var numCells = cells.length + margin * 2;\n      var calculatedImageSettings = getImageSettings(this.props, cells);\n      var image = null;\n\n      if (imageSettings != null && calculatedImageSettings != null) {\n        if (calculatedImageSettings.excavation != null) {\n          cells = excavateModules(cells, calculatedImageSettings.excavation);\n        }\n\n        image = React.createElement(\"image\", {\n          xlinkHref: imageSettings.src,\n          height: calculatedImageSettings.h,\n          width: calculatedImageSettings.w,\n          x: calculatedImageSettings.x + margin,\n          y: calculatedImageSettings.y + margin,\n          preserveAspectRatio: \"none\"\n        });\n      } // Drawing strategy: instead of a rect per module, we're going to create a\n      // single path for the dark modules and layer that on top of a light rect,\n      // for a total of 2 DOM nodes. We pay a bit more in string concat but that's\n      // way faster than DOM ops.\n      // For level 1, 441 nodes -> 2\n      // For level 40, 31329 -> 2\n\n\n      var fgPath = generatePath(cells, margin);\n      return React.createElement(\"svg\", _extends({\n        shapeRendering: \"crispEdges\",\n        height: size,\n        width: size,\n        viewBox: \"0 0 \".concat(numCells, \" \").concat(numCells)\n      }, otherProps), React.createElement(\"path\", {\n        fill: bgColor,\n        d: \"M0,0 h\".concat(numCells, \"v\").concat(numCells, \"H0z\")\n      }), React.createElement(\"path\", {\n        fill: fgColor,\n        d: fgPath\n      }), image);\n    }\n  }]);\n\n  return QRCodeSVG;\n}(React.PureComponent);\n\n_defineProperty(QRCodeSVG, \"defaultProps\", DEFAULT_PROPS);\n\nif (process.env.NODE_ENV !== 'production') {\n  QRCodeSVG.propTypes = PROP_TYPES;\n}\n\nvar QRCode = function QRCode(props) {\n  var renderAs = props.renderAs,\n      otherProps = _objectWithoutProperties(props, [\"renderAs\"]);\n\n  var Component = renderAs === 'svg' ? QRCodeSVG : QRCodeCanvas;\n  return React.createElement(Component, otherProps);\n};\n\nQRCode.defaultProps = _objectSpread({\n  renderAs: 'canvas'\n}, DEFAULT_PROPS);\nmodule.exports = QRCode;","module.exports = {\n\tMODE_NUMBER :\t\t1 << 0,\n\tMODE_ALPHA_NUM : \t1 << 1,\n\tMODE_8BIT_BYTE : \t1 << 2,\n\tMODE_KANJI :\t\t1 << 3\n};\n","module.exports = {\n\tL : 1,\n\tM : 0,\n\tQ : 3,\n\tH : 2\n};\n\n","var math = require('./math');\n\nfunction QRPolynomial(num, shift) {\n\n\tif (num.length == undefined) {\n\t\tthrow new Error(num.length + \"/\" + shift);\n\t}\n\n\tvar offset = 0;\n\n\twhile (offset < num.length && num[offset] == 0) {\n\t\toffset++;\n\t}\n\n\tthis.num = new Array(num.length - offset + shift);\n\tfor (var i = 0; i < num.length - offset; i++) {\n\t\tthis.num[i] = num[i + offset];\n\t}\n}\n\nQRPolynomial.prototype = {\n\n\tget : function(index) {\n\t\treturn this.num[index];\n\t},\n\t\n\tgetLength : function() {\n\t\treturn this.num.length;\n\t},\n\t\n\tmultiply : function(e) {\n\t\n\t\tvar num = new Array(this.getLength() + e.getLength() - 1);\n\t\n\t\tfor (var i = 0; i < this.getLength(); i++) {\n\t\t\tfor (var j = 0; j < e.getLength(); j++) {\n\t\t\t\tnum[i + j] ^= math.gexp(math.glog(this.get(i) ) + math.glog(e.get(j) ) );\n\t\t\t}\n\t\t}\n\t\n\t\treturn new QRPolynomial(num, 0);\n\t},\n\t\n\tmod : function(e) {\n\t\n\t\tif (this.getLength() - e.getLength() < 0) {\n\t\t\treturn this;\n\t\t}\n\t\n\t\tvar ratio = math.glog(this.get(0) ) - math.glog(e.get(0) );\n\t\n\t\tvar num = new Array(this.getLength() );\n\t\t\n\t\tfor (var i = 0; i < this.getLength(); i++) {\n\t\t\tnum[i] = this.get(i);\n\t\t}\n\t\t\n\t\tfor (var i = 0; i < e.getLength(); i++) {\n\t\t\tnum[i] ^= math.gexp(math.glog(e.get(i) ) + ratio);\n\t\t}\n\t\n\t\t// recursive call\n\t\treturn new QRPolynomial(num, 0).mod(e);\n\t}\n};\n\nmodule.exports = QRPolynomial;\n","var QRMath = {\n\n\tglog : function(n) {\n\t\n\t\tif (n < 1) {\n\t\t\tthrow new Error(\"glog(\" + n + \")\");\n\t\t}\n\t\t\n\t\treturn QRMath.LOG_TABLE[n];\n\t},\n\t\n\tgexp : function(n) {\n\t\n\t\twhile (n < 0) {\n\t\t\tn += 255;\n\t\t}\n\t\n\t\twhile (n >= 256) {\n\t\t\tn -= 255;\n\t\t}\n\t\n\t\treturn QRMath.EXP_TABLE[n];\n\t},\n\t\n\tEXP_TABLE : new Array(256),\n\t\n\tLOG_TABLE : new Array(256)\n\n};\n\t\nfor (var i = 0; i < 8; i++) {\n\tQRMath.EXP_TABLE[i] = 1 << i;\n}\nfor (var i = 8; i < 256; i++) {\n\tQRMath.EXP_TABLE[i] = QRMath.EXP_TABLE[i - 4]\n\t\t^ QRMath.EXP_TABLE[i - 5]\n\t\t^ QRMath.EXP_TABLE[i - 6]\n\t\t^ QRMath.EXP_TABLE[i - 8];\n}\nfor (var i = 0; i < 255; i++) {\n\tQRMath.LOG_TABLE[QRMath.EXP_TABLE[i] ] = i;\n}\n\nmodule.exports = QRMath;\n","var BitByte = require('./8BitByte');\nvar RSBlock = require('./RSBlock');\nvar BitBuffer = require('./BitBuffer');\nvar util = require('./util');\nvar Polynomial = require('./Polynomial');\n\nfunction QRCode(typeNumber, errorCorrectLevel) {\n\tthis.typeNumber = typeNumber;\n\tthis.errorCorrectLevel = errorCorrectLevel;\n\tthis.modules = null;\n\tthis.moduleCount = 0;\n\tthis.dataCache = null;\n\tthis.dataList = [];\n}\n\n// for client side minification\nvar proto = QRCode.prototype;\n\nproto.addData = function(data) {\n\tvar newData = new BitByte(data);\n\tthis.dataList.push(newData);\n\tthis.dataCache = null;\n};\n\nproto.isDark = function(row, col) {\n\tif (row < 0 || this.moduleCount <= row || col < 0 || this.moduleCount <= col) {\n\t\tthrow new Error(row + \",\" + col);\n\t}\n\treturn this.modules[row][col];\n};\n\nproto.getModuleCount = function() {\n\treturn this.moduleCount;\n};\n\nproto.make = function() {\n\t// Calculate automatically typeNumber if provided is < 1\n\tif (this.typeNumber < 1 ){\n\t\tvar typeNumber = 1;\n\t\tfor (typeNumber = 1; typeNumber < 40; typeNumber++) {\n\t\t\tvar rsBlocks = RSBlock.getRSBlocks(typeNumber, this.errorCorrectLevel);\n\n\t\t\tvar buffer = new BitBuffer();\n\t\t\tvar totalDataCount = 0;\n\t\t\tfor (var i = 0; i < rsBlocks.length; i++) {\n\t\t\t\ttotalDataCount += rsBlocks[i].dataCount;\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < this.dataList.length; i++) {\n\t\t\t\tvar data = this.dataList[i];\n\t\t\t\tbuffer.put(data.mode, 4);\n\t\t\t\tbuffer.put(data.getLength(), util.getLengthInBits(data.mode, typeNumber) );\n\t\t\t\tdata.write(buffer);\n\t\t\t}\n\t\t\tif (buffer.getLengthInBits() <= totalDataCount * 8)\n\t\t\t\tbreak;\n\t\t}\n\t\tthis.typeNumber = typeNumber;\n\t}\n\tthis.makeImpl(false, this.getBestMaskPattern() );\n};\n\nproto.makeImpl = function(test, maskPattern) {\n\t\n\tthis.moduleCount = this.typeNumber * 4 + 17;\n\tthis.modules = new Array(this.moduleCount);\n\t\n\tfor (var row = 0; row < this.moduleCount; row++) {\n\t\t\n\t\tthis.modules[row] = new Array(this.moduleCount);\n\t\t\n\t\tfor (var col = 0; col < this.moduleCount; col++) {\n\t\t\tthis.modules[row][col] = null;//(col + row) % 3;\n\t\t}\n\t}\n\n\tthis.setupPositionProbePattern(0, 0);\n\tthis.setupPositionProbePattern(this.moduleCount - 7, 0);\n\tthis.setupPositionProbePattern(0, this.moduleCount - 7);\n\tthis.setupPositionAdjustPattern();\n\tthis.setupTimingPattern();\n\tthis.setupTypeInfo(test, maskPattern);\n\t\n\tif (this.typeNumber >= 7) {\n\t\tthis.setupTypeNumber(test);\n\t}\n\n\tif (this.dataCache == null) {\n\t\tthis.dataCache = QRCode.createData(this.typeNumber, this.errorCorrectLevel, this.dataList);\n\t}\n\n\tthis.mapData(this.dataCache, maskPattern);\n};\n\nproto.setupPositionProbePattern = function(row, col)  {\n\t\n\tfor (var r = -1; r <= 7; r++) {\n\t\t\n\t\tif (row + r <= -1 || this.moduleCount <= row + r) continue;\n\t\t\n\t\tfor (var c = -1; c <= 7; c++) {\n\t\t\t\n\t\t\tif (col + c <= -1 || this.moduleCount <= col + c) continue;\n\t\t\t\n\t\t\tif ( (0 <= r && r <= 6 && (c == 0 || c == 6) )\n\t\t\t\t\t|| (0 <= c && c <= 6 && (r == 0 || r == 6) )\n\t\t\t\t\t|| (2 <= r && r <= 4 && 2 <= c && c <= 4) ) {\n\t\t\t\tthis.modules[row + r][col + c] = true;\n\t\t\t} else {\n\t\t\t\tthis.modules[row + r][col + c] = false;\n\t\t\t}\n\t\t}\t\t\n\t}\t\t\n};\n\nproto.getBestMaskPattern = function() {\n\n\tvar minLostPoint = 0;\n\tvar pattern = 0;\n\n\tfor (var i = 0; i < 8; i++) {\n\t\t\n\t\tthis.makeImpl(true, i);\n\n\t\tvar lostPoint = util.getLostPoint(this);\n\n\t\tif (i == 0 || minLostPoint >  lostPoint) {\n\t\t\tminLostPoint = lostPoint;\n\t\t\tpattern = i;\n\t\t}\n\t}\n\n\treturn pattern;\n};\n\nproto.createMovieClip = function(target_mc, instance_name, depth) {\n\n\tvar qr_mc = target_mc.createEmptyMovieClip(instance_name, depth);\n\tvar cs = 1;\n\n\tthis.make();\n\n\tfor (var row = 0; row < this.modules.length; row++) {\n\t\t\n\t\tvar y = row * cs;\n\t\t\n\t\tfor (var col = 0; col < this.modules[row].length; col++) {\n\n\t\t\tvar x = col * cs;\n\t\t\tvar dark = this.modules[row][col];\n\t\t\n\t\t\tif (dark) {\n\t\t\t\tqr_mc.beginFill(0, 100);\n\t\t\t\tqr_mc.moveTo(x, y);\n\t\t\t\tqr_mc.lineTo(x + cs, y);\n\t\t\t\tqr_mc.lineTo(x + cs, y + cs);\n\t\t\t\tqr_mc.lineTo(x, y + cs);\n\t\t\t\tqr_mc.endFill();\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn qr_mc;\n};\n\nproto.setupTimingPattern = function() {\n\t\n\tfor (var r = 8; r < this.moduleCount - 8; r++) {\n\t\tif (this.modules[r][6] != null) {\n\t\t\tcontinue;\n\t\t}\n\t\tthis.modules[r][6] = (r % 2 == 0);\n\t}\n\n\tfor (var c = 8; c < this.moduleCount - 8; c++) {\n\t\tif (this.modules[6][c] != null) {\n\t\t\tcontinue;\n\t\t}\n\t\tthis.modules[6][c] = (c % 2 == 0);\n\t}\n};\n\nproto.setupPositionAdjustPattern = function() {\n\n\tvar pos = util.getPatternPosition(this.typeNumber);\n\t\n\tfor (var i = 0; i < pos.length; i++) {\n\t\n\t\tfor (var j = 0; j < pos.length; j++) {\n\t\t\n\t\t\tvar row = pos[i];\n\t\t\tvar col = pos[j];\n\t\t\t\n\t\t\tif (this.modules[row][col] != null) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\tfor (var r = -2; r <= 2; r++) {\n\t\t\t\n\t\t\t\tfor (var c = -2; c <= 2; c++) {\n\t\t\t\t\n\t\t\t\t\tif (r == -2 || r == 2 || c == -2 || c == 2\n\t\t\t\t\t\t\t|| (r == 0 && c == 0) ) {\n\t\t\t\t\t\tthis.modules[row + r][col + c] = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.modules[row + r][col + c] = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\nproto.setupTypeNumber = function(test) {\n\n\tvar bits = util.getBCHTypeNumber(this.typeNumber);\n\n\tfor (var i = 0; i < 18; i++) {\n\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\t\tthis.modules[Math.floor(i / 3)][i % 3 + this.moduleCount - 8 - 3] = mod;\n\t}\n\n\tfor (var i = 0; i < 18; i++) {\n\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\t\tthis.modules[i % 3 + this.moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\n\t}\n};\n\nproto.setupTypeInfo = function(test, maskPattern) {\n\n\tvar data = (this.errorCorrectLevel << 3) | maskPattern;\n\tvar bits = util.getBCHTypeInfo(data);\n\n\t// vertical\t\t\n\tfor (var i = 0; i < 15; i++) {\n\n\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\n\t\tif (i < 6) {\n\t\t\tthis.modules[i][8] = mod;\n\t\t} else if (i < 8) {\n\t\t\tthis.modules[i + 1][8] = mod;\n\t\t} else {\n\t\t\tthis.modules[this.moduleCount - 15 + i][8] = mod;\n\t\t}\n\t}\n\n\t// horizontal\n\tfor (var i = 0; i < 15; i++) {\n\n\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\t\t\n\t\tif (i < 8) {\n\t\t\tthis.modules[8][this.moduleCount - i - 1] = mod;\n\t\t} else if (i < 9) {\n\t\t\tthis.modules[8][15 - i - 1 + 1] = mod;\n\t\t} else {\n\t\t\tthis.modules[8][15 - i - 1] = mod;\n\t\t}\n\t}\n\n\t// fixed module\n\tthis.modules[this.moduleCount - 8][8] = (!test);\n};\n\nproto.mapData = function(data, maskPattern) {\n\t\n\tvar inc = -1;\n\tvar row = this.moduleCount - 1;\n\tvar bitIndex = 7;\n\tvar byteIndex = 0;\n\t\n\tfor (var col = this.moduleCount - 1; col > 0; col -= 2) {\n\n\t\tif (col == 6) col--;\n\n\t\twhile (true) {\n\n\t\t\tfor (var c = 0; c < 2; c++) {\n\t\t\t\t\n\t\t\t\tif (this.modules[row][col - c] == null) {\n\t\t\t\t\t\n\t\t\t\t\tvar dark = false;\n\n\t\t\t\t\tif (byteIndex < data.length) {\n\t\t\t\t\t\tdark = ( ( (data[byteIndex] >>> bitIndex) & 1) == 1);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar mask = util.getMask(maskPattern, row, col - c);\n\n\t\t\t\t\tif (mask) {\n\t\t\t\t\t\tdark = !dark;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.modules[row][col - c] = dark;\n\t\t\t\t\tbitIndex--;\n\n\t\t\t\t\tif (bitIndex == -1) {\n\t\t\t\t\t\tbyteIndex++;\n\t\t\t\t\t\tbitIndex = 7;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\trow += inc;\n\n\t\t\tif (row < 0 || this.moduleCount <= row) {\n\t\t\t\trow -= inc;\n\t\t\t\tinc = -inc;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n};\n\nQRCode.PAD0 = 0xEC;\nQRCode.PAD1 = 0x11;\n\nQRCode.createData = function(typeNumber, errorCorrectLevel, dataList) {\n\t\n\tvar rsBlocks = RSBlock.getRSBlocks(typeNumber, errorCorrectLevel);\n\t\n\tvar buffer = new BitBuffer();\n\t\n\tfor (var i = 0; i < dataList.length; i++) {\n\t\tvar data = dataList[i];\n\t\tbuffer.put(data.mode, 4);\n\t\tbuffer.put(data.getLength(), util.getLengthInBits(data.mode, typeNumber) );\n\t\tdata.write(buffer);\n\t}\n\n\t// calc num max data.\n\tvar totalDataCount = 0;\n\tfor (var i = 0; i < rsBlocks.length; i++) {\n\t\ttotalDataCount += rsBlocks[i].dataCount;\n\t}\n\n\tif (buffer.getLengthInBits() > totalDataCount * 8) {\n\t\tthrow new Error(\"code length overflow. (\"\n\t\t\t+ buffer.getLengthInBits()\n\t\t\t+ \">\"\n\t\t\t+  totalDataCount * 8\n\t\t\t+ \")\");\n\t}\n\n\t// end code\n\tif (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n\t\tbuffer.put(0, 4);\n\t}\n\n\t// padding\n\twhile (buffer.getLengthInBits() % 8 != 0) {\n\t\tbuffer.putBit(false);\n\t}\n\n\t// padding\n\twhile (true) {\n\t\t\n\t\tif (buffer.getLengthInBits() >= totalDataCount * 8) {\n\t\t\tbreak;\n\t\t}\n\t\tbuffer.put(QRCode.PAD0, 8);\n\t\t\n\t\tif (buffer.getLengthInBits() >= totalDataCount * 8) {\n\t\t\tbreak;\n\t\t}\n\t\tbuffer.put(QRCode.PAD1, 8);\n\t}\n\n\treturn QRCode.createBytes(buffer, rsBlocks);\n};\n\nQRCode.createBytes = function(buffer, rsBlocks) {\n\n\tvar offset = 0;\n\t\n\tvar maxDcCount = 0;\n\tvar maxEcCount = 0;\n\t\n\tvar dcdata = new Array(rsBlocks.length);\n\tvar ecdata = new Array(rsBlocks.length);\n\t\n\tfor (var r = 0; r < rsBlocks.length; r++) {\n\n\t\tvar dcCount = rsBlocks[r].dataCount;\n\t\tvar ecCount = rsBlocks[r].totalCount - dcCount;\n\n\t\tmaxDcCount = Math.max(maxDcCount, dcCount);\n\t\tmaxEcCount = Math.max(maxEcCount, ecCount);\n\t\t\n\t\tdcdata[r] = new Array(dcCount);\n\t\t\n\t\tfor (var i = 0; i < dcdata[r].length; i++) {\n\t\t\tdcdata[r][i] = 0xff & buffer.buffer[i + offset];\n\t\t}\n\t\toffset += dcCount;\n\t\t\n\t\tvar rsPoly = util.getErrorCorrectPolynomial(ecCount);\n\t\tvar rawPoly = new Polynomial(dcdata[r], rsPoly.getLength() - 1);\n\n\t\tvar modPoly = rawPoly.mod(rsPoly);\n\t\tecdata[r] = new Array(rsPoly.getLength() - 1);\n\t\tfor (var i = 0; i < ecdata[r].length; i++) {\n            var modIndex = i + modPoly.getLength() - ecdata[r].length;\n\t\t\tecdata[r][i] = (modIndex >= 0)? modPoly.get(modIndex) : 0;\n\t\t}\n\n\t}\n\t\n\tvar totalCodeCount = 0;\n\tfor (var i = 0; i < rsBlocks.length; i++) {\n\t\ttotalCodeCount += rsBlocks[i].totalCount;\n\t}\n\n\tvar data = new Array(totalCodeCount);\n\tvar index = 0;\n\n\tfor (var i = 0; i < maxDcCount; i++) {\n\t\tfor (var r = 0; r < rsBlocks.length; r++) {\n\t\t\tif (i < dcdata[r].length) {\n\t\t\t\tdata[index++] = dcdata[r][i];\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var i = 0; i < maxEcCount; i++) {\n\t\tfor (var r = 0; r < rsBlocks.length; r++) {\n\t\t\tif (i < ecdata[r].length) {\n\t\t\t\tdata[index++] = ecdata[r][i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn data;\n};\n\nmodule.exports = QRCode;\n\n","var mode = require('./mode');\n\nfunction QR8bitByte(data) {\n\tthis.mode = mode.MODE_8BIT_BYTE;\n\tthis.data = data;\n}\n\nQR8bitByte.prototype = {\n\n\tgetLength : function(buffer) {\n\t\treturn this.data.length;\n\t},\n\t\n\twrite : function(buffer) {\n\t\tfor (var i = 0; i < this.data.length; i++) {\n\t\t\t// not JIS ...\n\t\t\tbuffer.put(this.data.charCodeAt(i), 8);\n\t\t}\n\t}\n};\n\nmodule.exports = QR8bitByte;\n\n","// ErrorCorrectLevel\nvar ECL = require('./ErrorCorrectLevel');\n\nfunction QRRSBlock(totalCount, dataCount) {\n\tthis.totalCount = totalCount;\n\tthis.dataCount  = dataCount;\n}\n\nQRRSBlock.RS_BLOCK_TABLE = [\n\n\t// L\n\t// M\n\t// Q\n\t// H\n\n\t// 1\n\t[1, 26, 19],\n\t[1, 26, 16],\n\t[1, 26, 13],\n\t[1, 26, 9],\n\t\n\t// 2\n\t[1, 44, 34],\n\t[1, 44, 28],\n\t[1, 44, 22],\n\t[1, 44, 16],\n\n\t// 3\n\t[1, 70, 55],\n\t[1, 70, 44],\n\t[2, 35, 17],\n\t[2, 35, 13],\n\n\t// 4\t\t\n\t[1, 100, 80],\n\t[2, 50, 32],\n\t[2, 50, 24],\n\t[4, 25, 9],\n\t\n\t// 5\n\t[1, 134, 108],\n\t[2, 67, 43],\n\t[2, 33, 15, 2, 34, 16],\n\t[2, 33, 11, 2, 34, 12],\n\t\n\t// 6\n\t[2, 86, 68],\n\t[4, 43, 27],\n\t[4, 43, 19],\n\t[4, 43, 15],\n\t\n\t// 7\t\t\n\t[2, 98, 78],\n\t[4, 49, 31],\n\t[2, 32, 14, 4, 33, 15],\n\t[4, 39, 13, 1, 40, 14],\n\t\n\t// 8\n\t[2, 121, 97],\n\t[2, 60, 38, 2, 61, 39],\n\t[4, 40, 18, 2, 41, 19],\n\t[4, 40, 14, 2, 41, 15],\n\t\n\t// 9\n\t[2, 146, 116],\n\t[3, 58, 36, 2, 59, 37],\n\t[4, 36, 16, 4, 37, 17],\n\t[4, 36, 12, 4, 37, 13],\n\t\n\t// 10\t\t\n\t[2, 86, 68, 2, 87, 69],\n\t[4, 69, 43, 1, 70, 44],\n\t[6, 43, 19, 2, 44, 20],\n\t[6, 43, 15, 2, 44, 16],\n\n\t// 11\n\t[4, 101, 81],\n\t[1, 80, 50, 4, 81, 51],\n\t[4, 50, 22, 4, 51, 23],\n\t[3, 36, 12, 8, 37, 13],\n\n\t// 12\n\t[2, 116, 92, 2, 117, 93],\n\t[6, 58, 36, 2, 59, 37],\n\t[4, 46, 20, 6, 47, 21],\n\t[7, 42, 14, 4, 43, 15],\n\n\t// 13\n\t[4, 133, 107],\n\t[8, 59, 37, 1, 60, 38],\n\t[8, 44, 20, 4, 45, 21],\n\t[12, 33, 11, 4, 34, 12],\n\n\t// 14\n\t[3, 145, 115, 1, 146, 116],\n\t[4, 64, 40, 5, 65, 41],\n\t[11, 36, 16, 5, 37, 17],\n\t[11, 36, 12, 5, 37, 13],\n\n\t// 15\n\t[5, 109, 87, 1, 110, 88],\n\t[5, 65, 41, 5, 66, 42],\n\t[5, 54, 24, 7, 55, 25],\n\t[11, 36, 12],\n\n\t// 16\n\t[5, 122, 98, 1, 123, 99],\n\t[7, 73, 45, 3, 74, 46],\n\t[15, 43, 19, 2, 44, 20],\n\t[3, 45, 15, 13, 46, 16],\n\n\t// 17\n\t[1, 135, 107, 5, 136, 108],\n\t[10, 74, 46, 1, 75, 47],\n\t[1, 50, 22, 15, 51, 23],\n\t[2, 42, 14, 17, 43, 15],\n\n\t// 18\n\t[5, 150, 120, 1, 151, 121],\n\t[9, 69, 43, 4, 70, 44],\n\t[17, 50, 22, 1, 51, 23],\n\t[2, 42, 14, 19, 43, 15],\n\n\t// 19\n\t[3, 141, 113, 4, 142, 114],\n\t[3, 70, 44, 11, 71, 45],\n\t[17, 47, 21, 4, 48, 22],\n\t[9, 39, 13, 16, 40, 14],\n\n\t// 20\n\t[3, 135, 107, 5, 136, 108],\n\t[3, 67, 41, 13, 68, 42],\n\t[15, 54, 24, 5, 55, 25],\n\t[15, 43, 15, 10, 44, 16],\n\n\t// 21\n\t[4, 144, 116, 4, 145, 117],\n\t[17, 68, 42],\n\t[17, 50, 22, 6, 51, 23],\n\t[19, 46, 16, 6, 47, 17],\n\n\t// 22\n\t[2, 139, 111, 7, 140, 112],\n\t[17, 74, 46],\n\t[7, 54, 24, 16, 55, 25],\n\t[34, 37, 13],\n\n\t// 23\n\t[4, 151, 121, 5, 152, 122],\n\t[4, 75, 47, 14, 76, 48],\n\t[11, 54, 24, 14, 55, 25],\n\t[16, 45, 15, 14, 46, 16],\n\n\t// 24\n\t[6, 147, 117, 4, 148, 118],\n\t[6, 73, 45, 14, 74, 46],\n\t[11, 54, 24, 16, 55, 25],\n\t[30, 46, 16, 2, 47, 17],\n\n\t// 25\n\t[8, 132, 106, 4, 133, 107],\n\t[8, 75, 47, 13, 76, 48],\n\t[7, 54, 24, 22, 55, 25],\n\t[22, 45, 15, 13, 46, 16],\n\n\t// 26\n\t[10, 142, 114, 2, 143, 115],\n\t[19, 74, 46, 4, 75, 47],\n\t[28, 50, 22, 6, 51, 23],\n\t[33, 46, 16, 4, 47, 17],\n\n\t// 27\n\t[8, 152, 122, 4, 153, 123],\n\t[22, 73, 45, 3, 74, 46],\n\t[8, 53, 23, 26, 54, 24],\n\t[12, 45, 15, 28, 46, 16],\n\n\t// 28\n\t[3, 147, 117, 10, 148, 118],\n\t[3, 73, 45, 23, 74, 46],\n\t[4, 54, 24, 31, 55, 25],\n\t[11, 45, 15, 31, 46, 16],\n\n\t// 29\n\t[7, 146, 116, 7, 147, 117],\n\t[21, 73, 45, 7, 74, 46],\n\t[1, 53, 23, 37, 54, 24],\n\t[19, 45, 15, 26, 46, 16],\n\n\t// 30\n\t[5, 145, 115, 10, 146, 116],\n\t[19, 75, 47, 10, 76, 48],\n\t[15, 54, 24, 25, 55, 25],\n\t[23, 45, 15, 25, 46, 16],\n\n\t// 31\n\t[13, 145, 115, 3, 146, 116],\n\t[2, 74, 46, 29, 75, 47],\n\t[42, 54, 24, 1, 55, 25],\n\t[23, 45, 15, 28, 46, 16],\n\n\t// 32\n\t[17, 145, 115],\n\t[10, 74, 46, 23, 75, 47],\n\t[10, 54, 24, 35, 55, 25],\n\t[19, 45, 15, 35, 46, 16],\n\n\t// 33\n\t[17, 145, 115, 1, 146, 116],\n\t[14, 74, 46, 21, 75, 47],\n\t[29, 54, 24, 19, 55, 25],\n\t[11, 45, 15, 46, 46, 16],\n\n\t// 34\n\t[13, 145, 115, 6, 146, 116],\n\t[14, 74, 46, 23, 75, 47],\n\t[44, 54, 24, 7, 55, 25],\n\t[59, 46, 16, 1, 47, 17],\n\n\t// 35\n\t[12, 151, 121, 7, 152, 122],\n\t[12, 75, 47, 26, 76, 48],\n\t[39, 54, 24, 14, 55, 25],\n\t[22, 45, 15, 41, 46, 16],\n\n\t// 36\n\t[6, 151, 121, 14, 152, 122],\n\t[6, 75, 47, 34, 76, 48],\n\t[46, 54, 24, 10, 55, 25],\n\t[2, 45, 15, 64, 46, 16],\n\n\t// 37\n\t[17, 152, 122, 4, 153, 123],\n\t[29, 74, 46, 14, 75, 47],\n\t[49, 54, 24, 10, 55, 25],\n\t[24, 45, 15, 46, 46, 16],\n\n\t// 38\n\t[4, 152, 122, 18, 153, 123],\n\t[13, 74, 46, 32, 75, 47],\n\t[48, 54, 24, 14, 55, 25],\n\t[42, 45, 15, 32, 46, 16],\n\n\t// 39\n\t[20, 147, 117, 4, 148, 118],\n\t[40, 75, 47, 7, 76, 48],\n\t[43, 54, 24, 22, 55, 25],\n\t[10, 45, 15, 67, 46, 16],\n\n\t// 40\n\t[19, 148, 118, 6, 149, 119],\n\t[18, 75, 47, 31, 76, 48],\n\t[34, 54, 24, 34, 55, 25],\n\t[20, 45, 15, 61, 46, 16]\n];\n\nQRRSBlock.getRSBlocks = function(typeNumber, errorCorrectLevel) {\n\t\n\tvar rsBlock = QRRSBlock.getRsBlockTable(typeNumber, errorCorrectLevel);\n\t\n\tif (rsBlock == undefined) {\n\t\tthrow new Error(\"bad rs block @ typeNumber:\" + typeNumber + \"/errorCorrectLevel:\" + errorCorrectLevel);\n\t}\n\n\tvar length = rsBlock.length / 3;\n\t\n\tvar list = new Array();\n\t\n\tfor (var i = 0; i < length; i++) {\n\n\t\tvar count = rsBlock[i * 3 + 0];\n\t\tvar totalCount = rsBlock[i * 3 + 1];\n\t\tvar dataCount  = rsBlock[i * 3 + 2];\n\n\t\tfor (var j = 0; j < count; j++) {\n\t\t\tlist.push(new QRRSBlock(totalCount, dataCount) );\t\n\t\t}\n\t}\n\t\n\treturn list;\n}\n\nQRRSBlock.getRsBlockTable = function(typeNumber, errorCorrectLevel) {\n\n\tswitch(errorCorrectLevel) {\n\tcase ECL.L :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n\tcase ECL.M :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n\tcase ECL.Q :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n\tcase ECL.H :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n\tdefault :\n\t\treturn undefined;\n\t}\n}\n\nmodule.exports = QRRSBlock;\n","function QRBitBuffer() {\n\tthis.buffer = new Array();\n\tthis.length = 0;\n}\n\nQRBitBuffer.prototype = {\n\n\tget : function(index) {\n\t\tvar bufIndex = Math.floor(index / 8);\n\t\treturn ( (this.buffer[bufIndex] >>> (7 - index % 8) ) & 1) == 1;\n\t},\n\t\n\tput : function(num, length) {\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tthis.putBit( ( (num >>> (length - i - 1) ) & 1) == 1);\n\t\t}\n\t},\n\t\n\tgetLengthInBits : function() {\n\t\treturn this.length;\n\t},\n\t\n\tputBit : function(bit) {\n\t\n\t\tvar bufIndex = Math.floor(this.length / 8);\n\t\tif (this.buffer.length <= bufIndex) {\n\t\t\tthis.buffer.push(0);\n\t\t}\n\t\n\t\tif (bit) {\n\t\t\tthis.buffer[bufIndex] |= (0x80 >>> (this.length % 8) );\n\t\t}\n\t\n\t\tthis.length++;\n\t}\n};\n\nmodule.exports = QRBitBuffer;\n","var Mode = require('./mode');\nvar Polynomial = require('./Polynomial');\nvar math = require('./math');\n\nvar QRMaskPattern = {\n\tPATTERN000 : 0,\n\tPATTERN001 : 1,\n\tPATTERN010 : 2,\n\tPATTERN011 : 3,\n\tPATTERN100 : 4,\n\tPATTERN101 : 5,\n\tPATTERN110 : 6,\n\tPATTERN111 : 7\n};\n\nvar QRUtil = {\n\n    PATTERN_POSITION_TABLE : [\n\t    [],\n\t    [6, 18],\n\t    [6, 22],\n\t    [6, 26],\n\t    [6, 30],\n\t    [6, 34],\n\t    [6, 22, 38],\n\t    [6, 24, 42],\n\t    [6, 26, 46],\n\t    [6, 28, 50],\n\t    [6, 30, 54],\t\t\n\t    [6, 32, 58],\n\t    [6, 34, 62],\n\t    [6, 26, 46, 66],\n\t    [6, 26, 48, 70],\n\t    [6, 26, 50, 74],\n\t    [6, 30, 54, 78],\n\t    [6, 30, 56, 82],\n\t    [6, 30, 58, 86],\n\t    [6, 34, 62, 90],\n\t    [6, 28, 50, 72, 94],\n\t    [6, 26, 50, 74, 98],\n\t    [6, 30, 54, 78, 102],\n\t    [6, 28, 54, 80, 106],\n\t    [6, 32, 58, 84, 110],\n\t    [6, 30, 58, 86, 114],\n\t    [6, 34, 62, 90, 118],\n\t    [6, 26, 50, 74, 98, 122],\n\t    [6, 30, 54, 78, 102, 126],\n\t    [6, 26, 52, 78, 104, 130],\n\t    [6, 30, 56, 82, 108, 134],\n\t    [6, 34, 60, 86, 112, 138],\n\t    [6, 30, 58, 86, 114, 142],\n\t    [6, 34, 62, 90, 118, 146],\n\t    [6, 30, 54, 78, 102, 126, 150],\n\t    [6, 24, 50, 76, 102, 128, 154],\n\t    [6, 28, 54, 80, 106, 132, 158],\n\t    [6, 32, 58, 84, 110, 136, 162],\n\t    [6, 26, 54, 82, 110, 138, 166],\n\t    [6, 30, 58, 86, 114, 142, 170]\n    ],\n\n    G15 : (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0),\n    G18 : (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0),\n    G15_MASK : (1 << 14) | (1 << 12) | (1 << 10)\t| (1 << 4) | (1 << 1),\n\n    getBCHTypeInfo : function(data) {\n\t    var d = data << 10;\n\t    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >= 0) {\n\t\t    d ^= (QRUtil.G15 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) ) ); \t\n\t    }\n\t    return ( (data << 10) | d) ^ QRUtil.G15_MASK;\n    },\n\n    getBCHTypeNumber : function(data) {\n\t    var d = data << 12;\n\t    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >= 0) {\n\t\t    d ^= (QRUtil.G18 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) ) ); \t\n\t    }\n\t    return (data << 12) | d;\n    },\n\n    getBCHDigit : function(data) {\n\n\t    var digit = 0;\n\n\t    while (data != 0) {\n\t\t    digit++;\n\t\t    data >>>= 1;\n\t    }\n\n\t    return digit;\n    },\n\n    getPatternPosition : function(typeNumber) {\n\t    return QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1];\n    },\n\n    getMask : function(maskPattern, i, j) {\n\t    \n\t    switch (maskPattern) {\n\t\t    \n\t    case QRMaskPattern.PATTERN000 : return (i + j) % 2 == 0;\n\t    case QRMaskPattern.PATTERN001 : return i % 2 == 0;\n\t    case QRMaskPattern.PATTERN010 : return j % 3 == 0;\n\t    case QRMaskPattern.PATTERN011 : return (i + j) % 3 == 0;\n\t    case QRMaskPattern.PATTERN100 : return (Math.floor(i / 2) + Math.floor(j / 3) ) % 2 == 0;\n\t    case QRMaskPattern.PATTERN101 : return (i * j) % 2 + (i * j) % 3 == 0;\n\t    case QRMaskPattern.PATTERN110 : return ( (i * j) % 2 + (i * j) % 3) % 2 == 0;\n\t    case QRMaskPattern.PATTERN111 : return ( (i * j) % 3 + (i + j) % 2) % 2 == 0;\n\n\t    default :\n\t\t    throw new Error(\"bad maskPattern:\" + maskPattern);\n\t    }\n    },\n\n    getErrorCorrectPolynomial : function(errorCorrectLength) {\n\n\t    var a = new Polynomial([1], 0);\n\n\t    for (var i = 0; i < errorCorrectLength; i++) {\n\t\t    a = a.multiply(new Polynomial([1, math.gexp(i)], 0) );\n\t    }\n\n\t    return a;\n    },\n\n    getLengthInBits : function(mode, type) {\n\n\t    if (1 <= type && type < 10) {\n\n\t\t    // 1 - 9\n\n\t\t    switch(mode) {\n\t\t    case Mode.MODE_NUMBER \t: return 10;\n\t\t    case Mode.MODE_ALPHA_NUM \t: return 9;\n\t\t    case Mode.MODE_8BIT_BYTE\t: return 8;\n\t\t    case Mode.MODE_KANJI  \t: return 8;\n\t\t    default :\n\t\t\t    throw new Error(\"mode:\" + mode);\n\t\t    }\n\n\t    } else if (type < 27) {\n\n\t\t    // 10 - 26\n\n\t\t    switch(mode) {\n\t\t    case Mode.MODE_NUMBER \t: return 12;\n\t\t    case Mode.MODE_ALPHA_NUM \t: return 11;\n\t\t    case Mode.MODE_8BIT_BYTE\t: return 16;\n\t\t    case Mode.MODE_KANJI  \t: return 10;\n\t\t    default :\n\t\t\t    throw new Error(\"mode:\" + mode);\n\t\t    }\n\n\t    } else if (type < 41) {\n\n\t\t    // 27 - 40\n\n\t\t    switch(mode) {\n\t\t    case Mode.MODE_NUMBER \t: return 14;\n\t\t    case Mode.MODE_ALPHA_NUM\t: return 13;\n\t\t    case Mode.MODE_8BIT_BYTE\t: return 16;\n\t\t    case Mode.MODE_KANJI  \t: return 12;\n\t\t    default :\n\t\t\t    throw new Error(\"mode:\" + mode);\n\t\t    }\n\n\t    } else {\n\t\t    throw new Error(\"type:\" + type);\n\t    }\n    },\n\n    getLostPoint : function(qrCode) {\n\t    \n\t    var moduleCount = qrCode.getModuleCount();\n\t    \n\t    var lostPoint = 0;\n\t    \n\t    // LEVEL1\n\t    \n\t    for (var row = 0; row < moduleCount; row++) {\n\n\t\t    for (var col = 0; col < moduleCount; col++) {\n\n\t\t\t    var sameCount = 0;\n\t\t\t    var dark = qrCode.isDark(row, col);\n\n\t\t\t\tfor (var r = -1; r <= 1; r++) {\n\n\t\t\t\t    if (row + r < 0 || moduleCount <= row + r) {\n\t\t\t\t\t    continue;\n\t\t\t\t    }\n\n\t\t\t\t    for (var c = -1; c <= 1; c++) {\n\n\t\t\t\t\t    if (col + c < 0 || moduleCount <= col + c) {\n\t\t\t\t\t\t    continue;\n\t\t\t\t\t    }\n\n\t\t\t\t\t    if (r == 0 && c == 0) {\n\t\t\t\t\t\t    continue;\n\t\t\t\t\t    }\n\n\t\t\t\t\t    if (dark == qrCode.isDark(row + r, col + c) ) {\n\t\t\t\t\t\t    sameCount++;\n\t\t\t\t\t    }\n\t\t\t\t    }\n\t\t\t    }\n\n\t\t\t    if (sameCount > 5) {\n\t\t\t\t    lostPoint += (3 + sameCount - 5);\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    // LEVEL2\n\n\t    for (var row = 0; row < moduleCount - 1; row++) {\n\t\t    for (var col = 0; col < moduleCount - 1; col++) {\n\t\t\t    var count = 0;\n\t\t\t    if (qrCode.isDark(row,     col    ) ) count++;\n\t\t\t    if (qrCode.isDark(row + 1, col    ) ) count++;\n\t\t\t    if (qrCode.isDark(row,     col + 1) ) count++;\n\t\t\t    if (qrCode.isDark(row + 1, col + 1) ) count++;\n\t\t\t    if (count == 0 || count == 4) {\n\t\t\t\t    lostPoint += 3;\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    // LEVEL3\n\n\t    for (var row = 0; row < moduleCount; row++) {\n\t\t    for (var col = 0; col < moduleCount - 6; col++) {\n\t\t\t    if (qrCode.isDark(row, col)\n\t\t\t\t\t    && !qrCode.isDark(row, col + 1)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 2)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 3)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 4)\n\t\t\t\t\t    && !qrCode.isDark(row, col + 5)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 6) ) {\n\t\t\t\t    lostPoint += 40;\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    for (var col = 0; col < moduleCount; col++) {\n\t\t    for (var row = 0; row < moduleCount - 6; row++) {\n\t\t\t    if (qrCode.isDark(row, col)\n\t\t\t\t\t    && !qrCode.isDark(row + 1, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 2, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 3, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 4, col)\n\t\t\t\t\t    && !qrCode.isDark(row + 5, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 6, col) ) {\n\t\t\t\t    lostPoint += 40;\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    // LEVEL4\n\t    \n\t    var darkCount = 0;\n\n\t    for (var col = 0; col < moduleCount; col++) {\n\t\t    for (var row = 0; row < moduleCount; row++) {\n\t\t\t    if (qrCode.isDark(row, col) ) {\n\t\t\t\t    darkCount++;\n\t\t\t    }\n\t\t    }\n\t    }\n\t    \n\t    var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n\t    lostPoint += ratio * 10;\n\n\t    return lostPoint;\t\t\n    }\n};\n\nmodule.exports = QRUtil;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar isSafari = exports.isSafari = function isSafari() {\n  return (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)\n  );\n};\n\nvar isJsons = exports.isJsons = function isJsons(array) {\n  return Array.isArray(array) && array.every(function (row) {\n    return (typeof row === \"undefined\" ? \"undefined\" : _typeof(row)) === 'object' && !(row instanceof Array);\n  });\n};\n\nvar isArrays = exports.isArrays = function isArrays(array) {\n  return Array.isArray(array) && array.every(function (row) {\n    return Array.isArray(row);\n  });\n};\n\nvar jsonsHeaders = exports.jsonsHeaders = function jsonsHeaders(array) {\n  return Array.from(array.map(function (json) {\n    return Object.keys(json);\n  }).reduce(function (a, b) {\n    return new Set([].concat(_toConsumableArray(a), _toConsumableArray(b)));\n  }, []));\n};\n\nvar jsons2arrays = exports.jsons2arrays = function jsons2arrays(jsons, headers) {\n  headers = headers || jsonsHeaders(jsons);\n\n  var headerLabels = headers;\n  var headerKeys = headers;\n  if (isJsons(headers)) {\n    headerLabels = headers.map(function (header) {\n      return header.label;\n    });\n    headerKeys = headers.map(function (header) {\n      return header.key;\n    });\n  }\n\n  var data = jsons.map(function (object) {\n    return headerKeys.map(function (header) {\n      return getHeaderValue(header, object);\n    });\n  });\n  return [headerLabels].concat(_toConsumableArray(data));\n};\n\nvar getHeaderValue = exports.getHeaderValue = function getHeaderValue(property, obj) {\n  var foundValue = property.replace(/\\[([^\\]]+)]/g, \".$1\").split(\".\").reduce(function (o, p, i, arr) {\n    var value = o[p];\n    if (value === undefined || value === null) {\n      arr.splice(1);\n    } else {\n      return value;\n    }\n  }, obj);\n\n  return foundValue === undefined ? property in obj ? obj[property] : '' : foundValue;\n};\n\nvar elementOrEmpty = exports.elementOrEmpty = function elementOrEmpty(element) {\n  return typeof element === 'undefined' || element === null ? '' : element;\n};\n\nvar joiner = exports.joiner = function joiner(data) {\n  var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ',';\n  var enclosingCharacter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '\"';\n\n  return data.filter(function (e) {\n    return e;\n  }).map(function (row) {\n    return row.map(function (element) {\n      return elementOrEmpty(element);\n    }).map(function (column) {\n      return \"\" + enclosingCharacter + column + enclosingCharacter;\n    }).join(separator);\n  }).join(\"\\n\");\n};\n\nvar arrays2csv = exports.arrays2csv = function arrays2csv(data, headers, separator, enclosingCharacter) {\n  return joiner(headers ? [headers].concat(_toConsumableArray(data)) : data, separator, enclosingCharacter);\n};\n\nvar jsons2csv = exports.jsons2csv = function jsons2csv(data, headers, separator, enclosingCharacter) {\n  return joiner(jsons2arrays(data, headers), separator, enclosingCharacter);\n};\n\nvar string2csv = exports.string2csv = function string2csv(data, headers, separator, enclosingCharacter) {\n  return headers ? headers.join(separator) + \"\\n\" + data : data.replace(/\"/g, '\"\"');\n};\n\nvar toCSV = exports.toCSV = function toCSV(data, headers, separator, enclosingCharacter) {\n  if (isJsons(data)) return jsons2csv(data, headers, separator, enclosingCharacter);\n  if (isArrays(data)) return arrays2csv(data, headers, separator, enclosingCharacter);\n  if (typeof data === 'string') return string2csv(data, headers, separator);\n  throw new TypeError(\"Data should be a \\\"String\\\", \\\"Array of arrays\\\" OR \\\"Array of objects\\\" \");\n};\n\nvar buildURI = exports.buildURI = function buildURI(data, uFEFF, headers, separator, enclosingCharacter) {\n  var csv = toCSV(data, headers, separator, enclosingCharacter);\n  var type = isSafari() ? 'application/csv' : 'text/csv';\n  var blob = new Blob([uFEFF ? \"\\uFEFF\" : '', csv], { type: type });\n  var dataURI = \"data:\" + type + \";charset=utf-8,\" + (uFEFF ? \"\\uFEFF\" : '') + csv;\n\n  var URL = window.URL || window.webkitURL;\n\n  return typeof URL.createObjectURL === 'undefined' ? dataURI : URL.createObjectURL(blob);\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PropsNotForwarded = exports.defaultProps = exports.propTypes = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar propTypes = exports.propTypes = {\n  data: (0, _propTypes.oneOfType)([_propTypes.string, _propTypes.array, _propTypes.func]).isRequired,\n  headers: _propTypes.array,\n  target: _propTypes.string,\n  separator: _propTypes.string,\n  filename: _propTypes.string,\n  uFEFF: _propTypes.bool,\n  onClick: _propTypes.func,\n  asyncOnClick: _propTypes.bool,\n  enclosingCharacter: _propTypes.string\n};\n\nvar defaultProps = exports.defaultProps = {\n  separator: ',',\n  filename: 'generatedBy_react-csv.csv',\n  uFEFF: true,\n  asyncOnClick: false,\n  enclosingCharacter: '\"'\n};\n\nvar PropsNotForwarded = exports.PropsNotForwarded = ['data', 'headers'];","module.exports = require('./lib/index.js');\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CSVLink = exports.CSVDownload = undefined;\n\nvar _Download = require('./components/Download');\n\nvar _Download2 = _interopRequireDefault(_Download);\n\nvar _Link = require('./components/Link');\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CSVDownload = exports.CSVDownload = _Download2.default;\nvar CSVLink = exports.CSVLink = _Link2.default;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _core = require('../core');\n\nvar _metaProps = require('../metaProps');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar defaultProps = {\n  target: '_blank'\n};\n\nvar CSVDownload = function (_React$Component) {\n  _inherits(CSVDownload, _React$Component);\n\n  function CSVDownload(props) {\n    _classCallCheck(this, CSVDownload);\n\n    var _this = _possibleConstructorReturn(this, (CSVDownload.__proto__ || Object.getPrototypeOf(CSVDownload)).call(this, props));\n\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(CSVDownload, [{\n    key: 'buildURI',\n    value: function buildURI() {\n      return _core.buildURI.apply(undefined, arguments);\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          data = _props.data,\n          headers = _props.headers,\n          separator = _props.separator,\n          enclosingCharacter = _props.enclosingCharacter,\n          uFEFF = _props.uFEFF,\n          target = _props.target,\n          specs = _props.specs,\n          replace = _props.replace;\n\n      this.state.page = window.open(this.buildURI(data, uFEFF, headers, separator, enclosingCharacter), target, specs, replace);\n    }\n  }, {\n    key: 'getWindow',\n    value: function getWindow() {\n      return this.state.page;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return CSVDownload;\n}(_react2.default.Component);\n\nCSVDownload.defaultProps = Object.assign(_metaProps.defaultProps, defaultProps);\nCSVDownload.propTypes = _metaProps.propTypes;\nexports.default = CSVDownload;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _core = require('../core');\n\nvar _metaProps = require('../metaProps');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CSVLink = function (_React$Component) {\n  _inherits(CSVLink, _React$Component);\n\n  function CSVLink(props) {\n    _classCallCheck(this, CSVLink);\n\n    var _this = _possibleConstructorReturn(this, (CSVLink.__proto__ || Object.getPrototypeOf(CSVLink)).call(this, props));\n\n    _this.buildURI = _this.buildURI.bind(_this);\n    return _this;\n  }\n\n  _createClass(CSVLink, [{\n    key: 'buildURI',\n    value: function buildURI() {\n      return _core.buildURI.apply(undefined, arguments);\n    }\n  }, {\n    key: 'handleLegacy',\n    value: function handleLegacy(event) {\n      var isAsync = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (window.navigator.msSaveOrOpenBlob) {\n        event.preventDefault();\n\n        var _props = this.props,\n            data = _props.data,\n            headers = _props.headers,\n            separator = _props.separator,\n            filename = _props.filename,\n            enclosingCharacter = _props.enclosingCharacter,\n            uFEFF = _props.uFEFF;\n\n\n        var csvData = isAsync && typeof data === 'function' ? data() : data;\n\n        var blob = new Blob([uFEFF ? '\\uFEFF' : '', (0, _core.toCSV)(csvData, headers, separator, enclosingCharacter)]);\n        window.navigator.msSaveBlob(blob, filename);\n\n        return false;\n      }\n    }\n  }, {\n    key: 'handleAsyncClick',\n    value: function handleAsyncClick(event) {\n      var _this2 = this;\n\n      var done = function done(proceed) {\n        if (proceed === false) {\n          event.preventDefault();\n          return;\n        }\n        _this2.handleLegacy(event, true);\n      };\n\n      this.props.onClick(event, done);\n    }\n  }, {\n    key: 'handleSyncClick',\n    value: function handleSyncClick(event) {\n      var stopEvent = this.props.onClick(event) === false;\n      if (stopEvent) {\n        event.preventDefault();\n        return;\n      }\n      this.handleLegacy(event);\n    }\n  }, {\n    key: 'handleClick',\n    value: function handleClick() {\n      var _this3 = this;\n\n      return function (event) {\n        if (typeof _this3.props.onClick === 'function') {\n          return _this3.props.asyncOnClick ? _this3.handleAsyncClick(event) : _this3.handleSyncClick(event);\n        }\n        _this3.handleLegacy(event);\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _props2 = this.props,\n          data = _props2.data,\n          headers = _props2.headers,\n          separator = _props2.separator,\n          filename = _props2.filename,\n          uFEFF = _props2.uFEFF,\n          children = _props2.children,\n          onClick = _props2.onClick,\n          asyncOnClick = _props2.asyncOnClick,\n          enclosingCharacter = _props2.enclosingCharacter,\n          rest = _objectWithoutProperties(_props2, ['data', 'headers', 'separator', 'filename', 'uFEFF', 'children', 'onClick', 'asyncOnClick', 'enclosingCharacter']);\n\n      var isNodeEnvironment = typeof window === 'undefined';\n      var href = isNodeEnvironment ? '' : this.buildURI(data, uFEFF, headers, separator, enclosingCharacter);\n\n      return _react2.default.createElement(\n        'a',\n        _extends({\n          download: filename\n        }, rest, {\n          ref: function ref(link) {\n            return _this4.link = link;\n          },\n          target: '_self',\n          href: href,\n          onClick: this.handleClick()\n        }),\n        children\n      );\n    }\n  }]);\n\n  return CSVLink;\n}(_react2.default.Component);\n\nCSVLink.defaultProps = _metaProps.defaultProps;\nCSVLink.propTypes = _metaProps.propTypes;\nexports.default = CSVLink;"],"sourceRoot":""}